{"version":3,"file":"bundle.js","sources":["../../node_modules/events/events.js","../../node_modules/sharedb/lib/emitter.js","../../node_modules/make-error/index.js","../../node_modules/sharedb/lib/error.js","../../node_modules/ot-json0/lib/bootstrapTransform.js","../../node_modules/ot-json0/lib/text0.js","../../node_modules/ot-json0/lib/json0.js","../../node_modules/ot-json0/lib/index.js","../../node_modules/sharedb/lib/types.js","../../node_modules/sharedb/lib/client/doc.js","../../node_modules/sharedb/lib/client/query.js","../../node_modules/sharedb/lib/snapshot.js","../../node_modules/sharedb/lib/util.js","../../node_modules/sharedb/lib/client/snapshot-request.js","../../node_modules/sharedb/lib/client/connection.js","../../node_modules/sharedb/lib/client/index.js","../../node_modules/reconnecting-websocket/dist/reconnecting-websocket.mjs","../../../codemirror-6-prerelease/node_modules/w3c-keyname/index.js","../../../codemirror-6-prerelease/dist/codemirror.js","../../../codemirror-ot/dist/codemirror-ot.js","../client/process.ts","../client/historyKeymap.ts","../client/indentationKeymap.ts","../isomorphic/isBrowser.ts","../isomorphic/demoView.ts","../isomorphic/hydrateEditor.ts","../../node_modules/style-inject/dist/style-inject.es.js","../client/index.ts"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","var EventEmitter = require('events').EventEmitter;\n\nexports.EventEmitter = EventEmitter;\nexports.mixin = mixin;\n\nfunction mixin(Constructor) {\n  for (var key in EventEmitter.prototype) {\n    Constructor.prototype[key] = EventEmitter.prototype[key];\n  }\n}\n","// ISC @ Julien Fontanet\n\n'use strict'\n\n// ===================================================================\n\nvar construct = typeof Reflect !== 'undefined' ? Reflect.construct : undefined\nvar defineProperty = Object.defineProperty\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace (error) {\n    var container = new Error()\n\n    defineProperty(error, 'stack', {\n      configurable: true,\n      get: function getStack () {\n        var stack = container.stack\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, 'stack', {\n          configurable: true,\n          value: stack,\n          writable: true\n        })\n\n        return stack\n      },\n      set: function setStack (stack) {\n        defineProperty(error, 'stack', {\n          configurable: true,\n          value: stack,\n          writable: true\n        })\n      }\n    })\n  }\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError (message) {\n  if (message !== undefined) {\n    defineProperty(this, 'message', {\n      configurable: true,\n      value: message,\n      writable: true\n    })\n  }\n\n  var cname = this.constructor.name\n  if (\n    cname !== undefined &&\n    cname !== this.name\n  ) {\n    defineProperty(this, 'name', {\n      configurable: true,\n      value: cname,\n      writable: true\n    })\n  }\n\n  captureStackTrace(this, this.constructor)\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true\n  }\n})\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function () {\n  function setFunctionName (fn, name) {\n    return defineProperty(fn, 'name', {\n      configurable: true,\n      value: name\n    })\n  }\n  try {\n    var f = function () {}\n    setFunctionName(f, 'foo')\n    if (f.name === 'foo') {\n      return setFunctionName\n    }\n  } catch (_) {}\n})()\n\n// -------------------------------------------------------------------\n\nfunction makeError (constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError\n  } else if (typeof super_ !== 'function') {\n    throw new TypeError('super_ should be a function')\n  }\n\n  var name\n  if (typeof constructor === 'string') {\n    name = constructor\n    constructor = construct !== undefined\n      ? function () { return construct(super_, arguments, this.constructor) }\n      : function () { super_.apply(this, arguments) }\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name)\n      name = undefined\n    }\n  } else if (typeof constructor !== 'function') {\n    throw new TypeError('constructor should be either a string or a function')\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  constructor.super_ = constructor['super'] = super_\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true\n    }\n  }\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true\n    }\n  }\n  constructor.prototype = Object.create(super_.prototype, properties)\n\n  return constructor\n}\nexports = module.exports = makeError\nexports.BaseError = BaseError\n","var makeError = require('make-error');\n\nfunction ShareDBError(code, message) {\n  ShareDBError.super.call(this, message);\n  this.code = code;\n}\n\nmakeError(ShareDBError);\n\nmodule.exports = ShareDBError;\n","// These methods let you build a transform function from a transformComponent\n// function for OT types like JSON0 in which operations are lists of components\n// and transforming them requires N^2 work. I find it kind of nasty that I need\n// this, but I'm not really sure what a better solution is. Maybe I should do\n// this automatically to types that don't have a compose function defined.\n\n// Add transform and transformX functions for an OT type which has\n// transformComponent defined.  transformComponent(destination array,\n// component, other component, side)\nmodule.exports = bootstrapTransform\nfunction bootstrapTransform(type, transformComponent, checkValidOp, append) {\n  var transformComponentX = function(left, right, destLeft, destRight) {\n    transformComponent(destLeft, left, right, 'left');\n    transformComponent(destRight, right, left, 'right');\n  };\n\n  var transformX = type.transformX = function(leftOp, rightOp) {\n    checkValidOp(leftOp);\n    checkValidOp(rightOp);\n    var newRightOp = [];\n\n    for (var i = 0; i < rightOp.length; i++) {\n      var rightComponent = rightOp[i];\n\n      // Generate newLeftOp by composing leftOp by rightComponent\n      var newLeftOp = [];\n      var k = 0;\n      while (k < leftOp.length) {\n        var nextC = [];\n        transformComponentX(leftOp[k], rightComponent, newLeftOp, nextC);\n        k++;\n\n        if (nextC.length === 1) {\n          rightComponent = nextC[0];\n        } else if (nextC.length === 0) {\n          for (var j = k; j < leftOp.length; j++) {\n            append(newLeftOp, leftOp[j]);\n          }\n          rightComponent = null;\n          break;\n        } else {\n          // Recurse.\n          var pair = transformX(leftOp.slice(k), nextC);\n          for (var l = 0; l < pair[0].length; l++) {\n            append(newLeftOp, pair[0][l]);\n          }\n          for (var r = 0; r < pair[1].length; r++) {\n            append(newRightOp, pair[1][r]);\n          }\n          rightComponent = null;\n          break;\n        }\n      }\n\n      if (rightComponent != null) {\n        append(newRightOp, rightComponent);\n      }\n      leftOp = newLeftOp;\n    }\n    return [leftOp, newRightOp];\n  };\n\n  // Transforms op with specified type ('left' or 'right') by otherOp.\n  type.transform = function(op, otherOp, type) {\n    if (!(type === 'left' || type === 'right'))\n      throw new Error(\"type must be 'left' or 'right'\");\n\n    if (otherOp.length === 0) return op;\n\n    if (op.length === 1 && otherOp.length === 1)\n      return transformComponent([], op[0], otherOp[0], type);\n\n    if (type === 'left')\n      return transformX(op, otherOp)[0];\n    else\n      return transformX(otherOp, op)[1];\n  };\n};\n","// DEPRECATED!\n//\n// This type works, but is not exported. Its included here because the JSON0\n// embedded string operations use this library.\n\n\n// A simple text implementation\n//\n// Operations are lists of components. Each component either inserts or deletes\n// at a specified position in the document.\n//\n// Components are either:\n//  {i:'str', p:100}: Insert 'str' at position 100 in the document\n//  {d:'str', p:100}: Delete 'str' at position 100 in the document\n//\n// Components in an operation are executed sequentially, so the position of components\n// assumes previous components have already executed.\n//\n// Eg: This op:\n//   [{i:'abc', p:0}]\n// is equivalent to this op:\n//   [{i:'a', p:0}, {i:'b', p:1}, {i:'c', p:2}]\n\nvar text = module.exports = {\n  name: 'text0',\n  uri: 'http://sharejs.org/types/textv0',\n  create: function(initial) {\n    if ((initial != null) && typeof initial !== 'string') {\n      throw new Error('Initial data must be a string');\n    }\n    return initial || '';\n  }\n};\n\n/** Insert s2 into s1 at pos. */\nvar strInject = function(s1, pos, s2) {\n  return s1.slice(0, pos) + s2 + s1.slice(pos);\n};\n\n/** Check that an operation component is valid. Throws if its invalid. */\nvar checkValidComponent = function(c) {\n  if (typeof c.p !== 'number')\n    throw new Error('component missing position field');\n\n  if ((typeof c.i === 'string') === (typeof c.d === 'string'))\n    throw new Error('component needs an i or d field');\n\n  if (c.p < 0)\n    throw new Error('position cannot be negative');\n};\n\n/** Check that an operation is valid */\nvar checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    checkValidComponent(op[i]);\n  }\n};\n\n/** Apply op to snapshot */\ntext.apply = function(snapshot, op) {\n  var deleted;\n\n  checkValidOp(op);\n  for (var i = 0; i < op.length; i++) {\n    var component = op[i];\n    if (component.i != null) {\n      snapshot = strInject(snapshot, component.p, component.i);\n    } else {\n      deleted = snapshot.slice(component.p, component.p + component.d.length);\n      if (component.d !== deleted)\n        throw new Error(\"Delete component '\" + component.d + \"' does not match deleted text '\" + deleted + \"'\");\n\n      snapshot = snapshot.slice(0, component.p) + snapshot.slice(component.p + component.d.length);\n    }\n  }\n  return snapshot;\n};\n\n/**\n * Append a component to the end of newOp. Exported for use by the random op\n * generator and the JSON0 type.\n */\nvar append = text._append = function(newOp, c) {\n  if (c.i === '' || c.d === '') return;\n\n  if (newOp.length === 0) {\n    newOp.push(c);\n  } else {\n    var last = newOp[newOp.length - 1];\n\n    if (last.i != null && c.i != null && last.p <= c.p && c.p <= last.p + last.i.length) {\n      // Compose the insert into the previous insert\n      newOp[newOp.length - 1] = {i:strInject(last.i, c.p - last.p, c.i), p:last.p};\n\n    } else if (last.d != null && c.d != null && c.p <= last.p && last.p <= c.p + c.d.length) {\n      // Compose the deletes together\n      newOp[newOp.length - 1] = {d:strInject(c.d, last.p - c.p, last.d), p:c.p};\n\n    } else {\n      newOp.push(c);\n    }\n  }\n};\n\n/** Compose op1 and op2 together */\ntext.compose = function(op1, op2) {\n  checkValidOp(op1);\n  checkValidOp(op2);\n  var newOp = op1.slice();\n  for (var i = 0; i < op2.length; i++) {\n    append(newOp, op2[i]);\n  }\n  return newOp;\n};\n\n/** Clean up an op */\ntext.normalize = function(op) {\n  var newOp = [];\n\n  // Normalize should allow ops which are a single (unwrapped) component:\n  // {i:'asdf', p:23}.\n  // There's no good way to test if something is an array:\n  // http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/\n  // so this is probably the least bad solution.\n  if (op.i != null || op.p != null) op = [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = 0;\n\n    append(newOp, c);\n  }\n\n  return newOp;\n};\n\n// This helper method transforms a position by an op component.\n//\n// If c is an insert, insertAfter specifies whether the transform\n// is pushed after the insert (true) or before it (false).\n//\n// insertAfter is optional for deletes.\nvar transformPosition = function(pos, c, insertAfter) {\n  // This will get collapsed into a giant ternary by uglify.\n  if (c.i != null) {\n    if (c.p < pos || (c.p === pos && insertAfter)) {\n      return pos + c.i.length;\n    } else {\n      return pos;\n    }\n  } else {\n    // I think this could also be written as: Math.min(c.p, Math.min(c.p -\n    // otherC.p, otherC.d.length)) but I think its harder to read that way, and\n    // it compiles using ternary operators anyway so its no slower written like\n    // this.\n    if (pos <= c.p) {\n      return pos;\n    } else if (pos <= c.p + c.d.length) {\n      return c.p;\n    } else {\n      return pos - c.d.length;\n    }\n  }\n};\n\n// Helper method to transform a cursor position as a result of an op.\n//\n// Like transformPosition above, if c is an insert, insertAfter specifies\n// whether the cursor position is pushed after an insert (true) or before it\n// (false).\ntext.transformCursor = function(position, op, side) {\n  var insertAfter = side === 'right';\n  for (var i = 0; i < op.length; i++) {\n    position = transformPosition(position, op[i], insertAfter);\n  }\n\n  return position;\n};\n\n// Transform an op component by another op component. Asymmetric.\n// The result will be appended to destination.\n//\n// exported for use in JSON type\nvar transformComponent = text._tc = function(dest, c, otherC, side) {\n  //var cIntersect, intersectEnd, intersectStart, newC, otherIntersect, s;\n\n  checkValidComponent(c);\n  checkValidComponent(otherC);\n\n  if (c.i != null) {\n    // Insert.\n    append(dest, {i:c.i, p:transformPosition(c.p, otherC, side === 'right')});\n  } else {\n    // Delete\n    if (otherC.i != null) {\n      // Delete vs insert\n      var s = c.d;\n      if (c.p < otherC.p) {\n        append(dest, {d:s.slice(0, otherC.p - c.p), p:c.p});\n        s = s.slice(otherC.p - c.p);\n      }\n      if (s !== '')\n        append(dest, {d: s, p: c.p + otherC.i.length});\n\n    } else {\n      // Delete vs delete\n      if (c.p >= otherC.p + otherC.d.length)\n        append(dest, {d: c.d, p: c.p - otherC.d.length});\n      else if (c.p + c.d.length <= otherC.p)\n        append(dest, c);\n      else {\n        // They overlap somewhere.\n        var newC = {d: '', p: c.p};\n\n        if (c.p < otherC.p)\n          newC.d = c.d.slice(0, otherC.p - c.p);\n\n        if (c.p + c.d.length > otherC.p + otherC.d.length)\n          newC.d += c.d.slice(otherC.p + otherC.d.length - c.p);\n\n        // This is entirely optional - I'm just checking the deleted text in\n        // the two ops matches\n        var intersectStart = Math.max(c.p, otherC.p);\n        var intersectEnd = Math.min(c.p + c.d.length, otherC.p + otherC.d.length);\n        var cIntersect = c.d.slice(intersectStart - c.p, intersectEnd - c.p);\n        var otherIntersect = otherC.d.slice(intersectStart - otherC.p, intersectEnd - otherC.p);\n        if (cIntersect !== otherIntersect)\n          throw new Error('Delete ops delete different text in the same region of the document');\n\n        if (newC.d !== '') {\n          newC.p = transformPosition(newC.p, otherC);\n          append(dest, newC);\n        }\n      }\n    }\n  }\n\n  return dest;\n};\n\nvar invertComponent = function(c) {\n  return (c.i != null) ? {d:c.i, p:c.p} : {i:c.d, p:c.p};\n};\n\n// No need to use append for invert, because the components won't be able to\n// cancel one another.\ntext.invert = function(op) {\n  // Shallow copy & reverse that sucka.\n  op = op.slice().reverse();\n  for (var i = 0; i < op.length; i++) {\n    op[i] = invertComponent(op[i]);\n  }\n  return op;\n};\n\nrequire('./bootstrapTransform')(text, transformComponent, checkValidOp, append);\n","/*\n This is the implementation of the JSON OT type.\n\n Spec is here: https://github.com/josephg/ShareJS/wiki/JSON-Operations\n\n Note: This is being made obsolete. It will soon be replaced by the JSON2 type.\n*/\n\n/**\n * UTILITY FUNCTIONS\n */\n\n/**\n * Checks if the passed object is an Array instance. Can't use Array.isArray\n * yet because its not supported on IE8.\n *\n * @param obj\n * @returns {boolean}\n */\nvar isArray = function(obj) {\n  return Object.prototype.toString.call(obj) == '[object Array]';\n};\n\n/**\n * Checks if the passed object is an Object instance.\n * No function call (fast) version\n *\n * @param obj\n * @returns {boolean}\n */\nvar isObject = function(obj) {\n  return (!!obj) && (obj.constructor === Object);\n};\n\n/**\n * Clones the passed object using JSON serialization (which is slow).\n *\n * hax, copied from test/types/json. Apparently this is still the fastest way\n * to deep clone an object, assuming we have browser support for JSON.  @see\n * http://jsperf.com/cloning-an-object/12\n */\nvar clone = function(o) {\n  return JSON.parse(JSON.stringify(o));\n};\n\n/**\n * JSON OT Type\n * @type {*}\n */\nvar json = {\n  name: 'json0',\n  uri: 'http://sharejs.org/types/JSONv0'\n};\n\n// You can register another OT type as a subtype in a JSON document using\n// the following function. This allows another type to handle certain\n// operations instead of the builtin JSON type.\nvar subtypes = {};\njson.registerSubtype = function(subtype) {\n  subtypes[subtype.name] = subtype;\n};\n\njson.create = function(data) {\n  // Null instead of undefined if you don't pass an argument.\n  return data === undefined ? null : clone(data);\n};\n\njson.invertComponent = function(c) {\n  var c_ = {p: c.p};\n\n  // handle subtype ops\n  if (c.t && subtypes[c.t]) {\n    c_.t = c.t;\n    c_.o = subtypes[c.t].invert(c.o);\n  }\n\n  if (c.si !== void 0) c_.sd = c.si;\n  if (c.sd !== void 0) c_.si = c.sd;\n  if (c.oi !== void 0) c_.od = c.oi;\n  if (c.od !== void 0) c_.oi = c.od;\n  if (c.li !== void 0) c_.ld = c.li;\n  if (c.ld !== void 0) c_.li = c.ld;\n  if (c.na !== void 0) c_.na = -c.na;\n\n  if (c.lm !== void 0) {\n    c_.lm = c.p[c.p.length-1];\n    c_.p = c.p.slice(0,c.p.length-1).concat([c.lm]);\n  }\n\n  return c_;\n};\n\njson.invert = function(op) {\n  var op_ = op.slice().reverse();\n  var iop = [];\n  for (var i = 0; i < op_.length; i++) {\n    iop.push(json.invertComponent(op_[i]));\n  }\n  return iop;\n};\n\njson.checkValidOp = function(op) {\n  for (var i = 0; i < op.length; i++) {\n    if (!isArray(op[i].p)) throw new Error('Missing path');\n  }\n};\n\njson.checkList = function(elem) {\n  if (!isArray(elem))\n    throw new Error('Referenced element not a list');\n};\n\njson.checkObj = function(elem) {\n  if (!isObject(elem)) {\n    throw new Error(\"Referenced element not an object (it was \" + JSON.stringify(elem) + \")\");\n  }\n};\n\n// helper functions to convert old string ops to and from subtype ops\nfunction convertFromText(c) {\n  c.t = 'text0';\n  var o = {p: c.p.pop()};\n  if (c.si != null) o.i = c.si;\n  if (c.sd != null) o.d = c.sd;\n  c.o = [o];\n}\n\nfunction convertToText(c) {\n  c.p.push(c.o[0].p);\n  if (c.o[0].i != null) c.si = c.o[0].i;\n  if (c.o[0].d != null) c.sd = c.o[0].d;\n  delete c.t;\n  delete c.o;\n}\n\njson.apply = function(snapshot, op) {\n  json.checkValidOp(op);\n\n  op = clone(op);\n\n  var container = {\n    data: snapshot\n  };\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n\n    // convert old string ops to use subtype for backwards compatibility\n    if (c.si != null || c.sd != null)\n      convertFromText(c);\n\n    var parent = null;\n    var parentKey = null;\n    var elem = container;\n    var key = 'data';\n\n    for (var j = 0; j < c.p.length; j++) {\n      var p = c.p[j];\n\n      parent = elem;\n      parentKey = key;\n      elem = elem[key];\n      key = p;\n\n      if (parent == null)\n        throw new Error('Path invalid');\n    }\n\n    // handle subtype ops\n    if (c.t && c.o !== void 0 && subtypes[c.t]) {\n      elem[key] = subtypes[c.t].apply(elem[key], c.o);\n\n    // Number add\n    } else if (c.na !== void 0) {\n      if (typeof elem[key] != 'number')\n        throw new Error('Referenced element not a number');\n\n      elem[key] += c.na;\n    }\n\n    // List replace\n    else if (c.li !== void 0 && c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld\n      elem[key] = c.li;\n    }\n\n    // List insert\n    else if (c.li !== void 0) {\n      json.checkList(elem);\n      elem.splice(key,0, c.li);\n    }\n\n    // List delete\n    else if (c.ld !== void 0) {\n      json.checkList(elem);\n      // Should check the list element matches c.ld here too.\n      elem.splice(key,1);\n    }\n\n    // List move\n    else if (c.lm !== void 0) {\n      json.checkList(elem);\n      if (c.lm != key) {\n        var e = elem[key];\n        // Remove it...\n        elem.splice(key,1);\n        // And insert it back.\n        elem.splice(c.lm,0,e);\n      }\n    }\n\n    // Object insert / replace\n    else if (c.oi !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      elem[key] = c.oi;\n    }\n\n    // Object delete\n    else if (c.od !== void 0) {\n      json.checkObj(elem);\n\n      // Should check that elem[key] == c.od\n      delete elem[key];\n    }\n\n    else {\n      throw new Error('invalid / missing instruction in op');\n    }\n  }\n\n  return container.data;\n};\n\n// Helper to break an operation up into a bunch of small ops.\njson.shatter = function(op) {\n  var results = [];\n  for (var i = 0; i < op.length; i++) {\n    results.push([op[i]]);\n  }\n  return results;\n};\n\n// Helper for incrementally applying an operation to a snapshot. Calls yield\n// after each op component has been applied.\njson.incrementalApply = function(snapshot, op, _yield) {\n  for (var i = 0; i < op.length; i++) {\n    var smallOp = [op[i]];\n    snapshot = json.apply(snapshot, smallOp);\n    // I'd just call this yield, but thats a reserved keyword. Bah!\n    _yield(smallOp, snapshot);\n  }\n\n  return snapshot;\n};\n\n// Checks if two paths, p1 and p2 match.\nvar pathMatches = json.pathMatches = function(p1, p2, ignoreLast) {\n  if (p1.length != p2.length)\n    return false;\n\n  for (var i = 0; i < p1.length; i++) {\n    if (p1[i] !== p2[i] && (!ignoreLast || i !== p1.length - 1))\n      return false;\n  }\n\n  return true;\n};\n\njson.append = function(dest,c) {\n  c = clone(c);\n\n  if (dest.length === 0) {\n    dest.push(c);\n    return;\n  }\n\n  var last = dest[dest.length - 1];\n\n  // convert old string ops to use subtype for backwards compatibility\n  if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n    convertFromText(c);\n    convertFromText(last);\n  }\n\n  if (pathMatches(c.p, last.p)) {\n    // handle subtype ops\n    if (c.t && last.t && c.t === last.t && subtypes[c.t]) {\n      last.o = subtypes[c.t].compose(last.o, c.o);\n\n      // convert back to old string ops\n      if (c.si != null || c.sd != null) {\n        var p = c.p;\n        for (var i = 0; i < last.o.length - 1; i++) {\n          c.o = [last.o.pop()];\n          c.p = p.slice();\n          convertToText(c);\n          dest.push(c);\n        }\n\n        convertToText(last);\n      }\n    } else if (last.na != null && c.na != null) {\n      dest[dest.length - 1] = {p: last.p, na: last.na + c.na};\n    } else if (last.li !== undefined && c.li === undefined && c.ld === last.li) {\n      // insert immediately followed by delete becomes a noop.\n      if (last.ld !== undefined) {\n        // leave the delete part of the replace\n        delete last.li;\n      } else {\n        dest.pop();\n      }\n    } else if (last.od !== undefined && last.oi === undefined && c.oi !== undefined && c.od === undefined) {\n      last.oi = c.oi;\n    } else if (last.oi !== undefined && c.od !== undefined) {\n      // The last path component inserted something that the new component deletes (or replaces).\n      // Just merge them.\n      if (c.oi !== undefined) {\n        last.oi = c.oi;\n      } else if (last.od !== undefined) {\n        delete last.oi;\n      } else {\n        // An insert directly followed by a delete turns into a no-op and can be removed.\n        dest.pop();\n      }\n    } else if (c.lm !== undefined && c.p[c.p.length - 1] === c.lm) {\n      // don't do anything\n    } else {\n      dest.push(c);\n    }\n  } else {\n    // convert string ops back\n    if ((c.si != null || c.sd != null) && (last.si != null || last.sd != null)) {\n      convertToText(c);\n      convertToText(last);\n    }\n\n    dest.push(c);\n  }\n};\n\njson.compose = function(op1,op2) {\n  json.checkValidOp(op1);\n  json.checkValidOp(op2);\n\n  var newOp = clone(op1);\n\n  for (var i = 0; i < op2.length; i++) {\n    json.append(newOp,op2[i]);\n  }\n\n  return newOp;\n};\n\njson.normalize = function(op) {\n  var newOp = [];\n\n  op = isArray(op) ? op : [op];\n\n  for (var i = 0; i < op.length; i++) {\n    var c = op[i];\n    if (c.p == null) c.p = [];\n\n    json.append(newOp,c);\n  }\n\n  return newOp;\n};\n\n// Returns the common length of the paths of ops a and b\njson.commonLengthForOps = function(a, b) {\n  var alen = a.p.length;\n  var blen = b.p.length;\n  if (a.na != null || a.t)\n    alen++;\n\n  if (b.na != null || b.t)\n    blen++;\n\n  if (alen === 0) return -1;\n  if (blen === 0) return null;\n\n  alen--;\n  blen--;\n\n  for (var i = 0; i < alen; i++) {\n    var p = a.p[i];\n    if (i >= blen || p !== b.p[i])\n      return null;\n  }\n\n  return alen;\n};\n\n// Returns true if an op can affect the given path\njson.canOpAffectPath = function(op, path) {\n  return json.commonLengthForOps({p:path}, op) != null;\n};\n\n// transform c so it applies to a document with otherC applied.\njson.transformComponent = function(dest, c, otherC, type) {\n  c = clone(c);\n\n  var common = json.commonLengthForOps(otherC, c);\n  var common2 = json.commonLengthForOps(c, otherC);\n  var cplength = c.p.length;\n  var otherCplength = otherC.p.length;\n\n  if (c.na != null || c.t)\n    cplength++;\n\n  if (otherC.na != null || otherC.t)\n    otherCplength++;\n\n  // if c is deleting something, and that thing is changed by otherC, we need to\n  // update c to reflect that change for invertibility.\n  if (common2 != null && otherCplength > cplength && c.p[common2] == otherC.p[common2]) {\n    if (c.ld !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.ld = json.apply(clone(c.ld),[oc]);\n    } else if (c.od !== void 0) {\n      var oc = clone(otherC);\n      oc.p = oc.p.slice(cplength);\n      c.od = json.apply(clone(c.od),[oc]);\n    }\n  }\n\n  if (common != null) {\n    var commonOperand = cplength == otherCplength;\n\n    // backward compatibility for old string ops\n    var oc = otherC;\n    if ((c.si != null || c.sd != null) && (otherC.si != null || otherC.sd != null)) {\n      convertFromText(c);\n      oc = clone(otherC);\n      convertFromText(oc);\n    }\n\n    // handle subtype ops\n    if (oc.t && subtypes[oc.t]) {\n      if (c.t && c.t === oc.t) {\n        var res = subtypes[c.t].transform(c.o, oc.o, type);\n\n        // convert back to old string ops\n        if (c.si != null || c.sd != null) {\n          var p = c.p;\n          for (var i = 0; i < res.length; i++) {\n            c.o = [res[i]];\n            c.p = p.slice();\n            convertToText(c);\n            json.append(dest, c);\n          }\n        } else if (!isArray(res) || res.length > 0) {\n          c.o = res;\n          json.append(dest, c);\n        }\n\n        return dest;\n      }\n    }\n\n    // transform based on otherC\n    else if (otherC.na !== void 0) {\n      // this case is handled below\n    } else if (otherC.li !== void 0 && otherC.ld !== void 0) {\n      if (otherC.p[common] === c.p[common]) {\n        // noop\n\n        if (!commonOperand) {\n          return dest;\n        } else if (c.ld !== void 0) {\n          // we're trying to delete the same element, -> noop\n          if (c.li !== void 0 && type === 'left') {\n            // we're both replacing one element with another. only one can survive\n            c.ld = clone(otherC.li);\n          } else {\n            return dest;\n          }\n        }\n      }\n    } else if (otherC.li !== void 0) {\n      if (c.li !== void 0 && c.ld === undefined && commonOperand && c.p[common] === otherC.p[common]) {\n        // in li vs. li, left wins.\n        if (type === 'right')\n          c.p[common]++;\n      } else if (otherC.p[common] <= c.p[common]) {\n        c.p[common]++;\n      }\n\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          // otherC edits the same list we edit\n          if (otherC.p[common] <= c.lm)\n            c.lm++;\n          // changing c.from is handled above.\n        }\n      }\n    } else if (otherC.ld !== void 0) {\n      if (c.lm !== void 0) {\n        if (commonOperand) {\n          if (otherC.p[common] === c.p[common]) {\n            // they deleted the thing we're trying to move\n            return dest;\n          }\n          // otherC edits the same list we edit\n          var p = otherC.p[common];\n          var from = c.p[common];\n          var to = c.lm;\n          if (p < to || (p === to && from < to))\n            c.lm--;\n\n        }\n      }\n\n      if (otherC.p[common] < c.p[common]) {\n        c.p[common]--;\n      } else if (otherC.p[common] === c.p[common]) {\n        if (otherCplength < cplength) {\n          // we're below the deleted element, so -> noop\n          return dest;\n        } else if (c.ld !== void 0) {\n          if (c.li !== void 0) {\n            // we're replacing, they're deleting. we become an insert.\n            delete c.ld;\n          } else {\n            // we're trying to delete the same element, -> noop\n            return dest;\n          }\n        }\n      }\n\n    } else if (otherC.lm !== void 0) {\n      if (c.lm !== void 0 && cplength === otherCplength) {\n        // lm vs lm, here we go!\n        var from = c.p[common];\n        var to = c.lm;\n        var otherFrom = otherC.p[common];\n        var otherTo = otherC.lm;\n        if (otherFrom !== otherTo) {\n          // if otherFrom == otherTo, we don't need to change our op.\n\n          // where did my thing go?\n          if (from === otherFrom) {\n            // they moved it! tie break.\n            if (type === 'left') {\n              c.p[common] = otherTo;\n              if (from === to) // ugh\n                c.lm = otherTo;\n            } else {\n              return dest;\n            }\n          } else {\n            // they moved around it\n            if (from > otherFrom) c.p[common]--;\n            if (from > otherTo) c.p[common]++;\n            else if (from === otherTo) {\n              if (otherFrom > otherTo) {\n                c.p[common]++;\n                if (from === to) // ugh, again\n                  c.lm++;\n              }\n            }\n\n            // step 2: where am i going to put it?\n            if (to > otherFrom) {\n              c.lm--;\n            } else if (to === otherFrom) {\n              if (to > from)\n                c.lm--;\n            }\n            if (to > otherTo) {\n              c.lm++;\n            } else if (to === otherTo) {\n              // if we're both moving in the same direction, tie break\n              if ((otherTo > otherFrom && to > from) ||\n                  (otherTo < otherFrom && to < from)) {\n                if (type === 'right') c.lm++;\n              } else {\n                if (to > from) c.lm++;\n                else if (to === otherFrom) c.lm--;\n              }\n            }\n          }\n        }\n      } else if (c.li !== void 0 && c.ld === undefined && commonOperand) {\n        // li\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p > from) c.p[common]--;\n        if (p > to) c.p[common]++;\n      } else {\n        // ld, ld+li, si, sd, na, oi, od, oi+od, any li on an element beneath\n        // the lm\n        //\n        // i.e. things care about where their item is after the move.\n        var from = otherC.p[common];\n        var to = otherC.lm;\n        p = c.p[common];\n        if (p === from) {\n          c.p[common] = to;\n        } else {\n          if (p > from) c.p[common]--;\n          if (p > to) c.p[common]++;\n          else if (p === to && from > to) c.p[common]++;\n        }\n      }\n    }\n    else if (otherC.oi !== void 0 && otherC.od !== void 0) {\n      if (c.p[common] === otherC.p[common]) {\n        if (c.oi !== void 0 && commonOperand) {\n          // we inserted where someone else replaced\n          if (type === 'right') {\n            // left wins\n            return dest;\n          } else {\n            // we win, make our op replace what they inserted\n            c.od = otherC.oi;\n          }\n        } else {\n          // -> noop if the other component is deleting the same object (or any parent)\n          return dest;\n        }\n      }\n    } else if (otherC.oi !== void 0) {\n      if (c.oi !== void 0 && c.p[common] === otherC.p[common]) {\n        // left wins if we try to insert at the same place\n        if (type === 'left') {\n          json.append(dest,{p: c.p, od:otherC.oi});\n        } else {\n          return dest;\n        }\n      }\n    } else if (otherC.od !== void 0) {\n      if (c.p[common] == otherC.p[common]) {\n        if (!commonOperand)\n          return dest;\n        if (c.oi !== void 0) {\n          delete c.od;\n        } else {\n          return dest;\n        }\n      }\n    }\n  }\n\n  json.append(dest,c);\n  return dest;\n};\n\nrequire('./bootstrapTransform')(json, json.transformComponent, json.checkValidOp, json.append);\n\n/**\n * Register a subtype for string operations, using the text0 type.\n */\nvar text = require('./text0');\n\njson.registerSubtype(text);\nmodule.exports = json;\n\n","// Only the JSON type is exported, because the text type is deprecated\n// otherwise. (If you want to use it somewhere, you're welcome to pull it out\n// into a separate module that json0 can depend on).\n\nmodule.exports = {\n  type: require('./json0')\n};\n","\nexports.defaultType = require('ot-json0').type;\n\nexports.map = {};\n\nexports.register = function(type) {\n  if (type.name) exports.map[type.name] = type;\n  if (type.uri) exports.map[type.uri] = type;\n};\n\nexports.register(exports.defaultType);\n","var emitter = require('../emitter');\nvar ShareDBError = require('../error');\nvar types = require('../types');\n\n/**\n * A Doc is a client's view on a sharejs document.\n *\n * It is is uniquely identified by its `id` and `collection`.  Documents\n * should not be created directly. Create them with connection.get()\n *\n *\n * Subscriptions\n * -------------\n *\n * We can subscribe a document to stay in sync with the server.\n *   doc.subscribe(function(error) {\n *     doc.subscribed // = true\n *   })\n * The server now sends us all changes concerning this document and these are\n * applied to our data. If the subscription was successful the initial\n * data and version sent by the server are loaded into the document.\n *\n * To stop listening to the changes we call `doc.unsubscribe()`.\n *\n * If we just want to load the data but not stay up-to-date, we call\n *   doc.fetch(function(error) {\n *     doc.data // sent by server\n *   })\n *\n *\n * Events\n * ------\n *\n * You can use doc.on(eventName, callback) to subscribe to the following events:\n * - `before op (op, source)` Fired before a partial operation is applied to the data.\n *   It may be used to read the old data just before applying an operation\n * - `op (op, source)` Fired after every partial operation with this operation as the\n *   first argument\n * - `create (source)` The document was created. That means its type was\n *   set and it has some initial data.\n * - `del (data, source)` Fired after the document is deleted, that is\n *   the data is null. It is passed the data before delteion as an\n *   arguments\n * - `load ()` Fired when a new snapshot is ingested from a fetch, subscribe, or query\n */\n\nmodule.exports = Doc;\nfunction Doc(connection, collection, id) {\n  emitter.EventEmitter.call(this);\n\n  this.connection = connection;\n\n  this.collection = collection;\n  this.id = id;\n\n  this.version = null;\n  this.type = null;\n  this.data = undefined;\n\n  // Array of callbacks or nulls as placeholders\n  this.inflightFetch = [];\n  this.inflightSubscribe = [];\n  this.inflightUnsubscribe = [];\n  this.pendingFetch = [];\n\n  // Whether we think we are subscribed on the server. Synchronously set to\n  // false on calls to unsubscribe and disconnect. Should never be true when\n  // this.wantSubscribe is false\n  this.subscribed = false;\n  // Whether to re-establish the subscription on reconnect\n  this.wantSubscribe = false;\n\n  // The op that is currently roundtripping to the server, or null.\n  //\n  // When the connection reconnects, the inflight op is resubmitted.\n  //\n  // This has the same format as an entry in pendingOps\n  this.inflightOp = null;\n\n  // All ops that are waiting for the server to acknowledge this.inflightOp\n  // This used to just be a single operation, but creates & deletes can't be\n  // composed with regular operations.\n  //\n  // This is a list of {[create:{...}], [del:true], [op:...], callbacks:[...]}\n  this.pendingOps = [];\n\n  // The OT type of this document. An uncreated document has type `null`\n  this.type = null;\n\n  // The applyStack enables us to track any ops submitted while we are\n  // applying an op incrementally. This value is an array when we are\n  // performing an incremental apply and null otherwise. When it is an array,\n  // all submitted ops should be pushed onto it. The `_otApply` method will\n  // reset it back to null when all incremental apply loops are complete.\n  this.applyStack = null;\n\n  // Disable the default behavior of composing submitted ops. This is read at\n  // the time of op submit, so it may be toggled on before submitting a\n  // specifc op and toggled off afterward\n  this.preventCompose = false;\n}\nemitter.mixin(Doc);\n\nDoc.prototype.destroy = function(callback) {\n  var doc = this;\n  doc.whenNothingPending(function() {\n    if (doc.wantSubscribe) {\n      doc.unsubscribe(function(err) {\n        if (err) {\n          if (callback) return callback(err);\n          return doc.emit('error', err);\n        }\n        doc.connection._destroyDoc(doc);\n        if (callback) callback();\n      });\n    } else {\n      doc.connection._destroyDoc(doc);\n      if (callback) callback();\n    }\n  });\n};\n\n\n// ****** Manipulating the document data, version and type.\n\n// Set the document's type, and associated properties. Most of the logic in\n// this function exists to update the document based on any added & removed API\n// methods.\n//\n// @param newType OT type provided by the ottypes library or its name or uri\nDoc.prototype._setType = function(newType) {\n  if (typeof newType === 'string') {\n    newType = types.map[newType];\n  }\n\n  if (newType) {\n    this.type = newType;\n\n  } else if (newType === null) {\n    this.type = newType;\n    // If we removed the type from the object, also remove its data\n    this.data = undefined;\n\n  } else {\n    var err = new ShareDBError(4008, 'Missing type ' + newType);\n    return this.emit('error', err);\n  }\n};\n\n// Ingest snapshot data. This data must include a version, snapshot and type.\n// This is used both to ingest data that was exported with a webpage and data\n// that was received from the server during a fetch.\n//\n// @param snapshot.v    version\n// @param snapshot.data\n// @param snapshot.type\n// @param callback\nDoc.prototype.ingestSnapshot = function(snapshot, callback) {\n  if (!snapshot) return callback && callback();\n\n  if (typeof snapshot.v !== 'number') {\n    var err = new ShareDBError(5008, 'Missing version in ingested snapshot. ' + this.collection + '.' + this.id);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n\n  // If the doc is already created or there are ops pending, we cannot use the\n  // ingested snapshot and need ops in order to update the document\n  if (this.type || this.hasWritePending()) {\n    // The version should only be null on a created document when it was\n    // created locally without fetching\n    if (this.version == null) {\n      if (this.hasWritePending()) {\n        // If we have pending ops and we get a snapshot for a locally created\n        // document, we have to wait for the pending ops to complete, because\n        // we don't know what version to fetch ops from. It is possible that\n        // the snapshot came from our local op, but it is also possible that\n        // the doc was created remotely (which would conflict and be an error)\n        return callback && this.once('no write pending', callback);\n      }\n      // Otherwise, we've encounted an error state\n      var err = new ShareDBError(5009, 'Cannot ingest snapshot in doc with null version. ' + this.collection + '.' + this.id);\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // If we got a snapshot for a version further along than the document is\n    // currently, issue a fetch to get the latest ops and catch us up\n    if (snapshot.v > this.version) return this.fetch(callback);\n    return callback && callback();\n  }\n\n  // Ignore the snapshot if we are already at a newer version. Under no\n  // circumstance should we ever set the current version backward\n  if (this.version > snapshot.v) return callback && callback();\n\n  this.version = snapshot.v;\n  var type = (snapshot.type === undefined) ? types.defaultType : snapshot.type;\n  this._setType(type);\n  this.data = (this.type && this.type.deserialize) ?\n    this.type.deserialize(snapshot.data) :\n    snapshot.data;\n  this.emit('load');\n  callback && callback();\n};\n\nDoc.prototype.whenNothingPending = function(callback) {\n  if (this.hasPending()) {\n    this.once('nothing pending', callback);\n    return;\n  }\n  callback();\n};\n\nDoc.prototype.hasPending = function() {\n  return !!(\n    this.inflightOp ||\n    this.pendingOps.length ||\n    this.inflightFetch.length ||\n    this.inflightSubscribe.length ||\n    this.inflightUnsubscribe.length ||\n    this.pendingFetch.length\n  );\n};\n\nDoc.prototype.hasWritePending = function() {\n  return !!(this.inflightOp || this.pendingOps.length);\n};\n\nDoc.prototype._emitNothingPending = function() {\n  if (this.hasWritePending()) return;\n  this.emit('no write pending');\n  if (this.hasPending()) return;\n  this.emit('nothing pending');\n};\n\n// **** Helpers for network messages\n\nDoc.prototype._emitResponseError = function(err, callback) {\n  if (callback) {\n    callback(err);\n    this._emitNothingPending();\n    return;\n  }\n  this._emitNothingPending();\n  this.emit('error', err);\n};\n\nDoc.prototype._handleFetch = function(err, snapshot) {\n  var callback = this.inflightFetch.shift();\n  if (err) return this._emitResponseError(err, callback);\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleSubscribe = function(err, snapshot) {\n  var callback = this.inflightSubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  // Indicate we are subscribed only if the client still wants to be. In the\n  // time since calling subscribe and receiving a response from the server,\n  // unsubscribe could have been called and we might already be unsubscribed\n  // but not have received the response. Also, because requests from the\n  // client are not serialized and may take different async time to process,\n  // it is possible that we could hear responses back in a different order\n  // from the order originally sent\n  if (this.wantSubscribe) this.subscribed = true;\n  this.ingestSnapshot(snapshot, callback);\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleUnsubscribe = function(err) {\n  var callback = this.inflightUnsubscribe.shift();\n  if (err) return this._emitResponseError(err, callback);\n  if (callback) callback();\n  this._emitNothingPending();\n};\n\nDoc.prototype._handleOp = function(err, message) {\n  if (err) {\n    if (this.inflightOp) {\n      // The server has rejected submission of the current operation. If we get\n      // an error code 4002 \"Op submit rejected\", this was done intentionally\n      // and we should roll back but not return an error to the user.\n      if (err.code === 4002) err = null;\n      return this._rollback(err);\n    }\n    return this.emit('error', err);\n  }\n\n  if (this.inflightOp &&\n      message.src === this.inflightOp.src &&\n      message.seq === this.inflightOp.seq) {\n    // The op has already been applied locally. Just update the version\n    // and pending state appropriately\n    this._opAcknowledged(message);\n    return;\n  }\n\n  if (this.version == null || message.v > this.version) {\n    // This will happen in normal operation if we become subscribed to a\n    // new document via a query. It can also happen if we get an op for\n    // a future version beyond the version we are expecting next. This\n    // could happen if the server doesn't publish an op for whatever reason\n    // or because of a race condition. In any case, we can send a fetch\n    // command to catch back up.\n    //\n    // Fetch only sends a new fetch command if no fetches are inflight, which\n    // will act as a natural debouncing so we don't send multiple fetch\n    // requests for many ops received at once.\n    this.fetch();\n    return;\n  }\n\n  if (message.v < this.version) {\n    // We can safely ignore the old (duplicate) operation.\n    return;\n  }\n\n  if (this.inflightOp) {\n    var transformErr = transformX(this.inflightOp, message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  for (var i = 0; i < this.pendingOps.length; i++) {\n    var transformErr = transformX(this.pendingOps[i], message);\n    if (transformErr) return this._hardRollback(transformErr);\n  }\n\n  this.version++;\n  this._otApply(message, false);\n  return;\n};\n\n// Called whenever (you guessed it!) the connection state changes. This will\n// happen when we get disconnected & reconnect.\nDoc.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend) {\n    this.flush();\n    this._resubscribe();\n  } else {\n    if (this.inflightOp) {\n      this.pendingOps.unshift(this.inflightOp);\n      this.inflightOp = null;\n    }\n    this.subscribed = false;\n    if (this.inflightFetch.length || this.inflightSubscribe.length) {\n      this.pendingFetch = this.pendingFetch.concat(this.inflightFetch, this.inflightSubscribe);\n      this.inflightFetch.length = 0;\n      this.inflightSubscribe.length = 0;\n    }\n    if (this.inflightUnsubscribe.length) {\n      var callbacks = this.inflightUnsubscribe;\n      this.inflightUnsubscribe = [];\n      callEach(callbacks);\n    }\n  }\n};\n\nDoc.prototype._resubscribe = function() {\n  var callbacks = this.pendingFetch;\n  this.pendingFetch = [];\n\n  if (this.wantSubscribe) {\n    if (callbacks.length) {\n      this.subscribe(function(err) {\n        callEach(callbacks, err);\n      });\n      return;\n    }\n    this.subscribe();\n    return;\n  }\n\n  if (callbacks.length) {\n    this.fetch(function(err) {\n      callEach(callbacks, err);\n    });\n  }\n};\n\n// Request the current document snapshot or ops that bring us up to date\nDoc.prototype.fetch = function(callback) {\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendFetch(this);\n    pushActionCallback(this.inflightFetch, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Fetch the initial document and keep receiving updates\nDoc.prototype.subscribe = function(callback) {\n  this.wantSubscribe = true;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendSubscribe(this);\n    pushActionCallback(this.inflightSubscribe, isDuplicate, callback);\n    return;\n  }\n  this.pendingFetch.push(callback);\n};\n\n// Unsubscribe. The data will stay around in local memory, but we'll stop\n// receiving updates\nDoc.prototype.unsubscribe = function(callback) {\n  this.wantSubscribe = false;\n  // The subscribed state should be conservative in indicating when we are\n  // subscribed on the server. We'll actually be unsubscribed some time\n  // between sending the message and hearing back, but we cannot know exactly\n  // when. Thus, immediately mark us as not subscribed\n  this.subscribed = false;\n  if (this.connection.canSend) {\n    var isDuplicate = this.connection.sendUnsubscribe(this);\n    pushActionCallback(this.inflightUnsubscribe, isDuplicate, callback);\n    return;\n  }\n  if (callback) process.nextTick(callback);\n};\n\nfunction pushActionCallback(inflight, isDuplicate, callback) {\n  if (isDuplicate) {\n    var lastCallback = inflight.pop();\n    inflight.push(function(err) {\n      lastCallback && lastCallback(err);\n      callback && callback(err);\n    });\n  } else {\n    inflight.push(callback);\n  }\n}\n\n\n// Operations //\n\n// Send the next pending op to the server, if we can.\n//\n// Only one operation can be in-flight at a time. If an operation is already on\n// its way, or we're not currently connected, this method does nothing.\nDoc.prototype.flush = function() {\n  // Ignore if we can't send or we are already sending an op\n  if (!this.connection.canSend || this.inflightOp) return;\n\n  // Send first pending op unless paused\n  if (!this.paused && this.pendingOps.length) {\n    this._sendOp();\n  }\n};\n\n// Helper function to set op to contain a no-op.\nfunction setNoOp(op) {\n  delete op.op;\n  delete op.create;\n  delete op.del;\n}\n\n// Transform server op data by a client op, and vice versa. Ops are edited in place.\nfunction transformX(client, server) {\n  // Order of statements in this function matters. Be especially careful if\n  // refactoring this function\n\n  // A client delete op should dominate if both the server and the client\n  // delete the document. Thus, any ops following the client delete (such as a\n  // subsequent create) will be maintained, since the server op is transformed\n  // to a no-op\n  if (client.del) return setNoOp(server);\n\n  if (server.del) {\n    return new ShareDBError(4017, 'Document was deleted');\n  }\n  if (server.create) {\n    return new ShareDBError(4018, 'Document alredy created');\n  }\n\n  // Ignore no-op coming from server\n  if (!server.op) return;\n\n  // I believe that this should not occur, but check just in case\n  if (client.create) {\n    return new ShareDBError(4018, 'Document already created');\n  }\n\n  // They both edited the document. This is the normal case for this function -\n  // as in, most of the time we'll end up down here.\n  //\n  // You should be wondering why I'm using client.type instead of this.type.\n  // The reason is, if we get ops at an old version of the document, this.type\n  // might be undefined or a totally different type. By pinning the type to the\n  // op data, we make sure the right type has its transform function called.\n  if (client.type.transformX) {\n    var result = client.type.transformX(client.op, server.op);\n    client.op = result[0];\n    server.op = result[1];\n  } else {\n    var clientOp = client.type.transform(client.op, server.op, 'left');\n    var serverOp = client.type.transform(server.op, client.op, 'right');\n    client.op = clientOp;\n    server.op = serverOp;\n  }\n};\n\n/**\n * Applies the operation to the snapshot\n *\n * If the operation is create or delete it emits `create` or `del`. Then the\n * operation is applied to the snapshot and `op` and `after op` are emitted.\n * If the type supports incremental updates and `this.incremental` is true we\n * fire `op` after every small operation.\n *\n * This is the only function to fire the above mentioned events.\n *\n * @private\n */\nDoc.prototype._otApply = function(op, source) {\n  if (op.op) {\n    if (!this.type) {\n      var err = new ShareDBError(4015, 'Cannot apply op to uncreated document. ' + this.collection + '.' + this.id);\n      return this.emit('error', err);\n    }\n\n    // Iteratively apply multi-component remote operations and rollback ops\n    // (source === false) for the default JSON0 OT type. It could use\n    // type.shatter(), but since this code is so specific to use cases for the\n    // JSON0 type and ShareDB explicitly bundles the default type, we might as\n    // well write it this way and save needing to iterate through the op\n    // components twice.\n    //\n    // Ideally, we would not need this extra complexity. However, it is\n    // helpful for implementing bindings that update DOM nodes and other\n    // stateful objects by translating op events directly into corresponding\n    // mutations. Such bindings are most easily written as responding to\n    // individual op components one at a time in order, and it is important\n    // that the snapshot only include updates from the particular op component\n    // at the time of emission. Eliminating this would require rethinking how\n    // such external bindings are implemented.\n    if (!source && this.type === types.defaultType && op.op.length > 1) {\n      if (!this.applyStack) this.applyStack = [];\n      var stackLength = this.applyStack.length;\n      for (var i = 0; i < op.op.length; i++) {\n        var component = op.op[i];\n        var componentOp = {op: [component]};\n        // Transform componentOp against any ops that have been submitted\n        // sychronously inside of an op event handler since we began apply of\n        // our operation\n        for (var j = stackLength; j < this.applyStack.length; j++) {\n          var transformErr = transformX(this.applyStack[j], componentOp);\n          if (transformErr) return this._hardRollback(transformErr);\n        }\n        // Apply the individual op component\n        this.emit('before op', componentOp.op, source);\n        this.data = this.type.apply(this.data, componentOp.op);\n        this.emit('op', componentOp.op, source);\n      }\n      // Pop whatever was submitted since we started applying this op\n      this._popApplyStack(stackLength);\n      return;\n    }\n\n    // The 'before op' event enables clients to pull any necessary data out of\n    // the snapshot before it gets changed\n    this.emit('before op', op.op, source);\n    // Apply the operation to the local data, mutating it in place\n    this.data = this.type.apply(this.data, op.op);\n    // Emit an 'op' event once the local data includes the changes from the\n    // op. For locally submitted ops, this will be synchronously with\n    // submission and before the server or other clients have received the op.\n    // For ops from other clients, this will be after the op has been\n    // committed to the database and published\n    this.emit('op', op.op, source);\n    return;\n  }\n\n  if (op.create) {\n    this._setType(op.create.type);\n    this.data = (this.type.deserialize) ?\n      (this.type.createDeserialized) ?\n        this.type.createDeserialized(op.create.data) :\n        this.type.deserialize(this.type.create(op.create.data)) :\n      this.type.create(op.create.data);\n    this.emit('create', source);\n    return;\n  }\n\n  if (op.del) {\n    var oldData = this.data;\n    this._setType(null);\n    this.emit('del', oldData, source);\n    return;\n  }\n};\n\n\n// ***** Sending operations\n\n// Actually send op to the server.\nDoc.prototype._sendOp = function() {\n  // Wait until we have a src id from the server\n  var src = this.connection.id;\n  if (!src) return;\n\n  // When there is no inflightOp, send the first item in pendingOps. If\n  // there is inflightOp, try sending it again\n  if (!this.inflightOp) {\n    // Send first pending op\n    this.inflightOp = this.pendingOps.shift();\n  }\n  var op = this.inflightOp;\n  if (!op) {\n    var err = new ShareDBError(5010, 'No op to send on call to _sendOp');\n    return this.emit('error', err);\n  }\n\n  // Track data for retrying ops\n  op.sentAt = Date.now();\n  op.retries = (op.retries == null) ? 0 : op.retries + 1;\n\n  // The src + seq number is a unique ID representing this operation. This tuple\n  // is used on the server to detect when ops have been sent multiple times and\n  // on the client to match acknowledgement of an op back to the inflightOp.\n  // Note that the src could be different from this.connection.id after a\n  // reconnect, since an op may still be pending after the reconnection and\n  // this.connection.id will change. In case an op is sent multiple times, we\n  // also need to be careful not to override the original seq value.\n  if (op.seq == null) op.seq = this.connection.seq++;\n\n  this.connection.sendOp(this, op);\n\n  // src isn't needed on the first try, since the server session will have the\n  // same id, but it must be set on the inflightOp in case it is sent again\n  // after a reconnect and the connection's id has changed by then\n  if (op.src == null) op.src = src;\n};\n\n\n// Queues the operation for submission to the server and applies it locally.\n//\n// Internal method called to do the actual work for submit(), create() and del().\n// @private\n//\n// @param op\n// @param [op.op]\n// @param [op.del]\n// @param [op.create]\n// @param [callback] called when operation is submitted\nDoc.prototype._submit = function(op, source, callback) {\n  // Locally submitted ops must always have a truthy source\n  if (!source) source = true;\n\n  // The op contains either op, create, delete, or none of the above (a no-op).\n  if (op.op) {\n    if (!this.type) {\n      var err = new ShareDBError(4015, 'Cannot submit op. Document has not been created. ' + this.collection + '.' + this.id);\n      if (callback) return callback(err);\n      return this.emit('error', err);\n    }\n    // Try to normalize the op. This removes trailing skip:0's and things like that.\n    if (this.type.normalize) op.op = this.type.normalize(op.op);\n  }\n\n  this._pushOp(op, callback);\n  this._otApply(op, source);\n\n  // The call to flush is delayed so if submit() is called multiple times\n  // synchronously, all the ops are combined before being sent to the server.\n  var doc = this;\n  process.nextTick(function() {\n    doc.flush();\n  });\n};\n\nDoc.prototype._pushOp = function(op, callback) {\n  if (this.applyStack) {\n    // If we are in the process of incrementally applying an operation, don't\n    // compose the op and push it onto the applyStack so it can be transformed\n    // against other components from the op or ops being applied\n    this.applyStack.push(op);\n  } else {\n    // If the type supports composes, try to compose the operation onto the\n    // end of the last pending operation.\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks.push(callback);\n      return;\n    }\n  }\n  // Push on to the pendingOps queue of ops to submit if we didn't compose\n  op.type = this.type;\n  op.callbacks = [callback];\n  this.pendingOps.push(op);\n};\n\nDoc.prototype._popApplyStack = function(to) {\n  if (to > 0) {\n    this.applyStack.length = to;\n    return;\n  }\n  // Once we have completed the outermost apply loop, reset to null and no\n  // longer add ops to the applyStack as they are submitted\n  var op = this.applyStack[0];\n  this.applyStack = null;\n  if (!op) return;\n  // Compose the ops added since the beginning of the apply stack, since we\n  // had to skip compose when they were originally pushed\n  var i = this.pendingOps.indexOf(op);\n  if (i === -1) return;\n  var ops = this.pendingOps.splice(i);\n  for (var i = 0; i < ops.length; i++) {\n    var op = ops[i];\n    var composed = this._tryCompose(op);\n    if (composed) {\n      composed.callbacks = composed.callbacks.concat(op.callbacks);\n    } else {\n      this.pendingOps.push(op);\n    }\n  }\n};\n\n// Try to compose a submitted op into the last pending op. Returns the\n// composed op if it succeeds, undefined otherwise\nDoc.prototype._tryCompose = function(op) {\n  if (this.preventCompose) return;\n\n  // We can only compose into the last pending op. Inflight ops have already\n  // been sent to the server, so we can't modify them\n  var last = this.pendingOps[this.pendingOps.length - 1];\n  if (!last) return;\n\n  // Compose an op into a create by applying it. This effectively makes the op\n  // invisible, as if the document were created including the op originally\n  if (last.create && op.op) {\n    last.create.data = this.type.apply(last.create.data, op.op);\n    return last;\n  }\n\n  // Compose two ops into a single op if supported by the type. Types that\n  // support compose must be able to compose any two ops together\n  if (last.op && op.op && this.type.compose) {\n    last.op = this.type.compose(last.op, op.op);\n    return last;\n  }\n};\n\n// *** Client OT entrypoints.\n\n// Submit an operation to the document.\n//\n// @param operation handled by the OT type\n// @param options  {source: ...}\n// @param [callback] called after operation submitted\n//\n// @fires before op, op, after op\nDoc.prototype.submitOp = function(component, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  var op = {op: component};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Create the document, which in ShareJS semantics means to set its type. Every\n// object implicitly exists in the database but has no data and no type. Create\n// sets the type of the object and can optionally set some initial data on the\n// object, depending on the type.\n//\n// @param data  initial\n// @param type  OT type\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.create = function(data, type, options, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    options = null;\n    type = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!type) {\n    type = types.defaultType.uri;\n  }\n  if (this.type) {\n    var err = new ShareDBError(4016, 'Document already exists');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {create: {type: type, data: data}};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n// Delete the document. This creates and submits a delete operation to the\n// server. Deleting resets the object's type to null and deletes its data. The\n// document still exists, and still has the version it used to have before you\n// deleted it (well, old version +1).\n//\n// @param options  {source: ...}\n// @param callback  called when operation submitted\nDoc.prototype.del = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  if (!this.type) {\n    var err = new ShareDBError(4015, 'Document does not exist');\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  var op = {del: true};\n  var source = options && options.source;\n  this._submit(op, source, callback);\n};\n\n\n// Stops the document from sending any operations to the server.\nDoc.prototype.pause = function() {\n  this.paused = true;\n};\n\n// Continue sending operations to the server\nDoc.prototype.resume = function() {\n  this.paused = false;\n  this.flush();\n};\n\n\n// *** Receiving operations\n\n// This is called when the server acknowledges an operation from the client.\nDoc.prototype._opAcknowledged = function(message) {\n  if (this.inflightOp.create) {\n    this.version = message.v;\n\n  } else if (message.v !== this.version) {\n    // We should already be at the same version, because the server should\n    // have sent all the ops that have happened before acknowledging our op\n    console.warn('Invalid version from server. Expected: ' + this.version + ' Received: ' + message.v, message);\n\n    // Fetching should get us back to a working document state\n    return this.fetch();\n  }\n\n  // The op was committed successfully. Increment the version number\n  this.version++;\n\n  this._clearInflightOp();\n};\n\nDoc.prototype._rollback = function(err) {\n  // The server has rejected submission of the current operation. Invert by\n  // just the inflight op if possible. If not possible to invert, cancel all\n  // pending ops and fetch the latest from the server to get us back into a\n  // working state, then call back\n  var op = this.inflightOp;\n\n  if (op.op && op.type.invert) {\n    op.op = op.type.invert(op.op);\n\n    // Transform the undo operation by any pending ops.\n    for (var i = 0; i < this.pendingOps.length; i++) {\n      var transformErr = transformX(this.pendingOps[i], op);\n      if (transformErr) return this._hardRollback(transformErr);\n    }\n\n    // ... and apply it locally, reverting the changes.\n    //\n    // This operation is applied to look like it comes from a remote source.\n    // I'm still not 100% sure about this functionality, because its really a\n    // local op. Basically, the problem is that if the client's op is rejected\n    // by the server, the editor window should update to reflect the undo.\n    this._otApply(op, false);\n\n    this._clearInflightOp(err);\n    return;\n  }\n\n  this._hardRollback(err);\n};\n\nDoc.prototype._hardRollback = function(err) {\n  // Cancel all pending ops and reset if we can't invert\n  var op = this.inflightOp;\n  var pending = this.pendingOps;\n  this._setType(null);\n  this.version = null;\n  this.inflightOp = null;\n  this.pendingOps = [];\n\n  // Fetch the latest from the server to get us back into a working state\n  var doc = this;\n  this.fetch(function() {\n    var called = op && callEach(op.callbacks, err);\n    for (var i = 0; i < pending.length; i++) {\n      callEach(pending[i].callbacks, err);\n    }\n    if (err && !called) return doc.emit('error', err);\n  });\n};\n\nDoc.prototype._clearInflightOp = function(err) {\n  var called = callEach(this.inflightOp.callbacks, err);\n\n  this.inflightOp = null;\n  this.flush();\n  this._emitNothingPending();\n\n  if (err && !called) return this.emit('error', err);\n};\n\nfunction callEach(callbacks, err) {\n  var called = false;\n  for (var i = 0; i < callbacks.length; i++) {\n    var callback = callbacks[i];\n    if (callback) {\n      callback(err);\n      called = true;\n    }\n  }\n  return called;\n}\n","var emitter = require('../emitter');\n\n// Queries are live requests to the database for particular sets of fields.\n//\n// The server actively tells the client when there's new data that matches\n// a set of conditions.\nmodule.exports = Query;\nfunction Query(action, connection, id, collection, query, options, callback) {\n  emitter.EventEmitter.call(this);\n\n  // 'qf' or 'qs'\n  this.action = action;\n\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n\n  // The query itself. For mongo, this should look something like {\"data.x\":5}\n  this.query = query;\n\n  // A list of resulting documents. These are actual documents, complete with\n  // data and all the rest. It is possible to pass in an initial results set,\n  // so that a query can be serialized and then re-established\n  this.results = null;\n  if (options && options.results) {\n    this.results = options.results;\n    delete options.results;\n  }\n  this.extra = undefined;\n\n  // Options to pass through with the query\n  this.options = options;\n\n  this.callback = callback;\n  this.ready = false;\n  this.sent = false;\n}\nemitter.mixin(Query);\n\nQuery.prototype.hasPending = function() {\n  return !this.ready;\n};\n\n// Helper for subscribe & fetch, since they share the same message format.\n//\n// This function actually issues the query.\nQuery.prototype.send = function() {\n  if (!this.connection.canSend) return;\n\n  var message = {\n    a: this.action,\n    id: this.id,\n    c: this.collection,\n    q: this.query\n  };\n  if (this.options) {\n    message.o = this.options;\n  }\n  if (this.results) {\n    // Collect the version of all the documents in the current result set so we\n    // don't need to be sent their snapshots again.\n    var results = [];\n    for (var i = 0; i < this.results.length; i++) {\n      var doc = this.results[i];\n      results.push([doc.id, doc.version]);\n    }\n    message.r = results;\n  }\n\n  this.connection.send(message);\n  this.sent = true;\n};\n\n// Destroy the query object. Any subsequent messages for the query will be\n// ignored by the connection.\nQuery.prototype.destroy = function(callback) {\n  if (this.connection.canSend && this.action === 'qs') {\n    this.connection.send({a: 'qu', id: this.id});\n  }\n  this.connection._destroyQuery(this);\n  // There is a callback for consistency, but we don't actually wait for the\n  // server's unsubscribe message currently\n  if (callback) process.nextTick(callback);\n};\n\nQuery.prototype._onConnectionStateChanged = function() {\n  if (this.connection.canSend && !this.sent) {\n    this.send();\n  } else {\n    this.sent = false;\n  }\n};\n\nQuery.prototype._handleFetch = function(err, data, extra) {\n  // Once a fetch query gets its data, it is destroyed.\n  this.connection._destroyQuery(this);\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleSubscribe = function(err, data, extra) {\n  this._handleResponse(err, data, extra);\n};\n\nQuery.prototype._handleResponse = function(err, data, extra) {\n  var callback = this.callback;\n  this.callback = null;\n  if (err) return this._finishResponse(err, callback);\n  if (!data) return this._finishResponse(null, callback);\n\n  var query = this;\n  var wait = 1;\n  var finish = function(err) {\n    if (err) return query._finishResponse(err, callback);\n    if (--wait) return;\n    query._finishResponse(null, callback);\n  };\n\n  if (Array.isArray(data)) {\n    wait += data.length;\n    this.results = this._ingestSnapshots(data, finish);\n    this.extra = extra;\n\n  } else {\n    for (var id in data) {\n      wait++;\n      var snapshot = data[id];\n      var doc = this.connection.get(snapshot.c || this.collection, id);\n      doc.ingestSnapshot(snapshot, finish);\n    }\n  }\n\n  finish();\n};\n\nQuery.prototype._ingestSnapshots = function(snapshots, finish) {\n  var results = [];\n  for (var i = 0; i < snapshots.length; i++) {\n    var snapshot = snapshots[i];\n    var doc = this.connection.get(snapshot.c || this.collection, snapshot.d);\n    doc.ingestSnapshot(snapshot, finish);\n    results.push(doc);\n  }\n  return results;\n};\n\nQuery.prototype._finishResponse = function(err, callback) {\n  this.emit('ready');\n  this.ready = true;\n  if (err) {\n    this.connection._destroyQuery(this);\n    if (callback) return callback(err);\n    return this.emit('error', err);\n  }\n  if (callback) callback(null, this.results, this.extra);\n};\n\nQuery.prototype._handleError = function(err) {\n  this.emit('error', err);\n};\n\nQuery.prototype._handleDiff = function(diff) {\n  // We need to go through the list twice. First, we'll ingest all the new\n  // documents. After that we'll emit events and actually update our list.\n  // This avoids race conditions around setting documents to be subscribed &\n  // unsubscribing documents in event callbacks.\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    if (d.type === 'insert') d.values = this._ingestSnapshots(d.values);\n  }\n\n  for (var i = 0; i < diff.length; i++) {\n    var d = diff[i];\n    switch (d.type) {\n      case 'insert':\n        var newDocs = d.values;\n        Array.prototype.splice.apply(this.results, [d.index, 0].concat(newDocs));\n        this.emit('insert', newDocs, d.index);\n        break;\n      case 'remove':\n        var howMany = d.howMany || 1;\n        var removed = this.results.splice(d.index, howMany);\n        this.emit('remove', removed, d.index);\n        break;\n      case 'move':\n        var howMany = d.howMany || 1;\n        var docs = this.results.splice(d.from, howMany);\n        Array.prototype.splice.apply(this.results, [d.to, 0].concat(docs));\n        this.emit('move', docs, d.from, d.to);\n        break;\n    }\n  }\n\n  this.emit('changed', this.results);\n};\n\nQuery.prototype._handleExtra = function(extra) {\n  this.extra = extra;\n  this.emit('extra', extra);\n};\n","module.exports = Snapshot;\nfunction Snapshot(id, version, type, data, meta) {\n  this.id = id;\n  this.v = version;\n  this.type = type;\n  this.data = data;\n  this.m = meta;\n}\n","\nexports.doNothing = doNothing;\nfunction doNothing() {}\n\nexports.hasKeys = function(object) {\n  for (var key in object) return true;\n  return false;\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger#Polyfill\nexports.isInteger = Number.isInteger || function (value) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n};\n\nexports.isValidVersion = function (version) {\n  if (version === null) return true;\n  return exports.isInteger(version) && version >= 0;\n};\n","var Snapshot = require('../snapshot');\nvar util = require('../util');\nvar emitter = require('../emitter');\n\nmodule.exports = SnapshotRequest;\n\nfunction SnapshotRequest(connection, requestId, collection, id, version, callback) {\n  emitter.EventEmitter.call(this);\n\n  if (typeof callback !== 'function') {\n    throw new Error('Callback is required for SnapshotRequest');\n  }\n\n  if (!util.isValidVersion(version)) {\n    throw new Error('Snapshot version must be a positive integer or null');\n  }\n\n  this.requestId = requestId;\n  this.connection = connection;\n  this.id = id;\n  this.collection = collection;\n  this.version = version;\n  this.callback = callback;\n\n  this.sent = false;\n}\nemitter.mixin(SnapshotRequest);\n\nSnapshotRequest.prototype.send = function () {\n  if (!this.connection.canSend) {\n    return;\n  }\n\n  var message = {\n    a: 'nf',\n    id: this.requestId,\n    c: this.collection,\n    d: this.id,\n    v: this.version,\n  };\n\n  this.connection.send(message);\n  this.sent = true;\n};\n\nSnapshotRequest.prototype._onConnectionStateChanged = function () {\n  if (this.connection.canSend && !this.sent) {\n    this.send();\n  } else if (!this.connection.canSend) {\n    this.sent = false;\n  }\n};\n\nSnapshotRequest.prototype._handleResponse = function (error, message) {\n  this.emit('ready');\n\n  if (error) {\n    return this.callback(error);\n  }\n\n  var snapshot = new Snapshot(this.id, message.v, message.type, message.data, null);\n  this.callback(null, snapshot);\n};\n","var Doc = require('./doc');\nvar Query = require('./query');\nvar SnapshotRequest = require('./snapshot-request');\nvar emitter = require('../emitter');\nvar ShareDBError = require('../error');\nvar types = require('../types');\nvar util = require('../util');\n\nfunction connectionState(socket) {\n  if (socket.readyState === 0 || socket.readyState === 1) return 'connecting';\n  return 'disconnected';\n}\n\n/**\n * Handles communication with the sharejs server and provides queries and\n * documents.\n *\n * We create a connection with a socket object\n *   connection = new sharejs.Connection(sockset)\n * The socket may be any object handling the websocket protocol. See the\n * documentation of bindToSocket() for details. We then wait for the connection\n * to connect\n *   connection.on('connected', ...)\n * and are finally able to work with shared documents\n *   connection.get('food', 'steak') // Doc\n *\n * @param socket @see bindToSocket\n */\nmodule.exports = Connection;\nfunction Connection(socket) {\n  emitter.EventEmitter.call(this);\n\n  // Map of collection -> id -> doc object for created documents.\n  // (created documents MUST BE UNIQUE)\n  this.collections = {};\n\n  // Each query and snapshot request is created with an id that the server uses when it sends us\n  // info about the request (updates, etc)\n  this.nextQueryId = 1;\n  this.nextSnapshotRequestId = 1;\n\n  // Map from query ID -> query object.\n  this.queries = {};\n\n  // Map from snapshot request ID -> snapshot request\n  this._snapshotRequests = {};\n\n  // A unique message number for the given id\n  this.seq = 1;\n\n  // Equals agent.clientId on the server\n  this.id = null;\n\n  // This direct reference from connection to agent is not used internal to\n  // ShareDB, but it is handy for server-side only user code that may cache\n  // state on the agent and read it in middleware\n  this.agent = null;\n\n  this.debug = false;\n\n  this.state = connectionState(socket);\n\n  this.bindToSocket(socket);\n}\nemitter.mixin(Connection);\n\n\n/**\n * Use socket to communicate with server\n *\n * Socket is an object that can handle the websocket protocol. This method\n * installs the onopen, onclose, onmessage and onerror handlers on the socket to\n * handle communication and sends messages by calling socket.send(message). The\n * sockets `readyState` property is used to determine the initaial state.\n *\n * @param socket Handles the websocket protocol\n * @param socket.readyState\n * @param socket.close\n * @param socket.send\n * @param socket.onopen\n * @param socket.onclose\n * @param socket.onmessage\n * @param socket.onerror\n */\nConnection.prototype.bindToSocket = function(socket) {\n  if (this.socket) {\n    this.socket.close();\n    this.socket.onmessage = null;\n    this.socket.onopen = null;\n    this.socket.onerror = null;\n    this.socket.onclose = null;\n  }\n\n  this.socket = socket;\n\n  // State of the connection. The corresponding events are emitted when this changes\n  //\n  // - 'connecting'   The connection is still being established, or we are still\n  //                    waiting on the server to send us the initialization message\n  // - 'connected'    The connection is open and we have connected to a server\n  //                    and recieved the initialization message\n  // - 'disconnected' Connection is closed, but it will reconnect automatically\n  // - 'closed'       The connection was closed by the client, and will not reconnect\n  // - 'stopped'      The connection was closed by the server, and will not reconnect\n  var newState = connectionState(socket);\n  this._setState(newState);\n\n  // This is a helper variable the document uses to see whether we're\n  // currently in a 'live' state. It is true if and only if we're connected\n  this.canSend = false;\n\n  var connection = this;\n\n  socket.onmessage = function(event) {\n    try {\n      var data = (typeof event.data === 'string') ?\n        JSON.parse(event.data) : event.data;\n    } catch (err) {\n      console.warn('Failed to parse message', event);\n      return;\n    }\n\n    if (connection.debug) console.log('RECV', JSON.stringify(data));\n\n    var request = {data: data};\n    connection.emit('receive', request);\n    if (!request.data) return;\n\n    try {\n      connection.handleMessage(request.data);\n    } catch (err) {\n      process.nextTick(function() {\n        connection.emit('error', err);\n      });\n    }\n  };\n\n  socket.onopen = function() {\n    connection._setState('connecting');\n  };\n\n  socket.onerror = function(err) {\n    // This isn't the same as a regular error, because it will happen normally\n    // from time to time. Your connection should probably automatically\n    // reconnect anyway, but that should be triggered off onclose not onerror.\n    // (onclose happens when onerror gets called anyway).\n    connection.emit('connection error', err);\n  };\n\n  socket.onclose = function(reason) {\n    // node-browserchannel reason values:\n    //   'Closed' - The socket was manually closed by calling socket.close()\n    //   'Stopped by server' - The server sent the stop message to tell the client not to try connecting\n    //   'Request failed' - Server didn't respond to request (temporary, usually offline)\n    //   'Unknown session ID' - Server session for client is missing (temporary, will immediately reestablish)\n\n    if (reason === 'closed' || reason === 'Closed') {\n      connection._setState('closed', reason);\n\n    } else if (reason === 'stopped' || reason === 'Stopped by server') {\n      connection._setState('stopped', reason);\n\n    } else {\n      connection._setState('disconnected', reason);\n    }\n  };\n};\n\n/**\n * @param {object} message\n * @param {String} message.a action\n */\nConnection.prototype.handleMessage = function(message) {\n  var err = null;\n  if (message.error) {\n    // wrap in Error object so can be passed through event emitters\n    err = new Error(message.error.message);\n    err.code = message.error.code;\n    // Add the message data to the error object for more context\n    err.data = message;\n    delete message.error;\n  }\n  // Switch on the message action. Most messages are for documents and are\n  // handled in the doc class.\n  switch (message.a) {\n    case 'init':\n      // Client initialization packet\n      if (message.protocol !== 1) {\n        err = new ShareDBError(4019, 'Invalid protocol version');\n        return this.emit('error', err);\n      }\n      if (types.map[message.type] !== types.defaultType) {\n        err = new ShareDBError(4020, 'Invalid default type');\n        return this.emit('error', err);\n      }\n      if (typeof message.id !== 'string') {\n        err = new ShareDBError(4021, 'Invalid client id');\n        return this.emit('error', err);\n      }\n      this.id = message.id;\n\n      this._setState('connected');\n      return;\n\n    case 'qf':\n      var query = this.queries[message.id];\n      if (query) query._handleFetch(err, message.data, message.extra);\n      return;\n    case 'qs':\n      var query = this.queries[message.id];\n      if (query) query._handleSubscribe(err, message.data, message.extra);\n      return;\n    case 'qu':\n      // Queries are removed immediately on calls to destroy, so we ignore\n      // replies to query unsubscribes. Perhaps there should be a callback for\n      // destroy, but this is currently unimplemented\n      return;\n    case 'q':\n      // Query message. Pass this to the appropriate query object.\n      var query = this.queries[message.id];\n      if (!query) return;\n      if (err) return query._handleError(err);\n      if (message.diff) query._handleDiff(message.diff);\n      if (message.hasOwnProperty('extra')) query._handleExtra(message.extra);\n      return;\n\n    case 'bf':\n      return this._handleBulkMessage(message, '_handleFetch');\n    case 'bs':\n      return this._handleBulkMessage(message, '_handleSubscribe');\n    case 'bu':\n      return this._handleBulkMessage(message, '_handleUnsubscribe');\n\n    case 'nf':\n      return this._handleSnapshotFetch(err, message);\n\n    case 'f':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleFetch(err, message.data);\n      return;\n    case 's':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleSubscribe(err, message.data);\n      return;\n    case 'u':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleUnsubscribe(err);\n      return;\n    case 'op':\n      var doc = this.getExisting(message.c, message.d);\n      if (doc) doc._handleOp(err, message);\n      return;\n\n    default:\n      console.warn('Ignoring unrecognized message', message);\n  }\n};\n\nConnection.prototype._handleBulkMessage = function(message, method) {\n  if (message.data) {\n    for (var id in message.data) {\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](message.error, message.data[id]);\n    }\n  } else if (Array.isArray(message.b)) {\n    for (var i = 0; i < message.b.length; i++) {\n      var id = message.b[i];\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](message.error);\n    }\n  } else if (message.b) {\n    for (var id in message.b) {\n      var doc = this.getExisting(message.c, id);\n      if (doc) doc[method](message.error);\n    }\n  } else {\n    console.error('Invalid bulk message', message);\n  }\n};\n\nConnection.prototype._reset = function() {\n  this.seq = 1;\n  this.id = null;\n  this.agent = null;\n};\n\n// Set the connection's state. The connection is basically a state machine.\nConnection.prototype._setState = function(newState, reason) {\n  if (this.state === newState) return;\n\n  // I made a state diagram. The only invalid transitions are getting to\n  // 'connecting' from anywhere other than 'disconnected' and getting to\n  // 'connected' from anywhere other than 'connecting'.\n  if (\n    (newState === 'connecting' && this.state !== 'disconnected' && this.state !== 'stopped' && this.state !== 'closed') ||\n    (newState === 'connected' && this.state !== 'connecting')\n  ) {\n    var err = new ShareDBError(5007, 'Cannot transition directly from ' + this.state + ' to ' + newState);\n    return this.emit('error', err);\n  }\n\n  this.state = newState;\n  this.canSend = (newState === 'connected');\n\n  if (newState === 'disconnected' || newState === 'stopped' || newState === 'closed') this._reset();\n\n  // Group subscribes together to help server make more efficient calls\n  this.startBulk();\n  // Emit the event to all queries\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    query._onConnectionStateChanged();\n  }\n  // Emit the event to all documents\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      docs[id]._onConnectionStateChanged();\n    }\n  }\n  // Emit the event to all snapshots\n  for (var id in this._snapshotRequests) {\n    var snapshotRequest = this._snapshotRequests[id];\n    snapshotRequest._onConnectionStateChanged();\n  }\n  this.endBulk();\n\n  this.emit(newState, reason);\n  this.emit('state', newState, reason);\n};\n\nConnection.prototype.startBulk = function() {\n  if (!this.bulk) this.bulk = {};\n};\n\nConnection.prototype.endBulk = function() {\n  if (this.bulk) {\n    for (var collection in this.bulk) {\n      var actions = this.bulk[collection];\n      this._sendBulk('f', collection, actions.f);\n      this._sendBulk('s', collection, actions.s);\n      this._sendBulk('u', collection, actions.u);\n    }\n  }\n  this.bulk = null;\n};\n\nConnection.prototype._sendBulk = function(action, collection, values) {\n  if (!values) return;\n  var ids = [];\n  var versions = {};\n  var versionsCount = 0;\n  var versionId;\n  for (var id in values) {\n    var value = values[id];\n    if (value == null) {\n      ids.push(id);\n    } else {\n      versions[id] = value;\n      versionId = id;\n      versionsCount++;\n    }\n  }\n  if (ids.length === 1) {\n    var id = ids[0];\n    this.send({a: action, c: collection, d: id});\n  } else if (ids.length) {\n    this.send({a: 'b' + action, c: collection, b: ids});\n  }\n  if (versionsCount === 1) {\n    var version = versions[versionId];\n    this.send({a: action, c: collection, d: versionId, v: version});\n  } else if (versionsCount) {\n    this.send({a: 'b' + action, c: collection, b: versions});\n  }\n};\n\nConnection.prototype._sendAction = function(action, doc, version) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  if (this.bulk) {\n    // Bulk subscribe\n    var actions = this.bulk[doc.collection] || (this.bulk[doc.collection] = {});\n    var versions = actions[action] || (actions[action] = {});\n    var isDuplicate = versions.hasOwnProperty(doc.id);\n    versions[doc.id] = version;\n    return isDuplicate;\n  } else {\n    // Send single doc subscribe message\n    var message = {a: action, c: doc.collection, d: doc.id, v: version};\n    this.send(message);\n  }\n};\n\nConnection.prototype.sendFetch = function(doc) {\n  return this._sendAction('f', doc, doc.version);\n};\n\nConnection.prototype.sendSubscribe = function(doc) {\n  return this._sendAction('s', doc, doc.version);\n};\n\nConnection.prototype.sendUnsubscribe = function(doc) {\n  return this._sendAction('u', doc);\n};\n\nConnection.prototype.sendOp = function(doc, op) {\n  // Ensure the doc is registered so that it receives the reply message\n  this._addDoc(doc);\n  var message = {\n    a: 'op',\n    c: doc.collection,\n    d: doc.id,\n    v: doc.version,\n    src: op.src,\n    seq: op.seq\n  };\n  if (op.op) message.op = op.op;\n  if (op.create) message.create = op.create;\n  if (op.del) message.del = op.del;\n  this.send(message);\n};\n\n\n/**\n * Sends a message down the socket\n */\nConnection.prototype.send = function(message) {\n  if (this.debug) console.log('SEND', JSON.stringify(message));\n\n  this.emit('send', message);\n  this.socket.send(JSON.stringify(message));\n};\n\n\n/**\n * Closes the socket and emits 'closed'\n */\nConnection.prototype.close = function() {\n  this.socket.close();\n};\n\nConnection.prototype.getExisting = function(collection, id) {\n  if (this.collections[collection]) return this.collections[collection][id];\n};\n\n\n/**\n * Get or create a document.\n *\n * @param collection\n * @param id\n * @return {Doc}\n */\nConnection.prototype.get = function(collection, id) {\n  var docs = this.collections[collection] ||\n    (this.collections[collection] = {});\n\n  var doc = docs[id];\n  if (!doc) {\n    doc = docs[id] = new Doc(this, collection, id);\n    this.emit('doc', doc);\n  }\n\n  return doc;\n};\n\n\n/**\n * Remove document from this.collections\n *\n * @private\n */\nConnection.prototype._destroyDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) return;\n\n  delete docs[doc.id];\n\n  // Delete the collection container if its empty. This could be a source of\n  // memory leaks if you slowly make a billion collections, which you probably\n  // won't do anyway, but whatever.\n  if (!util.hasKeys(docs)) {\n    delete this.collections[doc.collection];\n  }\n};\n\nConnection.prototype._addDoc = function(doc) {\n  var docs = this.collections[doc.collection];\n  if (!docs) {\n    docs = this.collections[doc.collection] = {};\n  }\n  if (docs[doc.id] !== doc) {\n    docs[doc.id] = doc;\n  }\n};\n\n// Helper for createFetchQuery and createSubscribeQuery, below.\nConnection.prototype._createQuery = function(action, collection, q, options, callback) {\n  var id = this.nextQueryId++;\n  var query = new Query(action, this, id, collection, q, options, callback);\n  this.queries[id] = query;\n  query.send();\n  return query;\n};\n\n// Internal function. Use query.destroy() to remove queries.\nConnection.prototype._destroyQuery = function(query) {\n  delete this.queries[query.id];\n};\n\n// The query options object can contain the following fields:\n//\n// db: Name of the db for the query. You can attach extraDbs to ShareDB and\n//   pick which one the query should hit using this parameter.\n\n// Create a fetch query. Fetch queries are only issued once, returning the\n// results directly into the callback.\n//\n// The callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createFetchQuery = function(collection, q, options, callback) {\n  return this._createQuery('qf', collection, q, options, callback);\n};\n\n// Create a subscribe query. Subscribe queries return with the initial data\n// through the callback, then update themselves whenever the query result set\n// changes via their own event emitter.\n//\n// If present, the callback should have the signature function(error, results, extra)\n// where results is a list of Doc objects.\nConnection.prototype.createSubscribeQuery = function(collection, q, options, callback) {\n  return this._createQuery('qs', collection, q, options, callback);\n};\n\nConnection.prototype.hasPending = function() {\n  return !!(\n    this._firstDoc(hasPending) ||\n    this._firstQuery(hasPending) ||\n    this._firstSnapshotRequest()\n  );\n};\nfunction hasPending(object) {\n  return object.hasPending();\n}\n\nConnection.prototype.hasWritePending = function() {\n  return !!this._firstDoc(hasWritePending);\n};\nfunction hasWritePending(object) {\n  return object.hasWritePending();\n}\n\nConnection.prototype.whenNothingPending = function(callback) {\n  var doc = this._firstDoc(hasPending);\n  if (doc) {\n    // If a document is found with a pending operation, wait for it to emit\n    // that nothing is pending anymore, and then recheck all documents again.\n    // We have to recheck all documents, just in case another mutation has\n    // been made in the meantime as a result of an event callback\n    doc.once('nothing pending', this._nothingPendingRetry(callback));\n    return;\n  }\n  var query = this._firstQuery(hasPending);\n  if (query) {\n    query.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  var snapshotRequest = this._firstSnapshotRequest();\n  if (snapshotRequest) {\n    snapshotRequest.once('ready', this._nothingPendingRetry(callback));\n    return;\n  }\n  // Call back when no pending operations\n  process.nextTick(callback);\n};\nConnection.prototype._nothingPendingRetry = function(callback) {\n  var connection = this;\n  return function() {\n    process.nextTick(function() {\n      connection.whenNothingPending(callback);\n    });\n  };\n};\n\nConnection.prototype._firstDoc = function(fn) {\n  for (var collection in this.collections) {\n    var docs = this.collections[collection];\n    for (var id in docs) {\n      var doc = docs[id];\n      if (fn(doc)) {\n        return doc;\n      }\n    }\n  }\n};\n\nConnection.prototype._firstQuery = function(fn) {\n  for (var id in this.queries) {\n    var query = this.queries[id];\n    if (fn(query)) {\n      return query;\n    }\n  }\n};\n\nConnection.prototype._firstSnapshotRequest = function () {\n  for (var id in this._snapshotRequests) {\n    return this._snapshotRequests[id];\n  }\n};\n\n/**\n * Fetch a read-only snapshot at a given version\n *\n * @param collection - the collection name of the snapshot\n * @param id - the ID of the snapshot\n * @param version (optional) - the version number to fetch\n * @param callback - (error, snapshot) => void, where snapshot takes the following schema:\n *\n * {\n *   id: string;         // ID of the snapshot\n *   v: number;          // version number of the snapshot\n *   type: string;       // the OT type of the snapshot, or null if it doesn't exist or is deleted\n *   data: any;          // the snapshot\n * }\n *\n */\nConnection.prototype.fetchSnapshot = function(collection, id, version, callback) {\n  if (typeof version === 'function') {\n    callback = version;\n    version = null;\n  }\n\n  var requestId = this.nextSnapshotRequestId++;\n  var snapshotRequest = new SnapshotRequest(this, requestId, collection, id, version, callback);\n  this._snapshotRequests[snapshotRequest.requestId] = snapshotRequest;\n  snapshotRequest.send();\n};\n\nConnection.prototype._handleSnapshotFetch = function (error, message) {\n  var snapshotRequest = this._snapshotRequests[message.id];\n  if (!snapshotRequest) return;\n  delete this._snapshotRequests[message.id];\n  snapshotRequest._handleResponse(error, message);\n};\n","exports.Connection = require('./connection');\nexports.Doc = require('./doc');\nexports.Error = require('../error');\nexports.Query = require('./query');\nexports.types = require('../types');\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\nvar Event = /** @class */ (function () {\r\n    function Event(type, target) {\r\n        this.target = target;\r\n        this.type = type;\r\n    }\r\n    return Event;\r\n}());\r\nvar ErrorEvent = /** @class */ (function (_super) {\r\n    __extends(ErrorEvent, _super);\r\n    function ErrorEvent(error, target) {\r\n        var _this = _super.call(this, 'error', target) || this;\r\n        _this.message = error.message;\r\n        _this.error = error;\r\n        return _this;\r\n    }\r\n    return ErrorEvent;\r\n}(Event));\r\nvar CloseEvent = /** @class */ (function (_super) {\r\n    __extends(CloseEvent, _super);\r\n    function CloseEvent(code, reason, target) {\r\n        if (code === void 0) { code = 1000; }\r\n        if (reason === void 0) { reason = ''; }\r\n        var _this = _super.call(this, 'close', target) || this;\r\n        _this.wasClean = true;\r\n        _this.code = code;\r\n        _this.reason = reason;\r\n        return _this;\r\n    }\r\n    return CloseEvent;\r\n}(Event));\n\n/*!\r\n * Reconnecting WebSocket\r\n * by Pedro Ladaria <pedro.ladaria@gmail.com>\r\n * https://github.com/pladaria/reconnecting-websocket\r\n * License MIT\r\n */\r\nvar getGlobalWebSocket = function () {\r\n    if (typeof WebSocket !== 'undefined') {\r\n        // @ts-ignore\r\n        return WebSocket;\r\n    }\r\n};\r\n/**\r\n * Returns true if given argument looks like a WebSocket class\r\n */\r\nvar isWebSocket = function (w) { return typeof w === 'function' && w.CLOSING === 2; };\r\nvar DEFAULT = {\r\n    maxReconnectionDelay: 10000,\r\n    minReconnectionDelay: 1000 + Math.random() * 4000,\r\n    minUptime: 5000,\r\n    reconnectionDelayGrowFactor: 1.3,\r\n    connectionTimeout: 4000,\r\n    maxRetries: Infinity,\r\n    debug: false,\r\n};\r\nvar ReconnectingWebSocket = /** @class */ (function () {\r\n    function ReconnectingWebSocket(url, protocols, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        this._listeners = {\r\n            error: [],\r\n            message: [],\r\n            open: [],\r\n            close: [],\r\n        };\r\n        this._retryCount = -1;\r\n        this._shouldReconnect = true;\r\n        this._connectLock = false;\r\n        this._binaryType = 'blob';\r\n        this._closeCalled = false;\r\n        this._messageQueue = [];\r\n        /**\r\n         * An event listener to be called when the WebSocket connection's readyState changes to CLOSED\r\n         */\r\n        this.onclose = undefined;\r\n        /**\r\n         * An event listener to be called when an error occurs\r\n         */\r\n        this.onerror = undefined;\r\n        /**\r\n         * An event listener to be called when a message is received from the server\r\n         */\r\n        this.onmessage = undefined;\r\n        /**\r\n         * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\r\n         * this indicates that the connection is ready to send and receive data\r\n         */\r\n        this.onopen = undefined;\r\n        this._handleOpen = function (event) {\r\n            _this._debug('open event');\r\n            var _a = _this._options.minUptime, minUptime = _a === void 0 ? DEFAULT.minUptime : _a;\r\n            clearTimeout(_this._connectTimeout);\r\n            _this._uptimeTimeout = setTimeout(function () { return _this._acceptOpen(); }, minUptime);\r\n            // @ts-ignore\r\n            _this._ws.binaryType = _this._binaryType;\r\n            // send enqueued messages (messages sent before websocket open event)\r\n            _this._messageQueue.forEach(function (message) { return _this._ws.send(message); });\r\n            _this._messageQueue = [];\r\n            if (_this.onopen) {\r\n                _this.onopen(event);\r\n            }\r\n            _this._listeners.open.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n        };\r\n        this._handleMessage = function (event) {\r\n            _this._debug('message event');\r\n            if (_this.onmessage) {\r\n                _this.onmessage(event);\r\n            }\r\n            _this._listeners.message.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n        };\r\n        this._handleError = function (event) {\r\n            _this._debug('error event', event.message);\r\n            _this._disconnect(undefined, event.message === 'TIMEOUT' ? 'timeout' : undefined);\r\n            if (_this.onerror) {\r\n                _this.onerror(event);\r\n            }\r\n            _this._debug('exec error listeners');\r\n            _this._listeners.error.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n            _this._connect();\r\n        };\r\n        this._handleClose = function (event) {\r\n            _this._debug('close event');\r\n            _this._clearTimeouts();\r\n            if (_this._shouldReconnect) {\r\n                _this._connect();\r\n            }\r\n            if (_this.onclose) {\r\n                _this.onclose(event);\r\n            }\r\n            _this._listeners.close.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n        };\r\n        this._url = url;\r\n        this._protocols = protocols;\r\n        this._options = options;\r\n        this._connect();\r\n    }\r\n    Object.defineProperty(ReconnectingWebSocket, \"CONNECTING\", {\r\n        get: function () {\r\n            return 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket, \"OPEN\", {\r\n        get: function () {\r\n            return 1;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket, \"CLOSING\", {\r\n        get: function () {\r\n            return 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket, \"CLOSED\", {\r\n        get: function () {\r\n            return 3;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"CONNECTING\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.CONNECTING;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"OPEN\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.OPEN;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"CLOSING\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.CLOSING;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"CLOSED\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.CLOSED;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"binaryType\", {\r\n        get: function () {\r\n            return this._ws ? this._ws.binaryType : this._binaryType;\r\n        },\r\n        set: function (value) {\r\n            this._binaryType = value;\r\n            if (this._ws) {\r\n                // @ts-ignore\r\n                this._ws.binaryType = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"retryCount\", {\r\n        /**\r\n         * Returns the number or connection retries\r\n         */\r\n        get: function () {\r\n            return Math.max(this._retryCount, 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"bufferedAmount\", {\r\n        /**\r\n         * The number of bytes of data that have been queued using calls to send() but not yet\r\n         * transmitted to the network. This value resets to zero once all queued data has been sent.\r\n         * This value does not reset to zero when the connection is closed; if you keep calling send(),\r\n         * this will continue to climb. Read only\r\n         */\r\n        get: function () {\r\n            var bytes = this._messageQueue.reduce(function (acc, message) {\r\n                if (typeof message === 'string') {\r\n                    acc += message.length; // not byte size\r\n                }\r\n                else if (message instanceof Blob) {\r\n                    acc += message.size;\r\n                }\r\n                else {\r\n                    acc += message.byteLength;\r\n                }\r\n                return acc;\r\n            }, 0);\r\n            return bytes + (this._ws ? this._ws.bufferedAmount : 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"extensions\", {\r\n        /**\r\n         * The extensions selected by the server. This is currently only the empty string or a list of\r\n         * extensions as negotiated by the connection\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.extensions : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"protocol\", {\r\n        /**\r\n         * A string indicating the name of the sub-protocol the server selected;\r\n         * this will be one of the strings specified in the protocols parameter when creating the\r\n         * WebSocket object\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.protocol : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"readyState\", {\r\n        /**\r\n         * The current state of the connection; this is one of the Ready state constants\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.readyState : ReconnectingWebSocket.CONNECTING;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"url\", {\r\n        /**\r\n         * The URL as resolved by the constructor\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.url : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Closes the WebSocket connection or connection attempt, if any. If the connection is already\r\n     * CLOSED, this method does nothing\r\n     */\r\n    ReconnectingWebSocket.prototype.close = function (code, reason) {\r\n        if (code === void 0) { code = 1000; }\r\n        this._closeCalled = true;\r\n        this._shouldReconnect = false;\r\n        this._clearTimeouts();\r\n        if (!this._ws) {\r\n            this._debug('close enqueued: no ws instance');\r\n            return;\r\n        }\r\n        if (this._ws.readyState === this.CLOSED) {\r\n            this._debug('close: already closed');\r\n            return;\r\n        }\r\n        this._ws.close(code, reason);\r\n    };\r\n    /**\r\n     * Closes the WebSocket connection or connection attempt and connects again.\r\n     * Resets retry counter;\r\n     */\r\n    ReconnectingWebSocket.prototype.reconnect = function (code, reason) {\r\n        this._shouldReconnect = true;\r\n        this._closeCalled = false;\r\n        this._retryCount = -1;\r\n        if (!this._ws || this._ws.readyState === this.CLOSED) {\r\n            this._connect();\r\n        }\r\n        else {\r\n            this._disconnect(code, reason);\r\n            this._connect();\r\n        }\r\n    };\r\n    /**\r\n     * Enqueue specified data to be transmitted to the server over the WebSocket connection\r\n     */\r\n    ReconnectingWebSocket.prototype.send = function (data) {\r\n        if (this._ws && this._ws.readyState === this.OPEN) {\r\n            this._debug('send', data);\r\n            this._ws.send(data);\r\n        }\r\n        else {\r\n            this._debug('enqueue', data);\r\n            this._messageQueue.push(data);\r\n        }\r\n    };\r\n    /**\r\n     * Register an event handler of a specific event type\r\n     */\r\n    ReconnectingWebSocket.prototype.addEventListener = function (type, listener) {\r\n        if (this._listeners[type]) {\r\n            // @ts-ignore\r\n            this._listeners[type].push(listener);\r\n        }\r\n    };\r\n    /**\r\n     * Removes an event listener\r\n     */\r\n    ReconnectingWebSocket.prototype.removeEventListener = function (type, listener) {\r\n        if (this._listeners[type]) {\r\n            // @ts-ignore\r\n            this._listeners[type] = this._listeners[type].filter(function (l) { return l !== listener; });\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._debug = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (this._options.debug) {\r\n            // not using spread because compiled version uses Symbols\r\n            // tslint:disable-next-line\r\n            console.log.apply(console, ['RWS>'].concat(args));\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._getNextDelay = function () {\r\n        var _a = this._options, _b = _a.reconnectionDelayGrowFactor, reconnectionDelayGrowFactor = _b === void 0 ? DEFAULT.reconnectionDelayGrowFactor : _b, _c = _a.minReconnectionDelay, minReconnectionDelay = _c === void 0 ? DEFAULT.minReconnectionDelay : _c, _d = _a.maxReconnectionDelay, maxReconnectionDelay = _d === void 0 ? DEFAULT.maxReconnectionDelay : _d;\r\n        var delay = minReconnectionDelay;\r\n        if (this._retryCount > 0) {\r\n            delay =\r\n                minReconnectionDelay * Math.pow(reconnectionDelayGrowFactor, this._retryCount - 1);\r\n            if (delay > maxReconnectionDelay) {\r\n                delay = maxReconnectionDelay;\r\n            }\r\n        }\r\n        this._debug('next delay', delay);\r\n        return delay;\r\n    };\r\n    ReconnectingWebSocket.prototype._wait = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            setTimeout(resolve, _this._getNextDelay());\r\n        });\r\n    };\r\n    ReconnectingWebSocket.prototype._getNextUrl = function (urlProvider) {\r\n        if (typeof urlProvider === 'string') {\r\n            return Promise.resolve(urlProvider);\r\n        }\r\n        if (typeof urlProvider === 'function') {\r\n            var url = urlProvider();\r\n            if (typeof url === 'string') {\r\n                return Promise.resolve(url);\r\n            }\r\n            if (url.then) {\r\n                return url;\r\n            }\r\n        }\r\n        throw Error('Invalid URL');\r\n    };\r\n    ReconnectingWebSocket.prototype._connect = function () {\r\n        var _this = this;\r\n        if (this._connectLock || !this._shouldReconnect) {\r\n            return;\r\n        }\r\n        this._connectLock = true;\r\n        var _a = this._options, _b = _a.maxRetries, maxRetries = _b === void 0 ? DEFAULT.maxRetries : _b, _c = _a.connectionTimeout, connectionTimeout = _c === void 0 ? DEFAULT.connectionTimeout : _c, _d = _a.WebSocket, WebSocket = _d === void 0 ? getGlobalWebSocket() : _d;\r\n        if (this._retryCount >= maxRetries) {\r\n            this._debug('max retries reached', this._retryCount, '>=', maxRetries);\r\n            return;\r\n        }\r\n        this._retryCount++;\r\n        this._debug('connect', this._retryCount);\r\n        this._removeListeners();\r\n        if (!isWebSocket(WebSocket)) {\r\n            throw Error('No valid WebSocket class provided');\r\n        }\r\n        this._wait()\r\n            .then(function () { return _this._getNextUrl(_this._url); })\r\n            .then(function (url) {\r\n            // close could be called before creating the ws\r\n            if (_this._closeCalled) {\r\n                _this._connectLock = false;\r\n                return;\r\n            }\r\n            _this._debug('connect', { url: url, protocols: _this._protocols });\r\n            _this._ws = _this._protocols\r\n                ? new WebSocket(url, _this._protocols)\r\n                : new WebSocket(url);\r\n            // @ts-ignore\r\n            _this._ws.binaryType = _this._binaryType;\r\n            _this._connectLock = false;\r\n            _this._addListeners();\r\n            _this._connectTimeout = setTimeout(function () { return _this._handleTimeout(); }, connectionTimeout);\r\n        });\r\n    };\r\n    ReconnectingWebSocket.prototype._handleTimeout = function () {\r\n        this._debug('timeout event');\r\n        this._handleError(new ErrorEvent(Error('TIMEOUT'), this));\r\n    };\r\n    ReconnectingWebSocket.prototype._disconnect = function (code, reason) {\r\n        if (code === void 0) { code = 1000; }\r\n        this._clearTimeouts();\r\n        if (!this._ws) {\r\n            return;\r\n        }\r\n        this._removeListeners();\r\n        try {\r\n            this._ws.close(code, reason);\r\n            this._handleClose(new CloseEvent(code, reason, this));\r\n        }\r\n        catch (error) {\r\n            // ignore\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._acceptOpen = function () {\r\n        this._debug('accept open');\r\n        this._retryCount = 0;\r\n    };\r\n    ReconnectingWebSocket.prototype._callEventListener = function (event, listener) {\r\n        if ('handleEvent' in listener) {\r\n            // @ts-ignore\r\n            listener.handleEvent(event);\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            listener(event);\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._removeListeners = function () {\r\n        if (!this._ws) {\r\n            return;\r\n        }\r\n        this._debug('removeListeners');\r\n        this._ws.removeEventListener('open', this._handleOpen);\r\n        this._ws.removeEventListener('close', this._handleClose);\r\n        this._ws.removeEventListener('message', this._handleMessage);\r\n        // @ts-ignore\r\n        this._ws.removeEventListener('error', this._handleError);\r\n    };\r\n    ReconnectingWebSocket.prototype._addListeners = function () {\r\n        if (!this._ws) {\r\n            return;\r\n        }\r\n        this._debug('addListeners');\r\n        this._ws.addEventListener('open', this._handleOpen);\r\n        this._ws.addEventListener('close', this._handleClose);\r\n        this._ws.addEventListener('message', this._handleMessage);\r\n        // @ts-ignore\r\n        this._ws.addEventListener('error', this._handleError);\r\n    };\r\n    ReconnectingWebSocket.prototype._clearTimeouts = function () {\r\n        clearTimeout(this._connectTimeout);\r\n        clearTimeout(this._uptimeTimeout);\r\n    };\r\n    return ReconnectingWebSocket;\r\n}());\n\nexport default ReconnectingWebSocket;\n","var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\",\n  229: \"q\"\n}\nexports.base = base\n\nvar shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \";\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\",\n  229: \"Q\"\n}\nexports.shift = shift\n\nvar chrome = typeof navigator != \"undefined\" && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nvar safari = typeof navigator != \"undefined\" && /Apple Computer/.test(navigator.vendor)\nvar gecko = typeof navigator != \"undefined\" && /Gecko\\/\\d+/.test(navigator.userAgent)\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar brokenModifierNames = chrome && (mac || +chrome[1] < 57) || gecko && mac\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexports.keyName = function(event) {\n  // Don't trust event.key in Chrome when there are modifiers until\n  // they fix https://bugs.chromium.org/p/chromium/issues/detail?id=633838\n  var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) ||\n    safari && event.shiftKey && event.key && event.key.length == 1\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar w3cKeyname = require('w3c-keyname');\n\nvar extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u180b-\\u180d\\u18a9\\u200c\\u200d]/;\ntry {\n    extendingChars = new RegExp(\"\\\\p{Grapheme_Extend}\", \"u\");\n}\ncatch (_) { }\nfunction isExtendingChar(ch) {\n    var code = ch.charCodeAt(0);\n    return code >= 768 && (code >= 0xdc00 && code < 0xe000 || extendingChars.test(ch));\n}\nvar nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nvar wordChar;\ntry {\n    wordChar = new RegExp(\"[\\\\p{Alphabetic}_]\", \"u\");\n}\ncatch (_) { }\n// FIXME this doesn't work for astral chars yet (need different calling convention)\nfunction isWordCharBasic(ch) {\n    if (wordChar)\n        return wordChar.test(ch);\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n        (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n}\nfunction isWordChar(ch, wordChars) {\n    if (!wordChars)\n        return isWordCharBasic(ch);\n    if (wordChars.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch))\n        return true;\n    return wordChars.test(ch);\n}\nfunction charType(ch, wordChars) {\n    return /\\s/.test(ch) ? 1 /* SPACE */ : isWordChar(ch, wordChars) ? 0 /* WORD */ : 2 /* OTHER */;\n}\n\nfunction countColumn(string, n, tabSize) {\n    for (var i = 0; i < string.length; i++) {\n        var code = string.charCodeAt(i);\n        if (code == 9)\n            n += tabSize - (n % tabSize);\n        else if (code < 768 || !isExtendingChar(string.charAt(i)))\n            n++;\n    }\n    return n;\n}\nfunction findColumn(string, n, col, tabSize) {\n    for (var i = 0; i < string.length; i++) {\n        var code = string.charCodeAt(i);\n        if (code >= 768 && isExtendingChar(string.charAt(i)))\n            continue;\n        if (n >= col)\n            return { offset: i, leftOver: 0 };\n        n += code == 9 ? tabSize - (n % tabSize) : 1;\n    }\n    return { offset: string.length, leftOver: col - n };\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n// The base size of a leaf node\nvar BASE_LEAF = 512;\n// The max size of a leaf node\nvar MAX_LEAF = BASE_LEAF << 1;\n// The desired amount of branches per node, as an exponent of 2 (so 3\n// means 8 branches)\nvar TARGET_BRANCH_SHIFT = 3;\n// Note line numbers are 1-based\nvar Text = /** @class */ (function () {\n    // @internal\n    function Text() {\n    }\n    Text.prototype.lineAt = function (pos) {\n        if (pos < 0 || pos > this.length)\n            throw new RangeError(\"Invalid position \" + pos + \" in document of length \" + this.length);\n        for (var i = 0; i < lineCache.length; i += 2) {\n            if (lineCache[i] != this)\n                continue;\n            var line = lineCache[i + 1];\n            if (line.start <= pos && line.end >= pos)\n                return line;\n        }\n        return cacheLine(this, this.lineInner(pos, false, 1, 0).finish(this));\n    };\n    Text.prototype.line = function (n) {\n        if (n < 1 || n > this.lines)\n            throw new RangeError(\"Invalid line number ${n} in ${this.lines}-line document\");\n        for (var i = 0; i < lineCache.length; i += 2) {\n            if (lineCache[i] != this)\n                continue;\n            var line = lineCache[i + 1];\n            if (line.number == n)\n                return line;\n        }\n        return cacheLine(this, this.lineInner(n, true, 1, 0).finish(this));\n    };\n    Text.prototype.replace = function (from, to, text) {\n        if (text.length == 0)\n            throw new RangeError(\"An inserted range must have at least one line\");\n        return this.replaceInner(from, to, text, textLength(text));\n    };\n    Text.prototype.sliceLines = function (from, to) {\n        if (to === void 0) { to = this.length; }\n        return this.sliceTo(from, to, [\"\"]);\n    };\n    Text.prototype.slice = function (from, to, lineSeparator) {\n        return joinLines(this.sliceLines(from, to), lineSeparator);\n    };\n    Text.prototype.eq = function (other) { return this == other || eqContent(this, other); };\n    Text.prototype.iter = function (dir) {\n        if (dir === void 0) { dir = 1; }\n        return new RawTextCursor(this, dir);\n    };\n    Text.prototype.iterRange = function (from, to) {\n        if (to === void 0) { to = this.length; }\n        return new PartialTextCursor(this, from, to);\n    };\n    Text.prototype.iterLines = function (from) {\n        if (from === void 0) { from = 0; }\n        return new LineCursor(this, from);\n    };\n    Text.prototype.toString = function () { return this.slice(0, this.length); };\n    Text.of = function (text, lineSeparator) {\n        if (typeof text == \"string\")\n            text = splitLines(text, lineSeparator);\n        else if (text.length == 0)\n            throw new RangeError(\"A document must have at least one line\");\n        var length = textLength(text);\n        return length < MAX_LEAF ? new TextLeaf(text, length) : TextNode.from(TextLeaf.split(text, []), length);\n    };\n    return Text;\n}());\nvar lineCache = [], lineCachePos = -2, lineCacheSize = 12;\nfunction cacheLine(text, line) {\n    lineCachePos = (lineCachePos + 2) % lineCacheSize;\n    lineCache[lineCachePos] = text;\n    lineCache[lineCachePos + 1] = line;\n    return line;\n}\nfunction splitLines(text, lineSeparator) {\n    if (lineSeparator === void 0) { lineSeparator = DEFAULT_SPLIT; }\n    return text.split(lineSeparator);\n}\nfunction joinLines(text, lineSeparator) {\n    if (lineSeparator === void 0) { lineSeparator = \"\\n\"; }\n    return text.join(lineSeparator);\n}\nvar DEFAULT_SPLIT = /\\r\\n?|\\n/;\nvar TextLeaf = /** @class */ (function (_super) {\n    __extends(TextLeaf, _super);\n    function TextLeaf(text, length) {\n        if (length === void 0) { length = textLength(text); }\n        var _this = _super.call(this) || this;\n        _this.text = text;\n        _this.length = length;\n        return _this;\n    }\n    Object.defineProperty(TextLeaf.prototype, \"lines\", {\n        get: function () { return this.text.length; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TextLeaf.prototype, \"children\", {\n        get: function () { return null; },\n        enumerable: true,\n        configurable: true\n    });\n    TextLeaf.prototype.replaceInner = function (from, to, text, length) {\n        return Text.of(appendText(this.text, appendText(text, sliceText(this.text, 0, from)), to));\n    };\n    TextLeaf.prototype.sliceTo = function (from, to, target) {\n        if (to === void 0) { to = this.length; }\n        return appendText(this.text, target, from, to);\n    };\n    TextLeaf.prototype.lineInner = function (target, isLine, line, offset) {\n        for (var i = 0;; i++) {\n            var string = this.text[i], end = offset + string.length;\n            if ((isLine ? line : end) >= target)\n                return new Line(offset, end, line, string);\n            offset = end + 1;\n            line++;\n        }\n    };\n    TextLeaf.prototype.decomposeStart = function (to, target) {\n        target.push(new TextLeaf(sliceText(this.text, 0, to), to));\n    };\n    TextLeaf.prototype.decomposeEnd = function (from, target) {\n        target.push(new TextLeaf(sliceText(this.text, from), this.length - from));\n    };\n    TextLeaf.prototype.lastLineLength = function () { return this.text[this.text.length - 1].length; };\n    TextLeaf.prototype.firstLineLength = function () { return this.text[0].length; };\n    TextLeaf.split = function (text, target) {\n        var part = [], length = -1;\n        for (var _i = 0, text_1 = text; _i < text_1.length; _i++) {\n            var line = text_1[_i];\n            for (;;) {\n                var newLength = length + line.length + 1;\n                if (newLength < BASE_LEAF) {\n                    length = newLength;\n                    part.push(line);\n                    break;\n                }\n                var cut = BASE_LEAF - length - 1, after = line.charCodeAt(cut);\n                if (after >= 0xdc00 && after < 0xe000)\n                    cut++;\n                part.push(line.slice(0, cut));\n                target.push(new TextLeaf(part, BASE_LEAF));\n                line = line.slice(cut);\n                length = -1;\n                part = [];\n            }\n        }\n        if (length != -1)\n            target.push(new TextLeaf(part, length));\n        return target;\n    };\n    return TextLeaf;\n}(Text));\nvar TextNode = /** @class */ (function (_super) {\n    __extends(TextNode, _super);\n    function TextNode(children, length) {\n        var _this = _super.call(this) || this;\n        _this.children = children;\n        _this.length = length;\n        _this.lines = 1;\n        for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n            var child = children_1[_i];\n            _this.lines += child.lines - 1;\n        }\n        return _this;\n    }\n    TextNode.prototype.replaceInner = function (from, to, text, length) {\n        var lengthDiff = length - (to - from), newLength = this.length + lengthDiff;\n        if (newLength <= BASE_LEAF)\n            return new TextLeaf(appendText(this.sliceLines(to), appendText(text, this.sliceTo(0, from, [\"\"]))), newLength);\n        var children;\n        for (var i = 0, pos = 0; i < this.children.length; i++) {\n            var child = this.children[i], end = pos + child.length;\n            if (from >= pos && to <= end &&\n                (lengthDiff > 0\n                    ? child.length + lengthDiff < Math.max(newLength >> (TARGET_BRANCH_SHIFT - 1), MAX_LEAF)\n                    : child.length + lengthDiff > newLength >> (TARGET_BRANCH_SHIFT + 1))) {\n                // Fast path: if the change only affects one child and the\n                // child's size remains in the acceptable range, only update\n                // that child\n                children = this.children.slice();\n                children[i] = child.replace(from - pos, to - pos, text);\n                return new TextNode(children, newLength);\n            }\n            else if (end >= from) {\n                // Otherwise, we must build up a new array of children\n                if (children == null)\n                    children = this.children.slice(0, i);\n                if (pos < from) {\n                    if (end == from)\n                        children.push(child);\n                    else\n                        child.decomposeStart(from - pos, children);\n                }\n                if (pos <= from && end >= from)\n                    TextLeaf.split(text, children);\n                if (pos >= to)\n                    children.push(child);\n                else if (end > to)\n                    child.decomposeEnd(to - pos, children);\n            }\n            pos = end;\n        }\n        return children ? TextNode.from(children, newLength) : this;\n    };\n    TextNode.prototype.sliceTo = function (from, to, target) {\n        var pos = 0;\n        for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n            var child = _a[_i];\n            var end = pos + child.length;\n            if (to > pos && from < end)\n                child.sliceTo(Math.max(0, from - pos), Math.min(child.length, to - pos), target);\n            pos = end;\n        }\n        return target;\n    };\n    TextNode.prototype.lineInner = function (target, isLine, line, offset) {\n        for (var i = 0;; i++) {\n            var child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;\n            if ((isLine ? endLine : end) >= target) {\n                var inner = child.lineInner(target, isLine, line, offset), add = void 0;\n                if (inner.start == offset && (add = this.lineLengthTo(i))) {\n                    inner.start -= add;\n                    inner.content = null;\n                }\n                if (inner.end == end && (add = this.lineLengthFrom(i + 1))) {\n                    inner.end += add;\n                    inner.content = null;\n                }\n                return inner;\n            }\n            offset = end;\n            line = endLine;\n        }\n    };\n    TextNode.prototype.decomposeStart = function (to, target) {\n        for (var i = 0, pos = 0;; i++) {\n            var child = this.children[i], end = pos + child.length;\n            if (end <= to) {\n                target.push(child);\n            }\n            else {\n                if (pos < to)\n                    child.decomposeStart(to - pos, target);\n                break;\n            }\n            pos = end;\n        }\n    };\n    TextNode.prototype.decomposeEnd = function (from, target) {\n        var pos = 0;\n        for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n            var child = _a[_i];\n            var end = pos + child.length;\n            if (pos >= from)\n                target.push(child);\n            else if (end > from && pos < from)\n                child.decomposeEnd(from - pos, target);\n            pos = end;\n        }\n    };\n    TextNode.prototype.lineLengthTo = function (to) {\n        var length = 0;\n        for (var i = to - 1; i >= 0; i--) {\n            var child = this.children[i];\n            if (child.lines > 1)\n                return length + child.lastLineLength();\n            length += child.length;\n        }\n        return length;\n    };\n    TextNode.prototype.lastLineLength = function () { return this.lineLengthTo(this.children.length); };\n    TextNode.prototype.lineLengthFrom = function (from) {\n        var length = 0;\n        for (var i = from; i < this.children.length; i++) {\n            var child = this.children[i];\n            if (child.lines > 1)\n                return length + child.firstLineLength();\n            length += child.length;\n        }\n        return length;\n    };\n    TextNode.prototype.firstLineLength = function () { return this.lineLengthFrom(0); };\n    TextNode.from = function (children, length) {\n        if (length < MAX_LEAF) {\n            var text = [\"\"];\n            for (var _i = 0, children_2 = children; _i < children_2.length; _i++) {\n                var child = children_2[_i];\n                child.sliceTo(0, child.length, text);\n            }\n            return new TextLeaf(text, length);\n        }\n        var chunkLength = Math.max(BASE_LEAF, length >> TARGET_BRANCH_SHIFT), maxLength = chunkLength << 1, minLength = chunkLength >> 1;\n        var chunked = [], currentLength = 0, currentChunk = [];\n        function add(child) {\n            var childLength = child.length, last;\n            if (childLength > maxLength && child instanceof TextNode) {\n                for (var _i = 0, _a = child.children; _i < _a.length; _i++) {\n                    var node = _a[_i];\n                    add(node);\n                }\n            }\n            else if (childLength > minLength && (currentLength > minLength || currentLength == 0)) {\n                flush();\n                chunked.push(child);\n            }\n            else if (child instanceof TextLeaf && currentLength > 0 &&\n                (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf &&\n                child.length + last.length <= BASE_LEAF) {\n                currentLength += childLength;\n                currentChunk[currentChunk.length - 1] = new TextLeaf(appendText(child.text, last.text.slice()), child.length + last.length);\n            }\n            else {\n                if (currentLength + childLength > chunkLength)\n                    flush();\n                currentLength += childLength;\n                currentChunk.push(child);\n            }\n        }\n        function flush() {\n            if (currentLength == 0)\n                return;\n            chunked.push(currentChunk.length == 1 ? currentChunk[0] : TextNode.from(currentChunk, currentLength));\n            currentLength = 0;\n            currentChunk.length = 0;\n        }\n        for (var _a = 0, children_3 = children; _a < children_3.length; _a++) {\n            var child = children_3[_a];\n            add(child);\n        }\n        flush();\n        return chunked.length == 1 ? chunked[0] : new TextNode(chunked, length);\n    };\n    return TextNode;\n}(Text));\nfunction textLength(text) {\n    var length = -1;\n    for (var _i = 0, text_2 = text; _i < text_2.length; _i++) {\n        var line = text_2[_i];\n        length += line.length + 1;\n    }\n    return length;\n}\nfunction appendText(text, target, from, to) {\n    if (from === void 0) { from = 0; }\n    if (to === void 0) { to = 1e9; }\n    for (var pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {\n        var line = text[i], end = pos + line.length;\n        if (end >= from) {\n            if (end > to)\n                line = line.slice(0, to - pos);\n            if (pos < from)\n                line = line.slice(from - pos);\n            if (first) {\n                target[target.length - 1] += line;\n                first = false;\n            }\n            else\n                target.push(line);\n        }\n        pos = end + 1;\n    }\n    return target;\n}\nfunction sliceText(text, from, to) {\n    return appendText(text, [\"\"], from, to);\n}\nfunction eqContent(a, b) {\n    if (a.length != b.length || a.lines != b.lines)\n        return false;\n    var iterA = new RawTextCursor(a), iterB = new RawTextCursor(b);\n    for (var offA = 0, offB = 0;;) {\n        if (iterA.lineBreak != iterB.lineBreak || iterA.done != iterB.done) {\n            return false;\n        }\n        else if (iterA.done) {\n            return true;\n        }\n        else if (iterA.lineBreak) {\n            iterA.next();\n            iterB.next();\n            offA = offB = 0;\n        }\n        else {\n            var strA = iterA.value.slice(offA), strB = iterB.value.slice(offB);\n            if (strA.length == strB.length) {\n                if (strA != strB)\n                    return false;\n                iterA.next();\n                iterB.next();\n                offA = offB = 0;\n            }\n            else if (strA.length > strB.length) {\n                if (strA.slice(0, strB.length) != strB)\n                    return false;\n                offA += strB.length;\n                iterB.next();\n                offB = 0;\n            }\n            else {\n                if (strB.slice(0, strA.length) != strA)\n                    return false;\n                offB += strA.length;\n                iterA.next();\n                offA = 0;\n            }\n        }\n    }\n}\nvar RawTextCursor = /** @class */ (function () {\n    // @internal\n    function RawTextCursor(text, dir) {\n        if (dir === void 0) { dir = 1; }\n        this.dir = dir;\n        this.done = false;\n        this.lineBreak = false;\n        this.value = \"\";\n        this.nodes = [text];\n        this.offsets = [dir > 0 ? 0 : text instanceof TextLeaf ? text.text.length : text.children.length];\n    }\n    RawTextCursor.prototype.next = function (skip) {\n        if (skip === void 0) { skip = 0; }\n        for (;;) {\n            var last = this.nodes.length - 1;\n            if (last < 0) {\n                this.done = true;\n                this.value = \"\";\n                this.lineBreak = false;\n                return this;\n            }\n            var top_1 = this.nodes[last];\n            var offset = this.offsets[last];\n            if (top_1 instanceof TextLeaf) {\n                // Internal ofset with lineBreak == false means we have to\n                // count the line break at this position\n                if (offset != (this.dir > 0 ? 0 : top_1.text.length) && !this.lineBreak) {\n                    this.lineBreak = true;\n                    if (skip == 0) {\n                        this.value = \"\\n\";\n                        return this;\n                    }\n                    skip--;\n                    continue;\n                }\n                // Otherwise, move to the next string\n                var next = top_1.text[offset - (this.dir < 0 ? 1 : 0)];\n                this.offsets[last] = (offset += this.dir);\n                if (offset == (this.dir > 0 ? top_1.text.length : 0)) {\n                    this.nodes.pop();\n                    this.offsets.pop();\n                }\n                this.lineBreak = false;\n                if (next.length > skip) {\n                    this.value = skip == 0 ? next : this.dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);\n                    return this;\n                }\n                skip -= next.length;\n            }\n            else if (offset == (this.dir > 0 ? top_1.children.length : 0)) {\n                this.nodes.pop();\n                this.offsets.pop();\n            }\n            else {\n                var next = top_1.children[this.dir > 0 ? offset : offset - 1], len = next.length;\n                this.offsets[last] = offset + this.dir;\n                if (skip > len) {\n                    skip -= len;\n                }\n                else {\n                    this.nodes.push(next);\n                    this.offsets.push(this.dir > 0 ? 0 : next instanceof TextLeaf ? next.text.length : next.children.length);\n                }\n            }\n        }\n    };\n    return RawTextCursor;\n}());\nvar PartialTextCursor = /** @class */ (function () {\n    function PartialTextCursor(text, start, end) {\n        this.value = \"\";\n        this.cursor = new RawTextCursor(text, start > end ? -1 : 1);\n        if (start > end) {\n            this.skip = text.length - start;\n            this.limit = start - end;\n        }\n        else {\n            this.skip = start;\n            this.limit = end - start;\n        }\n    }\n    PartialTextCursor.prototype.next = function () {\n        if (this.limit <= 0) {\n            this.limit = -1;\n        }\n        else {\n            var _a = this.cursor.next(this.skip), value = _a.value, lineBreak = _a.lineBreak;\n            this.skip = 0;\n            this.value = value;\n            var len = lineBreak ? 1 : value.length;\n            if (len > this.limit)\n                this.value = this.cursor.dir > 0 ? value.slice(0, this.limit) : value.slice(len - this.limit);\n            this.limit -= this.value.length;\n        }\n        return this;\n    };\n    Object.defineProperty(PartialTextCursor.prototype, \"lineBreak\", {\n        get: function () { return this.cursor.lineBreak; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PartialTextCursor.prototype, \"done\", {\n        get: function () { return this.limit < 0; },\n        enumerable: true,\n        configurable: true\n    });\n    return PartialTextCursor;\n}());\nvar LineCursor = /** @class */ (function () {\n    function LineCursor(text, from) {\n        if (from === void 0) { from = 0; }\n        this.value = \"\";\n        this.done = false;\n        this.cursor = text.iter();\n        this.skip = from;\n    }\n    LineCursor.prototype.next = function () {\n        if (this.cursor.done) {\n            this.done = true;\n            this.value = \"\";\n            return this;\n        }\n        for (this.value = \"\";;) {\n            var _a = this.cursor.next(this.skip), value = _a.value, lineBreak = _a.lineBreak, done = _a.done;\n            this.skip = 0;\n            if (done || lineBreak)\n                return this;\n            this.value += value;\n        }\n    };\n    Object.defineProperty(LineCursor.prototype, \"lineBreak\", {\n        get: function () { return false; },\n        enumerable: true,\n        configurable: true\n    });\n    return LineCursor;\n}());\nvar Line = /** @class */ (function () {\n    function Line(start, end, number, \n    // @internal\n    content) {\n        this.start = start;\n        this.end = end;\n        this.number = number;\n        this.content = content;\n    }\n    Object.defineProperty(Line.prototype, \"length\", {\n        get: function () { return this.end - this.start; },\n        enumerable: true,\n        configurable: true\n    });\n    Line.prototype.slice = function (from, to) {\n        if (from === void 0) { from = 0; }\n        if (to === void 0) { to = this.length; }\n        if (typeof this.content == \"string\")\n            return to == from + 1 ? this.content.charAt(from) : this.content.slice(from, to);\n        if (from == to)\n            return \"\";\n        var result = this.content.slice(from, to);\n        if (from == 0 && to == this.length)\n            this.content = result;\n        return result;\n    };\n    // @internal\n    Line.prototype.finish = function (text) {\n        if (this.content == null)\n            this.content = new LineContent(text, this.start);\n        return this;\n    };\n    return Line;\n}());\nvar LineContent = /** @class */ (function () {\n    function LineContent(doc, start) {\n        this.doc = doc;\n        this.start = start;\n        this.cursor = null;\n        this.strings = null;\n    }\n    // FIXME quadratic complexity (somewhat) when iterating long lines in small pieces\n    LineContent.prototype.slice = function (from, to) {\n        if (!this.cursor) {\n            this.cursor = this.doc.iter();\n            this.strings = [this.cursor.next(this.start).value];\n        }\n        for (var result = \"\", pos = 0, i = 0;; i++) {\n            if (i == this.strings.length)\n                this.strings.push(this.cursor.next().value);\n            var string = this.strings[i], end = pos + string.length;\n            if (end <= from)\n                continue;\n            result += string.slice(Math.max(0, from - pos), Math.min(string.length, to - pos));\n            if (end >= to)\n                return result;\n            pos += string.length;\n        }\n    };\n    return LineContent;\n}());\n\nvar SelectionRange = /** @class */ (function () {\n    function SelectionRange(anchor, head) {\n        if (head === void 0) { head = anchor; }\n        this.anchor = anchor;\n        this.head = head;\n    }\n    Object.defineProperty(SelectionRange.prototype, \"from\", {\n        get: function () { return Math.min(this.anchor, this.head); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionRange.prototype, \"to\", {\n        get: function () { return Math.max(this.anchor, this.head); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SelectionRange.prototype, \"empty\", {\n        get: function () { return this.anchor == this.head; },\n        enumerable: true,\n        configurable: true\n    });\n    SelectionRange.prototype.map = function (mapping) {\n        var anchor = mapping.mapPos(this.anchor), head = mapping.mapPos(this.head);\n        if (anchor == this.anchor && head == this.head)\n            return this;\n        else\n            return new SelectionRange(anchor, head);\n    };\n    SelectionRange.prototype.extend = function (from, to) {\n        if (to === void 0) { to = from; }\n        if (from <= this.anchor && to >= this.anchor)\n            return new SelectionRange(from, to);\n        var head = Math.abs(from - this.anchor) > Math.abs(to - this.anchor) ? from : to;\n        return new SelectionRange(this.anchor, head);\n    };\n    SelectionRange.prototype.eq = function (other) {\n        return this.anchor == other.anchor && this.head == other.head;\n    };\n    SelectionRange.groupAt = function (state, pos, bias) {\n        if (bias === void 0) { bias = 1; }\n        // FIXME at some point, take language-specific identifier characters into account\n        var line = state.doc.lineAt(pos), linePos = pos - line.start;\n        if (line.length == 0)\n            return new SelectionRange(pos);\n        if (linePos == 0)\n            bias = 1;\n        else if (linePos == line.length)\n            bias = -1;\n        var read = linePos + (bias < 0 ? -1 : 0), type = charType(line.slice(read, read + 1));\n        var from = pos, to = pos;\n        for (var lineFrom = linePos; lineFrom > 0 && charType(line.slice(lineFrom - 1, lineFrom)) == type; lineFrom--)\n            from--;\n        for (var lineTo = linePos; lineTo < line.length && charType(line.slice(lineTo, lineTo + 1)) == type; lineTo++)\n            to++;\n        return new SelectionRange(to, from);\n    };\n    return SelectionRange;\n}());\nvar EditorSelection = /** @class */ (function () {\n    /** @internal */\n    function EditorSelection(ranges, primaryIndex) {\n        if (primaryIndex === void 0) { primaryIndex = 0; }\n        this.ranges = ranges;\n        this.primaryIndex = primaryIndex;\n    }\n    EditorSelection.prototype.map = function (mapping) {\n        return EditorSelection.create(this.ranges.map(function (r) { return r.map(mapping); }), this.primaryIndex);\n    };\n    EditorSelection.prototype.eq = function (other) {\n        if (this.ranges.length != other.ranges.length ||\n            this.primaryIndex != other.primaryIndex)\n            return false;\n        for (var i = 0; i < this.ranges.length; i++)\n            if (!this.ranges[i].eq(other.ranges[i]))\n                return false;\n        return true;\n    };\n    Object.defineProperty(EditorSelection.prototype, \"primary\", {\n        get: function () { return this.ranges[this.primaryIndex]; },\n        enumerable: true,\n        configurable: true\n    });\n    EditorSelection.prototype.asSingle = function () {\n        return this.ranges.length == 1 ? this : new EditorSelection([this.primary]);\n    };\n    EditorSelection.prototype.addRange = function (range, primary) {\n        if (primary === void 0) { primary = true; }\n        return EditorSelection.create([range].concat(this.ranges), primary ? 0 : this.primaryIndex + 1);\n    };\n    EditorSelection.prototype.replaceRange = function (range, which) {\n        if (which === void 0) { which = this.primaryIndex; }\n        var ranges = this.ranges.slice();\n        ranges[which] = range;\n        return EditorSelection.create(ranges, this.primaryIndex);\n    };\n    EditorSelection.single = function (anchor, head) {\n        if (head === void 0) { head = anchor; }\n        return new EditorSelection([new SelectionRange(anchor, head)], 0);\n    };\n    EditorSelection.create = function (ranges, primaryIndex) {\n        if (primaryIndex === void 0) { primaryIndex = 0; }\n        for (var pos = 0, i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            if (range.empty ? range.from <= pos : range.from < pos)\n                return normalized(ranges.slice(), primaryIndex);\n            pos = range.to;\n        }\n        return new EditorSelection(ranges, primaryIndex);\n    };\n    EditorSelection.default = EditorSelection.single(0);\n    return EditorSelection;\n}());\nfunction normalized(ranges, primaryIndex) {\n    if (primaryIndex === void 0) { primaryIndex = 0; }\n    var primary = ranges[primaryIndex];\n    ranges.sort(function (a, b) { return a.from - b.from; });\n    primaryIndex = ranges.indexOf(primary);\n    for (var i = 1; i < ranges.length; i++) {\n        var range = ranges[i], prev = ranges[i - 1];\n        if (range.empty ? range.from <= prev.to : range.from < prev.to) {\n            var from = prev.from, to = Math.max(range.to, prev.to);\n            if (i <= primaryIndex)\n                primaryIndex--;\n            ranges.splice(--i, 2, range.anchor > range.head ? new SelectionRange(to, from) : new SelectionRange(from, to));\n        }\n    }\n    return new EditorSelection(ranges, primaryIndex);\n}\n\nvar fieldNames = Object.create(null);\nvar StateField = /** @class */ (function () {\n    function StateField(_a) {\n        var init = _a.init, apply = _a.apply, _b = _a.debugName, debugName = _b === void 0 ? \"field\" : _b;\n        this.init = init;\n        this.apply = apply;\n        this.key = unique(\"$\" + debugName, fieldNames);\n    }\n    return StateField;\n}());\nvar Plugin = /** @class */ (function () {\n    function Plugin(spec) {\n        this.spec = spec;\n        this.config = spec.config;\n        this.stateField = spec.state || null;\n        this.view = spec.view;\n    }\n    return Plugin;\n}());\nfunction unique(prefix, names) {\n    for (var i = 0;; i++) {\n        var name_1 = prefix + (i ? \"_\" + i : \"\");\n        if (!(name_1 in names))\n            return names[name_1] = name_1;\n    }\n}\n\nvar empty = [];\nvar ChangeDesc = /** @class */ (function () {\n    function ChangeDesc(from, to, length) {\n        this.from = from;\n        this.to = to;\n        this.length = length;\n    }\n    Object.defineProperty(ChangeDesc.prototype, \"invertedDesc\", {\n        get: function () { return new ChangeDesc(this.from, this.from + this.length, this.to - this.from); },\n        enumerable: true,\n        configurable: true\n    });\n    ChangeDesc.prototype.mapPos = function (pos, bias, trackDel) {\n        if (bias === void 0) { bias = -1; }\n        if (trackDel === void 0) { trackDel = false; }\n        var _a = this, from = _a.from, to = _a.to, length = _a.length;\n        if (pos < from)\n            return pos;\n        if (pos > to)\n            return pos + (length - (to - from));\n        if (pos == to || pos == from)\n            return (from == to ? bias <= 0 : pos == from) ? from : from + length;\n        pos = from + (bias <= 0 ? 0 : length);\n        return trackDel ? -pos - 1 : pos;\n    };\n    return ChangeDesc;\n}());\nvar Change = /** @class */ (function (_super) {\n    __extends(Change, _super);\n    function Change(from, to, text) {\n        var _this = _super.call(this, from, to, textLength$1(text)) || this;\n        _this.from = from;\n        _this.to = to;\n        _this.text = text;\n        return _this;\n    }\n    Change.prototype.invert = function (doc) {\n        return new Change(this.from, this.from + this.length, doc.sliceLines(this.from, this.to));\n    };\n    Change.prototype.apply = function (doc) {\n        return doc.replace(this.from, this.to, this.text);\n    };\n    Change.prototype.map = function (mapping) {\n        var from = mapping.mapPos(this.from, 1), to = mapping.mapPos(this.to, -1);\n        return from > to ? null : new Change(from, to, this.text);\n    };\n    Object.defineProperty(Change.prototype, \"desc\", {\n        get: function () { return new ChangeDesc(this.from, this.to, this.length); },\n        enumerable: true,\n        configurable: true\n    });\n    return Change;\n}(ChangeDesc));\nfunction textLength$1(text) {\n    var length = -1;\n    for (var _i = 0, text_1 = text; _i < text_1.length; _i++) {\n        var line = text_1[_i];\n        length += line.length + 1;\n    }\n    return length;\n}\nvar ChangeSet = /** @class */ (function () {\n    function ChangeSet(changes, mirror) {\n        if (mirror === void 0) { mirror = empty; }\n        this.changes = changes;\n        this.mirror = mirror;\n    }\n    Object.defineProperty(ChangeSet.prototype, \"length\", {\n        get: function () {\n            return this.changes.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ChangeSet.prototype.getMirror = function (n) {\n        for (var i = 0; i < this.mirror.length; i++)\n            if (this.mirror[i] == n)\n                return this.mirror[i + (i % 2 ? -1 : 1)];\n        return null;\n    };\n    ChangeSet.prototype.append = function (change, mirror) {\n        return new ChangeSet(this.changes.concat(change), mirror != null ? this.mirror.concat(this.length, mirror) : this.mirror);\n    };\n    ChangeSet.prototype.appendSet = function (changes) {\n        var _this = this;\n        return changes.length == 0 ? this :\n            this.length == 0 ? changes :\n                new ChangeSet(this.changes.concat(changes.changes), this.mirror.concat(changes.mirror.map(function (i) { return i + _this.length; })));\n    };\n    ChangeSet.prototype.mapPos = function (pos, bias, trackDel) {\n        if (bias === void 0) { bias = -1; }\n        if (trackDel === void 0) { trackDel = false; }\n        return this.mapInner(pos, bias, trackDel, 0, this.length);\n    };\n    /** @internal */\n    ChangeSet.prototype.mapInner = function (pos, bias, trackDel, fromI, toI) {\n        var dir = toI < fromI ? -1 : 1;\n        var recoverables = null;\n        var hasMirrors = this.mirror.length > 0, rec, mirror, deleted = false;\n        for (var i = fromI - (dir < 0 ? 1 : 0), endI = toI - (dir < 0 ? 1 : 0); i != endI; i += dir) {\n            var _a = this.changes[i], from = _a.from, to = _a.to, length_1 = _a.length;\n            if (dir < 0) {\n                var len = to - from;\n                to = from + length_1;\n                length_1 = len;\n            }\n            if (pos < from)\n                continue;\n            if (pos > to) {\n                pos += length_1 - (to - from);\n                continue;\n            }\n            // Change touches this position\n            if (recoverables && (rec = recoverables[i]) != null) { // There's a recovery for this change, and it applies\n                pos = from + rec;\n                continue;\n            }\n            if (hasMirrors && (mirror = this.getMirror(i)) != null &&\n                (dir > 0 ? mirror > i && mirror < toI : mirror < i && mirror >= toI)) { // A mirror exists\n                if (pos > from && pos < to) { // If this change deletes the position, skip forward to the mirror\n                    i = mirror;\n                    pos = this.changes[i].from + (pos - from);\n                    continue;\n                }\n                (recoverables || (recoverables = {}))[mirror] = pos - from;\n            }\n            if (pos > from && pos < to) {\n                deleted = true;\n                pos = bias <= 0 ? from : from + length_1;\n            }\n            else {\n                pos = (from == to ? bias <= 0 : pos == from) ? from : from + length_1;\n            }\n        }\n        return trackDel && deleted ? -pos - 1 : pos;\n    };\n    ChangeSet.prototype.partialMapping = function (from, to) {\n        if (to === void 0) { to = this.length; }\n        if (from == 0 && to == this.length)\n            return this;\n        return new PartialMapping(this, from, to);\n    };\n    ChangeSet.prototype.changedRanges = function () {\n        var set = [];\n        for (var i = 0; i < this.length; i++) {\n            var change = this.changes[i];\n            var fromA = change.from, toA = change.to, fromB = change.from, toB = change.from + change.length;\n            if (i < this.length - 1) {\n                var mapping = this.partialMapping(i + 1);\n                fromB = mapping.mapPos(fromB, 1);\n                toB = mapping.mapPos(toB, -1);\n            }\n            if (i > 0) {\n                var mapping = this.partialMapping(i, 0);\n                fromA = mapping.mapPos(fromA, 1);\n                toA = mapping.mapPos(toA, -1);\n            }\n            new ChangedRange(fromA, toA, fromB, toB).addToSet(set);\n        }\n        return set;\n    };\n    Object.defineProperty(ChangeSet.prototype, \"desc\", {\n        get: function () {\n            if (this.changes.length == 0 || this.changes[0] instanceof ChangeDesc)\n                return this;\n            return new ChangeSet(this.changes.map(function (ch) { return ch.desc; }), this.mirror);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ChangeSet.empty = new ChangeSet(empty);\n    return ChangeSet;\n}());\nvar PartialMapping = /** @class */ (function () {\n    function PartialMapping(changes, from, to) {\n        this.changes = changes;\n        this.from = from;\n        this.to = to;\n    }\n    PartialMapping.prototype.mapPos = function (pos, bias, trackDel) {\n        if (bias === void 0) { bias = -1; }\n        if (trackDel === void 0) { trackDel = false; }\n        return this.changes.mapInner(pos, bias, trackDel, this.from, this.to);\n    };\n    return PartialMapping;\n}());\nvar ChangedRange = /** @class */ (function () {\n    function ChangedRange(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    ChangedRange.prototype.join = function (other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    };\n    ChangedRange.prototype.addToSet = function (set) {\n        var i = set.length, me = this;\n        for (; i > 0; i--) {\n            var range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n    };\n    return ChangedRange;\n}());\n\nvar empty$1 = [];\nvar Meta = /** @class */ (function () {\n    function Meta(from) {\n        if (from === void 0) { from = null; }\n        if (from)\n            for (var prop in from)\n                this[prop] = from[prop];\n    }\n    return Meta;\n}());\nMeta.prototype[\"__proto__\"] = null;\nvar metaSlotNames = Object.create(null);\n// _T is a phantom type parameter\nvar MetaSlot = /** @class */ (function () {\n    function MetaSlot(debugName) {\n        if (debugName === void 0) { debugName = \"meta\"; }\n        this.name = unique(debugName, metaSlotNames);\n    }\n    MetaSlot.time = new MetaSlot(\"time\");\n    MetaSlot.changeTabSize = new MetaSlot(\"changeTabSize\");\n    MetaSlot.changeLineSeparator = new MetaSlot(\"changeLineSeparator\");\n    MetaSlot.preserveGoalColumn = new MetaSlot(\"preserveGoalColumn\");\n    MetaSlot.userEvent = new MetaSlot(\"userEvent\");\n    MetaSlot.addToHistory = new MetaSlot(\"addToHistory\");\n    return MetaSlot;\n}());\nvar FLAG_SELECTION_SET = 1, FLAG_SCROLL_INTO_VIEW = 2;\nvar Transaction = /** @class */ (function () {\n    function Transaction(startState, changes, docs, selection, meta, flags) {\n        this.startState = startState;\n        this.changes = changes;\n        this.docs = docs;\n        this.selection = selection;\n        this.meta = meta;\n        this.flags = flags;\n    }\n    Transaction.start = function (state, time) {\n        if (time === void 0) { time = Date.now(); }\n        var meta = new Meta;\n        meta[MetaSlot.time.name] = time;\n        return new Transaction(state, ChangeSet.empty, empty$1, state.selection, meta, 0);\n    };\n    Object.defineProperty(Transaction.prototype, \"doc\", {\n        get: function () {\n            var last = this.docs.length - 1;\n            return last < 0 ? this.startState.doc : this.docs[last];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Transaction.prototype.setMeta = function (slot, value) {\n        var meta = new Meta(this.meta);\n        meta[slot.name] = value;\n        return new Transaction(this.startState, this.changes, this.docs, this.selection, meta, this.flags);\n    };\n    Transaction.prototype.getMeta = function (slot) {\n        return this.meta[slot.name];\n    };\n    Transaction.prototype.change = function (change, mirror) {\n        if (change.from == change.to && change.length == 0)\n            return this;\n        if (change.from < 0 || change.to < change.from || change.to > this.doc.length)\n            throw new RangeError(\"Invalid change \" + change.from + \" to \" + change.to);\n        var changes = this.changes.append(change, mirror);\n        return new Transaction(this.startState, changes, this.docs.concat(change.apply(this.doc)), this.selection.map(changes.partialMapping(changes.length - 1)), this.meta, this.flags);\n    };\n    Transaction.prototype.replace = function (from, to, text) {\n        return this.change(new Change(from, to, typeof text == \"string\" ? this.startState.splitLines(text) : text));\n    };\n    Transaction.prototype.replaceSelection = function (text) {\n        var content = typeof text == \"string\" ? this.startState.splitLines(text) : text;\n        return this.reduceRanges(function (state, r) {\n            var change = new Change(r.from, r.to, content);\n            return { transaction: state.change(change), range: new SelectionRange(r.from + change.length) };\n        });\n    };\n    Transaction.prototype.reduceRanges = function (f) {\n        var tr = this;\n        var sel = tr.selection, start = tr.changes.length, newRanges = [];\n        for (var _i = 0, _a = sel.ranges; _i < _a.length; _i++) {\n            var range = _a[_i];\n            range = range.map(tr.changes.partialMapping(start));\n            var result = f(tr, range);\n            if (result instanceof Transaction) {\n                tr = result;\n                newRanges.push(range.map(tr.changes.partialMapping(tr.changes.length - 1)));\n            }\n            else {\n                tr = result.transaction;\n                newRanges.push(result.range);\n            }\n        }\n        return tr.setSelection(EditorSelection.create(newRanges, sel.primaryIndex));\n    };\n    Transaction.prototype.mapRanges = function (f) {\n        return this.reduceRanges(function (tr, range) { return ({ transaction: tr, range: f(range) }); });\n    };\n    Transaction.prototype.setSelection = function (selection) {\n        return new Transaction(this.startState, this.changes, this.docs, this.startState.multipleSelections ? selection : selection.asSingle(), this.meta, this.flags | FLAG_SELECTION_SET);\n    };\n    Object.defineProperty(Transaction.prototype, \"selectionSet\", {\n        get: function () {\n            return (this.flags & FLAG_SELECTION_SET) > 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Transaction.prototype, \"docChanged\", {\n        get: function () {\n            return this.changes.length > 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Transaction.prototype.scrollIntoView = function () {\n        return new Transaction(this.startState, this.changes, this.docs, this.selection, this.meta, this.flags | FLAG_SCROLL_INTO_VIEW);\n    };\n    Object.defineProperty(Transaction.prototype, \"scrolledIntoView\", {\n        get: function () {\n            return (this.flags & FLAG_SCROLL_INTO_VIEW) > 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Transaction.prototype.apply = function () {\n        return this.startState.applyTransaction(this);\n    };\n    Transaction.prototype.invertedChanges = function () {\n        if (!this.changes.length)\n            return ChangeSet.empty;\n        var changes = [], set = this.changes;\n        for (var i = set.length - 1; i >= 0; i--)\n            changes.push(set.changes[i].invert(i == 0 ? this.startState.doc : this.docs[i - 1]));\n        return new ChangeSet(changes, set.mirror.length ? set.mirror.map(function (i) { return set.length - i - 1; }) : set.mirror);\n    };\n    return Transaction;\n}());\n\nvar Configuration = /** @class */ (function () {\n    function Configuration(plugins, fields, multipleSelections, tabSize, lineSeparator) {\n        this.plugins = plugins;\n        this.fields = fields;\n        this.multipleSelections = multipleSelections;\n        this.tabSize = tabSize;\n        this.lineSeparator = lineSeparator;\n    }\n    Configuration.create = function (config) {\n        var plugins = config.plugins || [], fields = [], multiple = !!config.multipleSelections;\n        for (var _i = 0, plugins_1 = plugins; _i < plugins_1.length; _i++) {\n            var plugin = plugins_1[_i];\n            if (plugin.spec.multipleSelections)\n                multiple = true;\n            var field = plugin.stateField;\n            if (!field)\n                continue;\n            if (fields.indexOf(field) > -1)\n                throw new Error(\"A state field (\" + field.key + \") can only be added to a state once\");\n            fields.push(field);\n        }\n        return new Configuration(plugins, fields, multiple, config.tabSize || 4, config.lineSeparator || null);\n    };\n    Configuration.prototype.updateTabSize = function (tabSize) {\n        return new Configuration(this.plugins, this.fields, this.multipleSelections, tabSize, this.lineSeparator);\n    };\n    Configuration.prototype.updateLineSeparator = function (lineSep) {\n        return new Configuration(this.plugins, this.fields, this.multipleSelections, this.tabSize, lineSep);\n    };\n    return Configuration;\n}());\nvar EditorState = /** @class */ (function () {\n    /** @internal */\n    function EditorState(config, doc, selection) {\n        if (selection === void 0) { selection = EditorSelection.default; }\n        this.config = config;\n        this.doc = doc;\n        this.selection = selection;\n    }\n    EditorState.prototype.getField = function (field) {\n        return this[field.key];\n    };\n    Object.defineProperty(EditorState.prototype, \"plugins\", {\n        get: function () { return this.config.plugins; },\n        enumerable: true,\n        configurable: true\n    });\n    EditorState.prototype.getPluginWithField = function (field) {\n        for (var _i = 0, _a = this.config.plugins; _i < _a.length; _i++) {\n            var plugin = _a[_i];\n            if (plugin.stateField == field)\n                return plugin;\n        }\n        throw new Error(\"Plugin for field not configured\");\n    };\n    /** @internal */\n    EditorState.prototype.applyTransaction = function (tr) {\n        var $conf = this.config;\n        var tabSize = tr.getMeta(MetaSlot.changeTabSize), lineSep = tr.getMeta(MetaSlot.changeLineSeparator);\n        if (tabSize !== undefined)\n            $conf = $conf.updateTabSize(tabSize);\n        if (lineSep !== undefined)\n            $conf = $conf.updateLineSeparator(lineSep);\n        var newState = new EditorState($conf, tr.doc, tr.selection);\n        for (var _i = 0, _a = $conf.fields; _i < _a.length; _i++) {\n            var field = _a[_i];\n            newState[field.key] = field.apply(tr, this[field.key], newState);\n        }\n        return newState;\n    };\n    Object.defineProperty(EditorState.prototype, \"transaction\", {\n        get: function () {\n            return Transaction.start(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EditorState.prototype, \"tabSize\", {\n        get: function () { return this.config.tabSize; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EditorState.prototype, \"multipleSelections\", {\n        get: function () { return this.config.multipleSelections; },\n        enumerable: true,\n        configurable: true\n    });\n    EditorState.prototype.joinLines = function (text) { return joinLines(text, this.config.lineSeparator || undefined); };\n    EditorState.prototype.splitLines = function (text) { return splitLines(text, this.config.lineSeparator || undefined); };\n    EditorState.create = function (config) {\n        if (config === void 0) { config = {}; }\n        var $config = Configuration.create(config);\n        var doc = config.doc instanceof Text ? config.doc : Text.of(config.doc || \"\", config.lineSeparator || undefined);\n        var selection = config.selection || EditorSelection.default;\n        if (!$config.multipleSelections)\n            selection = selection.asSingle();\n        var state = new EditorState($config, doc, selection);\n        for (var _i = 0, _a = $config.fields; _i < _a.length; _i++) {\n            var field = _a[_i];\n            state[field.key] = field.init(state);\n        }\n        return state;\n    };\n    return EditorState;\n}());\n\nvar _a = typeof navigator != \"undefined\"\n    ? [navigator, document]\n    : [{ userAgent: \"\", vendor: \"\", platform: \"\" }, { documentElement: { style: {} } }], nav = _a[0], doc = _a[1];\nvar ie_edge = /Edge\\/(\\d+)/.exec(nav.userAgent);\nvar ie_upto10 = /MSIE \\d/.test(nav.userAgent);\nvar ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nvar ie = !!(ie_upto10 || ie_11up || ie_edge);\nvar gecko = !ie && /gecko\\/(\\d+)/i.test(nav.userAgent);\nvar chrome = !ie && /Chrome\\/(\\d+)/.exec(nav.userAgent);\nvar webkit = !ie && 'WebkitAppearance' in doc.documentElement.style;\nvar browser = {\n    mac: /Mac/.test(nav.platform),\n    ie: ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko: gecko,\n    gecko_version: gecko ? +(/Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios: !ie && /AppleWebKit/.test(nav.userAgent) && /Mobile\\/\\w+/.test(nav.userAgent),\n    android: /Android\\b/.test(nav.userAgent),\n    webkit: webkit,\n    safari: /Apple Computer/.test(nav.vendor),\n    webkit_version: webkit ? +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0\n};\n\nvar getRoot = typeof document == \"undefined\" || document.getRootNode ?\n    function (dom) {\n        var root = dom.getRootNode();\n        return root.nodeType == 9 || root.nodeType == 11 ? root : document;\n    } : function () { return document; };\n// Work around Chrome issue https://bugs.chromium.org/p/chromium/issues/detail?id=447523\n// (isCollapsed inappropriately returns true in shadow dom)\nfunction selectionCollapsed(domSel) {\n    var collapsed = domSel.isCollapsed;\n    if (collapsed && browser.chrome && domSel.rangeCount && !domSel.getRangeAt(0).collapsed)\n        collapsed = false;\n    return collapsed;\n}\nfunction hasSelection(dom) {\n    var sel = getRoot(dom).getSelection();\n    if (!sel.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return dom.contains(sel.anchorNode.nodeType == 3 ? sel.anchorNode.parentNode : sel.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3) {\n        var range = document.createRange();\n        range.setEnd(dom, dom.nodeValue.length);\n        range.setStart(dom, 0);\n        return range.getClientRects();\n    }\n    else if (dom.nodeType == 1) {\n        return dom.getClientRects();\n    }\n    else {\n        return [];\n    }\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\" || node.nodeName == \"PRE\")\n                return false;\n            var parent_1 = node.parentNode;\n            if (!parent_1 || parent_1.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent_1;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nfunction scrollRectIntoView(dom, rect) {\n    var scrollThreshold = 0, scrollMargin = 5;\n    var doc = dom.ownerDocument, win = doc.defaultView;\n    var gutterCover = 0, prev = dom.previousSibling;\n    if (prev && getComputedStyle(prev).position == \"sticky\")\n        gutterCover = dom.offsetLeft;\n    for (var cur = dom.parentNode; cur;) {\n        if (cur.nodeType == 1) { // Element or document\n            var bounding = void 0, top_1 = cur == document.body;\n            if (top_1) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.parentNode;\n                    continue;\n                }\n                var rect_1 = cur.getBoundingClientRect();\n                bounding = { left: rect_1.left, right: rect_1.left + cur.clientWidth,\n                    top: rect_1.top, bottom: rect_1.top + cur.clientHeight };\n            }\n            var moveX = 0, moveY = 0;\n            if (rect.top < bounding.top + scrollThreshold)\n                moveY = -(bounding.top - rect.top + scrollMargin);\n            else if (rect.bottom > bounding.bottom - scrollThreshold)\n                moveY = rect.bottom - bounding.bottom + scrollMargin;\n            if (rect.left < bounding.left + gutterCover + scrollThreshold)\n                moveX = -(bounding.left + gutterCover - rect.left + scrollMargin);\n            else if (rect.right > bounding.right - scrollThreshold)\n                moveX = rect.right - bounding.right + scrollMargin;\n            if (moveX || moveY) {\n                if (top_1) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    if (moveY)\n                        cur.scrollTop += moveY;\n                    if (moveX)\n                        cur.scrollLeft += moveX;\n                    rect = { left: rect.left - moveX, top: rect.top - moveY,\n                        right: rect.right - moveX, bottom: rect.bottom - moveY };\n                }\n            }\n            if (top_1)\n                break;\n            cur = cur.parentNode;\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nvar DOMSelection = /** @class */ (function () {\n    function DOMSelection() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    DOMSelection.prototype.eq = function (domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    };\n    DOMSelection.prototype.set = function (domSel) {\n        this.anchorNode = domSel.anchorNode;\n        this.anchorOffset = domSel.anchorOffset;\n        this.focusNode = domSel.focusNode;\n        this.focusOffset = domSel.focusOffset;\n    };\n    return DOMSelection;\n}());\n\nvar none = [];\nvar ContentView = /** @class */ (function () {\n    function ContentView(parent, dom) {\n        this.parent = parent;\n        this.dom = dom;\n        this.dirty = 0 /* not */;\n        if (dom)\n            dom.cmView = this;\n    }\n    Object.defineProperty(ContentView.prototype, \"childGap\", {\n        get: function () { return 0; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ContentView.prototype, \"overrideDOMText\", {\n        get: function () { return null; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ContentView.prototype, \"posAtStart\", {\n        get: function () {\n            return this.parent ? this.parent.posBefore(this) : 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ContentView.prototype, \"posAtEnd\", {\n        get: function () {\n            return this.posAtStart + this.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContentView.prototype.posBefore = function (view) {\n        var pos = this.posAtStart;\n        for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n            var child = _a[_i];\n            if (child == view)\n                return pos;\n            pos += child.length + this.childGap;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    };\n    ContentView.prototype.posAfter = function (view) {\n        return this.posBefore(view) + view.length;\n    };\n    ContentView.prototype.coordsAt = function (pos) {\n        for (var off = 0, i = 0; i < this.children.length; i++) {\n            var child = this.children[i], end = off + child.length;\n            if (end >= pos && (end != off || this.childGap))\n                return child.coordsAt(pos - off);\n            off = end + this.childGap;\n        }\n        return null;\n    };\n    ContentView.prototype.syncInto = function (parent, pos) {\n        return syncNodeInto(parent, pos, this.dom);\n    };\n    ContentView.prototype.syncDOMChildren = function () {\n        var parent = this.dom, pos = parent.firstChild;\n        for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n            var view = _a[_i];\n            pos = view.syncInto(parent, pos);\n        }\n        while (pos)\n            pos = rm(pos);\n    };\n    ContentView.prototype.sync = function () {\n        if (this.dirty & 2 /* node */)\n            this.syncDOMChildren();\n        if (this.dirty & 1 /* child */)\n            for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                if (child.dirty)\n                    child.sync();\n            }\n        this.dirty = 0 /* not */;\n    };\n    ContentView.prototype.domFromPos = function (pos) { return null; };\n    ContentView.prototype.localPosFromDOM = function (node, offset) {\n        var after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            var bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                var parent_1 = node.parentNode;\n                if (parent_1 == this.dom)\n                    break;\n                if (bias == 0 && parent_1.firstChild != parent_1.lastChild) {\n                    if (node == parent_1.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent_1;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !after.cmView)\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (var i = 0, pos = 0;; i++) {\n            var child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + this.childGap;\n        }\n    };\n    ContentView.prototype.domBoundsAround = function (from, to, offset) {\n        if (offset === void 0) { offset = 0; }\n        var fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (var i = 0, pos = offset; i < this.children.length; i++) {\n            var child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (end >= to && toI == -1) {\n                toI = i;\n                toEnd = end;\n                break;\n            }\n            pos = end + this.childGap;\n        }\n        return { from: fromStart, to: toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length - 1 ? this.children[toI + 1].dom : null };\n    };\n    // FIXME track precise dirty ranges, to avoid full DOM sync on every touched node?\n    ContentView.prototype.markDirty = function () {\n        if (this.dirty & 2 /* node */)\n            return;\n        this.dirty |= 2 /* node */;\n        this.markParentsDirty();\n    };\n    ContentView.prototype.markParentsDirty = function () {\n        for (var parent_2 = this.parent; parent_2; parent_2 = parent_2.parent) {\n            if (parent_2.dirty & 1 /* child */)\n                return;\n            parent_2.dirty |= 1 /* child */;\n        }\n    };\n    ContentView.prototype.setParent = function (parent) {\n        this.parent = parent;\n        if (this.dirty)\n            this.markParentsDirty();\n    };\n    ContentView.prototype.replaceChildren = function (from, to, children) {\n        if (children === void 0) { children = none; }\n        var _a;\n        (_a = this.children).splice.apply(_a, [from, to - from].concat(children));\n        this.markDirty();\n    };\n    ContentView.prototype.ignoreMutation = function (rec) { return false; };\n    ContentView.prototype.ignoreEvent = function (event) { return false; };\n    ContentView.prototype.childPos = function (pos, bias) {\n        if (bias === void 0) { bias = 1; }\n        return new ChildCursor(this.children, this.length, this.childGap).findPos(pos, bias);\n    };\n    return ContentView;\n}());\n// Remove a DOM node and return its next sibling.\nfunction rm(dom) {\n    var next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nfunction syncNodeInto(parent, pos, dom) {\n    if (dom.parentNode == parent) {\n        while (pos != dom)\n            pos = rm(pos);\n        pos = dom.nextSibling;\n    }\n    else {\n        parent.insertBefore(dom, pos);\n    }\n    return pos;\n}\nvar ChildCursor = /** @class */ (function () {\n    function ChildCursor(children, pos, gap, i) {\n        if (gap === void 0) { gap = 0; }\n        if (i === void 0) { i = children.length; }\n        this.children = children;\n        this.pos = pos;\n        this.gap = gap;\n        this.i = i;\n        this.off = 0;\n        this.pos += gap;\n    }\n    ChildCursor.prototype.findPos = function (pos, bias) {\n        if (bias === void 0) { bias = 1; }\n        for (;;) {\n            if (pos > this.pos || pos == this.pos && (bias > 0 || this.i == 0)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            this.pos -= this.children[--this.i].length + this.gap;\n        }\n    };\n    return ChildCursor;\n}());\n\nvar Range = /** @class */ (function () {\n    function Range(from, to, value) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n    }\n    /** @internal */\n    Range.prototype.map = function (changes, oldOffset, newOffset) {\n        var mapped = this.value.map(changes, this.from + oldOffset, this.to + oldOffset);\n        if (mapped) {\n            mapped.from -= newOffset;\n            mapped.to -= newOffset;\n        }\n        return mapped;\n    };\n    /** @internal */\n    Range.prototype.move = function (offset) {\n        return offset ? new Range(this.from + offset, this.to + offset, this.value) : this;\n    };\n    Object.defineProperty(Range.prototype, \"heapPos\", {\n        /** @internal Here so that we can put active ranges on a heap\n         * and take them off at their end */\n        get: function () { return this.to; },\n        enumerable: true,\n        configurable: true\n    });\n    return Range;\n}());\nvar none$1 = [];\nfunction maybeNone(array) { return array.length ? array : none$1; }\nvar BASE_NODE_SIZE_SHIFT = 5, BASE_NODE_SIZE = 1 << BASE_NODE_SIZE_SHIFT;\nvar RangeSet = /** @class */ (function () {\n    // @internal\n    function RangeSet(\n    // @internal The text length covered by this set\n    length, \n    // The number of ranges in the set\n    size, \n    // @internal The locally stored rangeswhich are all of them\n    // for leaf nodes, and the ones that don't fit in child sets for\n    // non-leaves. Sorted by start position, then bias.\n    local, \n    // @internal The child sets, in position order. Their total\n    // length may be smaller than .length if the end is empty (never\n    // greater)\n    children) {\n        this.length = length;\n        this.size = size;\n        this.local = local;\n        this.children = children;\n    }\n    RangeSet.prototype.update = function (added, filter, filterFrom, filterTo) {\n        if (added === void 0) { added = none$1; }\n        if (filter === void 0) { filter = null; }\n        if (filterFrom === void 0) { filterFrom = 0; }\n        if (filterTo === void 0) { filterTo = this.length; }\n        var maxLen = added.reduce(function (l, d) { return Math.max(l, d.to); }, this.length);\n        return this.updateInner(added.length ? added.slice().sort(byPos) : added, filter, filterFrom, filterTo, 0, maxLen);\n    };\n    /** @internal */\n    RangeSet.prototype.updateInner = function (added, filter, filterFrom, filterTo, offset, length) {\n        // The new local ranges. Null means no changes were made yet\n        var local = filterRanges(this.local, filter, filterFrom, filterTo, offset);\n        // The new array of child sets, if changed\n        var children = null;\n        var size = 0;\n        var decI = 0, pos = offset;\n        // Iterate over the child sets, applying filters and pushing added\n        // ranges into them\n        for (var i = 0; i < this.children.length; i++) {\n            var child = this.children[i];\n            var endPos = pos + child.length, localRanges = null;\n            while (decI < added.length) {\n                var next = added[decI];\n                if (next.from >= endPos)\n                    break;\n                decI++;\n                if (next.to > endPos) {\n                    if (!local)\n                        local = this.local.slice();\n                    insertSorted(local, next.move(-offset));\n                }\n                else {\n                    (localRanges || (localRanges = [])).push(next);\n                }\n            }\n            var newChild = child;\n            if (localRanges || filter && filterFrom <= endPos && filterTo >= pos)\n                newChild = newChild.updateInner(localRanges || none$1, filter, filterFrom, filterTo, pos, newChild.length);\n            if (newChild != child)\n                (children || (children = this.children.slice(0, i))).push(newChild);\n            else if (children)\n                children.push(newChild);\n            size += newChild.size;\n            pos = endPos;\n        }\n        // If nothing was actually updated, return the existing object\n        if (!local && !children && decI == added.length)\n            return this;\n        // Compute final size\n        size += (local || this.local).length + added.length - decI;\n        // This is a small nodeturn it into a flat leaf\n        if (size <= BASE_NODE_SIZE)\n            return collapseSet(children || this.children, local || this.local.slice(), added, decI, offset, length);\n        var childSize = Math.max(BASE_NODE_SIZE, size >> BASE_NODE_SIZE_SHIFT);\n        if (decI < added.length) {\n            if (!children)\n                children = this.children.slice();\n            if (!local)\n                local = this.local.slice();\n            appendRanges(local, children, added, decI, offset, length, pos, childSize);\n        }\n        if (children) {\n            if (!local)\n                local = this.local.slice();\n            rebalanceChildren(local, children, childSize);\n        }\n        return new RangeSet(length, size, maybeNone(local || this.local), maybeNone(children || this.children));\n    };\n    RangeSet.prototype.grow = function (length) {\n        return new RangeSet(this.length + length, this.size, this.local, this.children);\n    };\n    // Collect all ranges in this set into the target array,\n    // offsetting them by `offset`\n    RangeSet.prototype.collect = function (target, offset) {\n        for (var _i = 0, _a = this.local; _i < _a.length; _i++) {\n            var range = _a[_i];\n            target.push(range.move(offset));\n        }\n        for (var _b = 0, _c = this.children; _b < _c.length; _b++) {\n            var child = _c[_b];\n            child.collect(target, offset);\n            offset += child.length;\n        }\n    };\n    RangeSet.prototype.map = function (changes) {\n        if (changes.length == 0 || this == RangeSet.empty)\n            return this;\n        return this.mapInner(changes, 0, 0, changes.mapPos(this.length, 1)).set;\n    };\n    // Child boundaries are always mapped forward. This may cause ranges\n    // at the start of a set to end up sticking out before its new\n    // start, if they map backward. Such ranges are returned in\n    // `escaped`.\n    RangeSet.prototype.mapInner = function (changes, oldStart, newStart, newEnd) {\n        var newLocal = null;\n        var escaped = null;\n        var newLength = newEnd - newStart, newSize = 0;\n        for (var i = 0; i < this.local.length; i++) {\n            var range = this.local[i], mapped = range.map(changes, oldStart, newStart);\n            var escape_1 = mapped != null && (mapped.from < 0 || mapped.to > newLength);\n            if (newLocal == null && (range != mapped || escape_1))\n                newLocal = this.local.slice(0, i);\n            if (escape_1)\n                (escaped || (escaped = [])).push(mapped);\n            else if (newLocal && mapped)\n                newLocal.push(mapped);\n        }\n        var newChildren = null;\n        for (var i = 0, oldPos = oldStart, newPos = newStart; i < this.children.length; i++) {\n            var child = this.children[i], newChild = child;\n            var oldChildEnd = oldPos + child.length;\n            var newChildEnd = changes.mapPos(oldPos + child.length, 1);\n            var touch = touchesChanges(oldPos, oldChildEnd, changes.changes);\n            if (touch == 0 /* yes */) {\n                var inner = child.mapInner(changes, oldPos, newPos, newChildEnd);\n                newChild = inner.set;\n                if (inner.escaped)\n                    for (var _i = 0, _a = inner.escaped; _i < _a.length; _i++) {\n                        var range = _a[_i];\n                        range = range.move(newPos - newStart);\n                        if (range.from < 0 || range.to > newLength)\n                            insertSorted(escaped || (escaped = []), range);\n                        else\n                            insertSorted(newLocal || (newLocal = this.local.slice()), range);\n                    }\n            }\n            else if (touch == 2 /* covered */) {\n                newChild = RangeSet.empty.grow(newChildEnd - newPos);\n            }\n            if (newChild != child) {\n                if (newChildren == null)\n                    newChildren = this.children.slice(0, i);\n                // If the node's content was completely deleted by mapping,\n                // drop the nodewhich is complicated by the need to\n                // distribute its length to another child when it's not the\n                // last child\n                if (newChild.size == 0 && (newChild.length == 0 || newChildren.length || i == this.children.length)) {\n                    if (newChild.length > 0 && i > 0) {\n                        var last = newChildren.length - 1, lastChild = newChildren[last];\n                        newChildren[last] = new RangeSet(lastChild.length + newChild.length, lastChild.size, lastChild.local, lastChild.children);\n                    }\n                }\n                else {\n                    newChildren.push(newChild);\n                }\n            }\n            else if (newChildren) {\n                newChildren.push(newChild);\n            }\n            newSize += newChild.size;\n            oldPos = oldChildEnd;\n            newPos = newChildEnd;\n        }\n        var set = newLength == this.length && newChildren == null && newLocal == null\n            ? this\n            : new RangeSet(newLength, newSize + (newLocal || this.local).length, newLocal || this.local, newChildren || this.children);\n        return { set: set, escaped: escaped };\n    };\n    RangeSet.prototype.forEach = function (f) { this.forEachInner(f, 0); };\n    RangeSet.prototype.forEachInner = function (f, offset) {\n        for (var _i = 0, _a = this.local; _i < _a.length; _i++) {\n            var range = _a[_i];\n            f(range.from + offset, range.to + offset, range.value);\n        }\n        for (var _b = 0, _c = this.children; _b < _c.length; _b++) {\n            var child = _c[_b];\n            child.forEachInner(f, offset);\n            offset += child.length;\n        }\n    };\n    RangeSet.prototype.iter = function () {\n        var heap = [];\n        if (this.size > 0) {\n            addIterToHeap(heap, [new IteratedSet(0, this)], 0);\n            if (this.local.length)\n                addToHeap(heap, new LocalSet(0, this.local));\n        }\n        return {\n            next: function () {\n                if (heap.length == 0)\n                    return;\n                var next = takeFromHeap(heap);\n                if (next instanceof LocalSet) {\n                    var range = next.ranges[next.index].move(next.offset);\n                    // Put the rest of the set back onto the heap\n                    if (++next.index < next.ranges.length)\n                        addToHeap(heap, next);\n                    else if (next.next)\n                        addIterToHeap(heap, next.next, 0);\n                    return range;\n                }\n                else { // It is a range\n                    return next;\n                }\n            }\n        };\n    };\n    RangeSet.prototype.compare = function (other, textDiff, comparator, oldLen) {\n        var oldPos = 0, newPos = 0;\n        for (var _i = 0, textDiff_1 = textDiff; _i < textDiff_1.length; _i++) {\n            var range = textDiff_1[_i];\n            if (range.fromB > newPos && (this != other || oldPos != newPos))\n                new RangeSetComparison(this, oldPos, other, newPos, range.fromB, comparator).run();\n            oldPos = range.toA;\n            newPos = range.toB;\n        }\n        if (oldPos < this.length || newPos < other.length)\n            new RangeSetComparison(this, oldPos, other, newPos, newPos + (oldLen - oldPos), comparator).run();\n    };\n    RangeSet.iterateSpans = function (sets, from, to, iterator) {\n        var heap = [];\n        for (var _i = 0, sets_1 = sets; _i < sets_1.length; _i++) {\n            var set = sets_1[_i];\n            if (set.size > 0) {\n                addIterToHeap(heap, [new IteratedSet(0, set)], from);\n                if (set.local.length)\n                    addToHeap(heap, new LocalSet(0, set.local));\n            }\n        }\n        var active = [];\n        while (heap.length > 0) {\n            var next = takeFromHeap(heap);\n            if (next instanceof LocalSet) {\n                var range = next.ranges[next.index];\n                if (range.from + next.offset > to)\n                    break;\n                if (range.to + next.offset >= from) {\n                    if (range.from < range.to && !iterator.ignoreRange(range.value)) {\n                        range = range.move(next.offset);\n                        iterator.advance(range.from, active);\n                        var collapsed = range.value.collapsed;\n                        if (collapsed) {\n                            from = range.to;\n                            iterator.advanceCollapsed(Math.min(from, to), range.value);\n                        }\n                        else {\n                            active.push(range.value);\n                            addToHeap(heap, range);\n                        }\n                    }\n                    else if (range.from == range.to && !iterator.ignorePoint(range.value)) {\n                        iterator.advance(range.from, active);\n                        iterator.point(range.value);\n                    }\n                }\n                // Put the rest of the set back onto the heap\n                if (++next.index < next.ranges.length)\n                    addToHeap(heap, next);\n                else if (next.next)\n                    addIterToHeap(heap, next.next, from);\n            }\n            else { // It is a range that ends here\n                var range = next;\n                if (range.to >= to)\n                    break;\n                iterator.advance(range.to, active);\n                active.splice(active.indexOf(range.value), 1);\n            }\n        }\n        iterator.advance(to, active);\n    };\n    RangeSet.of = function (ranges) {\n        return RangeSet.empty.update(ranges instanceof Range ? [ranges] : ranges);\n    };\n    RangeSet.empty = new RangeSet(0, 0, none$1, none$1);\n    return RangeSet;\n}());\n// Stack element for iterating over a range set\nvar IteratedSet = /** @class */ (function () {\n    function IteratedSet(offset, set) {\n        this.offset = offset;\n        this.set = set;\n        // Index == -1 means the set's locals have not been yielded yet.\n        // Otherwise this is an index in the set's child array.\n        this.index = 0;\n    }\n    return IteratedSet;\n}());\n// Cursor into a node-local set of ranges\nvar LocalSet = /** @class */ (function () {\n    function LocalSet(offset, ranges, next) {\n        if (next === void 0) { next = null; }\n        this.offset = offset;\n        this.ranges = ranges;\n        this.next = next;\n        this.index = 0;\n    }\n    Object.defineProperty(LocalSet.prototype, \"heapPos\", {\n        // Used to make this conform to Heapable\n        get: function () { return this.ranges[this.index].from + this.offset; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LocalSet.prototype, \"value\", {\n        get: function () { return this.ranges[this.index].value; },\n        enumerable: true,\n        configurable: true\n    });\n    return LocalSet;\n}());\nfunction iterRangeSet(stack, skipTo) {\n    if (skipTo === void 0) { skipTo = 0; }\n    for (;;) {\n        if (stack.length == 0)\n            break;\n        var top_1 = stack[stack.length - 1];\n        if (top_1.index == top_1.set.children.length) {\n            stack.pop();\n        }\n        else {\n            var next = top_1.set.children[top_1.index], start = top_1.offset;\n            top_1.index++;\n            top_1.offset += next.length;\n            if (top_1.offset >= skipTo) {\n                stack.push(new IteratedSet(start, next));\n                break;\n            }\n        }\n    }\n}\nfunction compareHeapable(a, b) {\n    return a.heapPos - b.heapPos || a.value.bias - b.value.bias;\n}\nfunction addIterToHeap(heap, stack, skipTo) {\n    if (skipTo === void 0) { skipTo = 0; }\n    for (;;) {\n        iterRangeSet(stack, skipTo);\n        if (stack.length == 0)\n            break;\n        var next = stack[stack.length - 1], local = next.set.local;\n        var leaf = next.set.children.length ? null : stack;\n        if (local.length)\n            addToHeap(heap, new LocalSet(next.offset, local, leaf));\n        if (leaf)\n            break;\n    }\n}\nfunction addToHeap(heap, elt) {\n    var index = heap.push(elt) - 1;\n    while (index > 0) {\n        var parentIndex = index >> 1, parent_1 = heap[parentIndex];\n        if (compareHeapable(elt, parent_1) >= 0)\n            break;\n        heap[index] = parent_1;\n        heap[parentIndex] = elt;\n        index = parentIndex;\n    }\n}\nfunction takeFromHeap(heap) {\n    var elt = heap[0], replacement = heap.pop();\n    if (heap.length == 0)\n        return elt;\n    heap[0] = replacement;\n    for (var index = 0;;) {\n        var childIndex = (index << 1) + 1;\n        if (childIndex >= heap.length)\n            break;\n        var child = heap[childIndex];\n        if (childIndex + 1 < heap.length && compareHeapable(child, heap[childIndex + 1]) >= 0) {\n            child = heap[childIndex + 1];\n            childIndex++;\n        }\n        if (compareHeapable(replacement, child) < 0)\n            break;\n        heap[childIndex] = replacement;\n        heap[index] = child;\n        index = childIndex;\n    }\n    return elt;\n}\nfunction byPos(a, b) {\n    return a.from - b.from || a.value.bias - b.value.bias;\n}\nfunction insertSorted(target, range) {\n    var i = target.length;\n    while (i > 0 && byPos(target[i - 1], range) >= 0)\n        i--;\n    target.splice(i, 0, range);\n}\nfunction filterRanges(ranges, filter, filterFrom, filterTo, offset) {\n    if (!filter)\n        return null;\n    var copy = null;\n    for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i], from = range.from + offset, to = range.to + offset;\n        if (filterFrom > to || filterTo < from || filter(from, to, range.value)) {\n            if (copy != null)\n                copy.push(range);\n        }\n        else {\n            if (copy == null)\n                copy = ranges.slice(0, i);\n        }\n    }\n    return copy;\n}\nfunction collapseSet(children, local, add, start, offset, length) {\n    var mustSort = local.length > 0 && add.length > 0, off = 0;\n    for (var _i = 0, children_1 = children; _i < children_1.length; _i++) {\n        var child = children_1[_i];\n        child.collect(local, -off);\n        off += child.length;\n    }\n    for (var _a = 0, add_1 = add; _a < add_1.length; _a++) {\n        var added = add_1[_a];\n        local.push(added.move(-offset));\n    }\n    if (mustSort)\n        local.sort(byPos);\n    return new RangeSet(length, local.length, local, none$1);\n}\nfunction appendRanges(local, children, ranges, start, offset, length, pos, childSize) {\n    // Group added ranges after the current children into new\n    // children (will usually only happen when initially creating a\n    // node or adding stuff to the top-level node)\n    for (var i = start; i < ranges.length;) {\n        var add = [];\n        var end = Math.min(i + childSize, ranges.length);\n        var endPos = end == ranges.length ? offset + length : ranges[end].from;\n        for (; i < end; i++) {\n            var range = ranges[i];\n            if (range.to > endPos)\n                insertSorted(local, range.move(-offset));\n            else\n                add.push(range);\n        }\n        // Move locals that fit in this new child from `local` to `add`\n        for (var i_1 = 0; i_1 < local.length; i_1++) {\n            var range = local[i_1];\n            if (range.from >= pos && range.to <= endPos) {\n                local.splice(i_1--, 1);\n                insertSorted(add, range.move(offset));\n            }\n        }\n        if (add.length) {\n            if (add.length == ranges.length)\n                children.push(new RangeSet(endPos - pos, add.length, add.map(function (r) { return r.move(-pos); }), none$1));\n            else\n                children.push(RangeSet.empty.updateInner(add, null, 0, 0, pos, endPos - pos));\n            pos = endPos;\n        }\n    }\n}\n// FIXME try to clean this up\nfunction rebalanceChildren(local, children, childSize) {\n    var _loop_1 = function (i, off) {\n        var child = children[i], next = void 0;\n        if (child.size == 0 && (i > 0 || children.length == 1)) {\n            // Drop empty node\n            children.splice(i--, 1);\n            if (i >= 0)\n                children[i] = children[i].grow(child.length);\n        }\n        else if (child.size > (childSize << 1) && child.local.length < (child.length >> 1)) {\n            // Unwrap an overly big node\n            for (var _i = 0, _a = child.local; _i < _a.length; _i++) {\n                var range = _a[_i];\n                insertSorted(local, range.move(off));\n            }\n            children.splice.apply(children, [i, 1].concat(child.children));\n        }\n        else if (child.children.length == 0 && i < children.length - 1 &&\n            (next = children[i + 1]).size + child.size <= BASE_NODE_SIZE &&\n            next.children.length == 0) {\n            // Join two small leaf nodes\n            children.splice(i, 2, new RangeSet(child.length + next.length, child.size + next.size, child.local.concat(next.local.map(function (d) { return d.move(child.length); })), none$1));\n        }\n        else {\n            // Join a number of nodes into a wrapper node\n            var joinTo = i + 1, size = child.size, length_1 = child.length;\n            if (child.size < (childSize >> 1)) {\n                for (; joinTo < children.length; joinTo++) {\n                    var next_1 = children[joinTo], totalSize = size + next_1.size;\n                    if (totalSize > childSize)\n                        break;\n                    size = totalSize;\n                    length_1 += next_1.length;\n                }\n            }\n            if (joinTo > i + 1) {\n                var joined = new RangeSet(length_1, size, none$1, children.slice(i, joinTo));\n                var joinedLocals = [];\n                for (var j = 0; j < local.length; j++) {\n                    var range = local[j];\n                    if (range.from >= off && range.to <= off + length_1) {\n                        local.splice(j--, 1);\n                        joinedLocals.push(range.move(-off));\n                    }\n                }\n                if (joinedLocals.length)\n                    joined = joined.update(joinedLocals.sort(byPos));\n                children.splice(i, joinTo - i, joined);\n                i++;\n                off += length_1;\n            }\n            else {\n                i++;\n                off += child.length;\n            }\n        }\n        out_i_1 = i;\n        out_off_1 = off;\n    };\n    var out_i_1, out_off_1;\n    for (var i = 0, off = 0; i < children.length;) {\n        _loop_1(i, off);\n        i = out_i_1;\n        off = out_off_1;\n    }\n}\nvar SIDE_A = 1, SIDE_B = 2;\nvar ComparisonSide = /** @class */ (function () {\n    function ComparisonSide(stack) {\n        this.stack = stack;\n        this.heap = [];\n        this.active = [];\n        this.activeTo = [];\n        this.points = [];\n        this.tip = null;\n        this.collapsedBy = null;\n        this.collapsedTo = -1;\n    }\n    ComparisonSide.prototype.forward = function (start, next) {\n        var newTip = false;\n        if (next.set.local.length) {\n            var local = new LocalSet(next.offset, next.set.local);\n            addToHeap(this.heap, local);\n            if (!next.set.children.length) {\n                this.tip = local;\n                newTip = true;\n            }\n        }\n        iterRangeSet(this.stack, start);\n        return newTip;\n    };\n    ComparisonSide.prototype.findActive = function (to, value) {\n        for (var i = 0; i < this.active.length; i++)\n            if (this.activeTo[i] == to && this.active[i] == value)\n                return i;\n        return -1;\n    };\n    return ComparisonSide;\n}());\nvar RangeSetComparison = /** @class */ (function () {\n    function RangeSetComparison(a, startA, b, startB, endB, comparator) {\n        this.comparator = comparator;\n        this.a = new ComparisonSide([new IteratedSet(startB - startA, a)]);\n        this.b = new ComparisonSide([new IteratedSet(0, b)]);\n        this.pos = startB;\n        this.end = endB;\n        this.forwardIter(SIDE_A | SIDE_B);\n    }\n    RangeSetComparison.prototype.forwardIter = function (side) {\n        for (; side > 0;) {\n            var nextA = this.a.stack.length ? this.a.stack[this.a.stack.length - 1] : null;\n            var nextB = this.b.stack.length ? this.b.stack[this.b.stack.length - 1] : null;\n            if (nextA && nextB && nextA.offset == nextB.offset && nextA.set == nextB.set) {\n                iterRangeSet(this.a.stack, this.pos);\n                iterRangeSet(this.b.stack, this.pos);\n            }\n            else if (nextA && (!nextB || (nextA.offset < nextB.offset ||\n                nextA.offset == nextB.offset && (this.a.stack.length == 1 ||\n                    nextA.set.length >= nextB.set.length)))) {\n                if (this.a.forward(this.pos, nextA))\n                    side = side & ~SIDE_A;\n            }\n            else if (nextB) {\n                if (this.b.forward(this.pos, nextB))\n                    side = side & ~SIDE_B;\n            }\n            else {\n                break;\n            }\n        }\n    };\n    RangeSetComparison.prototype.run = function () {\n        var heapA = this.a.heap, heapB = this.b.heap;\n        for (;;) {\n            if (heapA.length && (!heapB.length || compareHeapable(heapA[0], heapB[0]) < 0)) {\n                this.advance(this.a, this.b);\n            }\n            else if (heapB.length) {\n                this.advance(this.b, this.a);\n            }\n            else {\n                this.comparator.comparePoints(this.pos, this.a.points, this.b.points);\n                break;\n            }\n        }\n    };\n    RangeSetComparison.prototype.advancePos = function (pos) {\n        if (pos > this.end)\n            pos = this.end;\n        if (pos <= this.pos)\n            return;\n        this.handlePoints();\n        this.comparator.compareRange(this.pos, pos, this.a.active, this.b.active);\n        this.pos = pos;\n    };\n    RangeSetComparison.prototype.handlePoints = function () {\n        if (this.a.points.length || this.b.points.length) {\n            this.comparator.comparePoints(this.pos, this.a.points, this.b.points);\n            this.a.points.length = this.b.points.length = 0;\n        }\n    };\n    RangeSetComparison.prototype.advance = function (side, otherSide) {\n        var next = takeFromHeap(side.heap);\n        if (next instanceof LocalSet) {\n            var range = next.ranges[next.index++];\n            if (range.from + next.offset > this.end) {\n                side.heap.length = 0;\n                this.pos = this.end;\n                return;\n            }\n            if (range.from < range.to && range.to + next.offset > this.pos) {\n                this.advancePos(range.from + next.offset);\n                var collapsed = range.value.collapsed;\n                if (collapsed) {\n                    side.collapsedBy = range.value;\n                    side.collapsedTo = Math.max(side.collapsedTo, range.to + next.offset);\n                    // Skip regions that are collapsed on both sides\n                    var collapsedTo = Math.min(this.a.collapsedTo, this.b.collapsedTo);\n                    if (collapsedTo > this.pos) {\n                        this.handlePoints();\n                        this.comparator.compareCollapsed(this.pos, collapsedTo, this.a.collapsedBy, this.b.collapsedBy);\n                        this.pos = collapsedTo;\n                    }\n                }\n                this.addActiveRange(Math.min(this.end, range.to + next.offset), range.value, side, otherSide);\n            }\n            else if (range.from == range.to) {\n                this.advancePos(range.from + next.offset);\n                var found = otherSide.points.indexOf(range.value);\n                if (found > -1)\n                    remove(otherSide.points, found);\n                else\n                    side.points.push(range.value);\n            }\n            if (next.index < next.ranges.length)\n                addToHeap(side.heap, next);\n            else if (next == this.a.tip)\n                this.forwardIter(SIDE_A);\n            else if (next == this.b.tip)\n                this.forwardIter(SIDE_B);\n        }\n        else {\n            var range = next;\n            this.advancePos(range.to);\n            var found = side.findActive(range.to, range.value);\n            if (found > -1) {\n                remove(side.active, found);\n                remove(side.activeTo, found);\n            }\n        }\n    };\n    RangeSetComparison.prototype.addActiveRange = function (to, value, side, otherSide) {\n        var found = otherSide.findActive(to, value);\n        if (found > -1) {\n            remove(otherSide.active, found);\n            remove(otherSide.activeTo, found);\n        }\n        else {\n            side.active.push(value);\n            side.activeTo.push(to);\n            addToHeap(side.heap, new Range(this.pos, to, value));\n        }\n    };\n    return RangeSetComparison;\n}());\nfunction remove(array, index) {\n    var last = array.pop();\n    if (index != array.length)\n        array[index] = last;\n}\nfunction touchesChanges(from, to, changes) {\n    var result = 1 /* no */;\n    for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\n        var change = changes_1[_i];\n        if (change.to >= from && change.from <= to) {\n            if (change.from < from && change.to > to)\n                result = 2 /* covered */;\n            else if (result == 1 /* no */)\n                result = 0 /* yes */;\n        }\n        var diff = change.length - (change.to - change.from);\n        if (from > change.from)\n            from += diff;\n        if (to > change.to)\n            to += diff;\n    }\n    return result;\n}\n\nvar WidgetType = /** @class */ (function () {\n    function WidgetType(value) {\n        this.value = value;\n    }\n    WidgetType.prototype.eq = function (value) { return this.value === value; };\n    /** @internal */\n    WidgetType.prototype.compare = function (other) {\n        return this == other || this.constructor == other.constructor && this.eq(other.value);\n    };\n    Object.defineProperty(WidgetType.prototype, \"estimatedHeight\", {\n        get: function () { return -1; },\n        enumerable: true,\n        configurable: true\n    });\n    WidgetType.prototype.ignoreEvent = function (event) { return true; };\n    return WidgetType;\n}());\nvar Decoration = /** @class */ (function () {\n    // @internal\n    function Decoration(\n    // @internal\n    bias, \n    // @internal\n    widget, spec) {\n        this.bias = bias;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    Decoration.range = function (from, to, spec) {\n        if (from >= to)\n            throw new RangeError(\"Range decorations may not be empty\");\n        return new Range(from, to, new RangeDecoration(spec));\n    };\n    Decoration.widget = function (pos, spec) {\n        return new Range(pos, pos, new WidgetDecoration(spec));\n    };\n    Decoration.line = function (pos, spec) {\n        return new Range(pos, pos, new LineDecoration(spec));\n    };\n    Decoration.set = function (of) {\n        return RangeSet.of(of);\n    };\n    Decoration.none = RangeSet.empty;\n    return Decoration;\n}());\nvar BIG_BIAS = 2e9;\nvar RangeDecoration = /** @class */ (function (_super) {\n    __extends(RangeDecoration, _super);\n    function RangeDecoration(spec) {\n        var _this = _super.call(this, spec.inclusiveStart === true ? -BIG_BIAS : BIG_BIAS, spec.collapsed instanceof WidgetType ? spec.collapsed : null, spec) || this;\n        _this.spec = spec;\n        _this.endBias = spec.inclusiveEnd == true ? BIG_BIAS : -BIG_BIAS;\n        _this.collapsed = !!spec.collapsed;\n        return _this;\n    }\n    RangeDecoration.prototype.map = function (mapping, from, to) {\n        var newFrom = mapping.mapPos(from, this.bias, true), newTo = mapping.mapPos(to, this.endBias, true);\n        if (newFrom < 0) {\n            if (newTo < 0)\n                return null;\n            newFrom = this.bias >= 0 ? -(newFrom + 1) : mapping.mapPos(from, 1);\n        }\n        else if (newTo < 0) {\n            newTo = this.endBias < 0 ? -(newTo + 1) : mapping.mapPos(to, -1);\n        }\n        return newFrom < newTo ? new Range(newFrom, newTo, this) : null;\n    };\n    RangeDecoration.prototype.sameEffect = function (other) {\n        return this == other ||\n            this.spec.tagName == other.spec.tagName &&\n                this.spec.class == other.spec.class &&\n                this.collapsed == other.collapsed &&\n                widgetsEq(this.widget, other.widget) &&\n                attrsEq(this.spec.attributes, other.spec.attributes);\n    };\n    return RangeDecoration;\n}(Decoration));\nvar WidgetDecoration = /** @class */ (function (_super) {\n    __extends(WidgetDecoration, _super);\n    function WidgetDecoration(spec) {\n        var _this = _super.call(this, spec.side || 0, spec.widget || null, spec) || this;\n        _this.spec = spec;\n        return _this;\n    }\n    WidgetDecoration.prototype.map = function (mapping, pos) {\n        pos = mapping.mapPos(pos, this.bias, true);\n        return pos < 0 ? null : new Range(pos, pos, this);\n    };\n    WidgetDecoration.prototype.sameEffect = function (other) {\n        return other instanceof WidgetDecoration && widgetsEq(this.widget, other.widget) && this.bias == other.bias;\n    };\n    return WidgetDecoration;\n}(Decoration));\nvar LineDecoration = /** @class */ (function (_super) {\n    __extends(LineDecoration, _super);\n    function LineDecoration(spec) {\n        return _super.call(this, -BIG_BIAS, spec.widget || null, spec) || this;\n    }\n    LineDecoration.prototype.map = function (mapping, pos) {\n        for (var _i = 0, _a = mapping.changes; _i < _a.length; _i++) {\n            var change = _a[_i];\n            // If the line break before was deleted, drop this decoration\n            if (change.from <= pos - 1 && change.to >= pos)\n                return null;\n            if (change.from < pos)\n                pos += change.length - (change.to - change.from);\n        }\n        return new Range(pos, pos, this);\n    };\n    LineDecoration.prototype.sameEffect = function (other) {\n        return other instanceof LineDecoration &&\n            attrsEq(this.spec.attributes, other.spec.attributes) &&\n            widgetsEq(this.widget, other.widget) &&\n            this.side == other.side;\n    };\n    Object.defineProperty(LineDecoration.prototype, \"side\", {\n        get: function () { return this.spec.side || 0; },\n        enumerable: true,\n        configurable: true\n    });\n    return LineDecoration;\n}(Decoration));\nfunction attrsEq(a, b) {\n    if (a == b)\n        return true;\n    if (!a || !b)\n        return false;\n    var keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length != keysB.length)\n        return false;\n    for (var _i = 0, keysA_1 = keysA; _i < keysA_1.length; _i++) {\n        var key = keysA_1[_i];\n        if (keysB.indexOf(key) == -1 || a[key] !== b[key])\n            return false;\n    }\n    return true;\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction compareSets(setA, setB) {\n    if (setA.length != setB.length)\n        return false;\n    search: for (var _i = 0, setA_1 = setA; _i < setA_1.length; _i++) {\n        var value = setA_1[_i];\n        for (var _a = 0, setB_1 = setB; _a < setB_1.length; _a++) {\n            var valueB = setB_1[_a];\n            if (value.sameEffect(valueB))\n                continue search;\n        }\n        return false;\n    }\n    return true;\n}\nvar MIN_RANGE_GAP = 4;\nfunction addRange(from, to, ranges) {\n    if (ranges[ranges.length - 1] + MIN_RANGE_GAP > from)\n        ranges[ranges.length - 1] = to;\n    else\n        ranges.push(from, to);\n}\nfunction joinRanges(a, b) {\n    if (a.length == 0)\n        return b;\n    if (b.length == 0)\n        return a;\n    var result = [];\n    for (var iA = 0, iB = 0;;) {\n        if (iA < a.length && (iB == b.length || a[iA] < b[iB]))\n            addRange(a[iA++], a[iA++], result);\n        else if (iB < b.length)\n            addRange(b[iB++], b[iB++], result);\n        else\n            break;\n    }\n    return result;\n}\nvar Changes = /** @class */ (function () {\n    function Changes() {\n        this.content = [];\n        this.height = [];\n    }\n    return Changes;\n}());\nvar DecorationComparator = /** @class */ (function () {\n    function DecorationComparator() {\n        this.changes = new Changes;\n    }\n    DecorationComparator.prototype.compareRange = function (from, to, activeA, activeB) {\n        if (!compareSets(activeA, activeB))\n            addRange(from, to, this.changes.content);\n    };\n    DecorationComparator.prototype.compareCollapsed = function (from, to, byA, byB) {\n        if (!widgetsEq(byA.widget, byB.widget)) {\n            addRange(from, to, this.changes.content);\n            addRange(from, to, this.changes.height);\n        }\n    };\n    DecorationComparator.prototype.comparePoints = function (pos, pointsA, pointsB) {\n        if (!compareSets(pointsA, pointsB)) {\n            addRange(pos, pos, this.changes.content);\n            if (pointsA.some(function (d) { return !!(d.widget && d.widget.estimatedHeight > -1); }) ||\n                pointsB.some(function (d) { return !!(d.widget && d.widget.estimatedHeight > -1); }))\n                addRange(pos, pos, this.changes.height);\n        }\n    };\n    return DecorationComparator;\n}());\nfunction findChangedRanges(a, b, diff, docA) {\n    var comp = new DecorationComparator();\n    a.compare(b, diff, comp, docA.length);\n    return comp.changes;\n}\nvar HeightDecoScanner = /** @class */ (function () {\n    function HeightDecoScanner() {\n        this.ranges = [];\n        this.pos = 0;\n    }\n    HeightDecoScanner.prototype.advance = function (pos, active) { this.pos = pos; };\n    HeightDecoScanner.prototype.advanceCollapsed = function (pos) { addRange(this.pos, pos, this.ranges); this.pos = pos; };\n    HeightDecoScanner.prototype.point = function (value) { addRange(this.pos, this.pos, this.ranges); };\n    HeightDecoScanner.prototype.ignoreRange = function (value) { return true; };\n    HeightDecoScanner.prototype.ignorePoint = function (value) { return !value.widget; };\n    return HeightDecoScanner;\n}());\nfunction heightRelevantDecorations(decorations, ranges) {\n    var scanner = new HeightDecoScanner;\n    for (var _i = 0, ranges_1 = ranges; _i < ranges_1.length; _i++) {\n        var _a = ranges_1[_i], fromB = _a.fromB, toB = _a.toB;\n        if (fromB < toB) {\n            scanner.pos = fromB;\n            RangeSet.iterateSpans(decorations, fromB, toB, scanner);\n        }\n    }\n    return scanner.ranges;\n}\n\nvar none$2 = [];\nvar InlineView = /** @class */ (function (_super) {\n    __extends(InlineView, _super);\n    function InlineView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(InlineView.prototype, \"children\", {\n        get: function () { return none$2; },\n        enumerable: true,\n        configurable: true\n    });\n    InlineView.prototype.finish = function (parent) { };\n    InlineView.prototype.cut = function (from, to) { };\n    InlineView.prototype.getSide = function () { return 0; };\n    InlineView.appendInline = function (a, b) {\n        var i = 0;\n        if (b.length && a.length) {\n            var last = a[a.length - 1];\n            if (last.merge(b[0], last.length))\n                i++;\n        }\n        for (; i < b.length; i++)\n            a.push(b[i]);\n        return a;\n    };\n    return InlineView;\n}(ContentView));\nvar MAX_JOIN_LEN = 256;\nvar TextView = /** @class */ (function (_super) {\n    __extends(TextView, _super);\n    function TextView(text, tagName, clss, attrs) {\n        var _this = _super.call(this, null, null) || this;\n        _this.text = text;\n        _this.tagName = tagName;\n        _this.attrs = attrs;\n        _this.textDOM = null;\n        _this.class = clss;\n        return _this;\n    }\n    TextView.prototype.finish = function (parent) {\n        this.setParent(parent);\n        if (this.dom)\n            return;\n        this.textDOM = document.createTextNode(this.text);\n        var tagName = this.tagName || (this.attrs || this.class ? \"span\" : null);\n        if (tagName) {\n            this.dom = document.createElement(tagName);\n            this.dom.appendChild(this.textDOM);\n            if (this.class)\n                this.dom.className = this.class;\n            if (this.attrs)\n                for (var name_1 in this.attrs)\n                    this.dom.setAttribute(name_1, this.attrs[name_1]);\n        }\n        else {\n            this.dom = this.textDOM;\n        }\n        this.markDirty();\n        this.dom.cmView = this;\n    };\n    Object.defineProperty(TextView.prototype, \"length\", {\n        get: function () { return this.text.length; },\n        enumerable: true,\n        configurable: true\n    });\n    TextView.prototype.sync = function () {\n        if (this.dirty & 2 /* node */) {\n            if (this.textDOM.nodeValue != this.text)\n                this.textDOM.nodeValue = this.text;\n            var dom = this.dom;\n            if (this.textDOM != dom && (this.dom.firstChild != this.textDOM || dom.lastChild != this.textDOM)) {\n                while (dom.firstChild)\n                    dom.removeChild(dom.firstChild);\n                dom.appendChild(this.textDOM);\n            }\n        }\n        this.dirty = 0 /* not */;\n    };\n    TextView.prototype.merge = function (other, from, to) {\n        if (from === void 0) { from = 0; }\n        if (to === void 0) { to = this.length; }\n        if (!(other instanceof TextView) ||\n            other.tagName != this.tagName || other.class != this.class ||\n            !attrsEq(other.attrs, this.attrs) || this.length - (to - from) + other.length > MAX_JOIN_LEN)\n            return false;\n        this.text = this.text.slice(0, from) + other.text + this.text.slice(to);\n        this.markDirty();\n        return true;\n    };\n    TextView.prototype.cut = function (from, to) {\n        if (to === void 0) { to = this.length; }\n        this.text = this.text.slice(0, from) + this.text.slice(to);\n        this.markDirty();\n    };\n    TextView.prototype.slice = function (from, to) {\n        if (to === void 0) { to = this.length; }\n        return new TextView(this.text.slice(from, to), this.tagName, this.class, this.attrs);\n    };\n    TextView.prototype.localPosFromDOM = function (node, offset) {\n        return node == this.textDOM ? offset : offset ? this.text.length : 0;\n    };\n    TextView.prototype.domFromPos = function (pos) { return { node: this.textDOM, offset: pos }; };\n    TextView.prototype.domBoundsAround = function (from, to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    };\n    TextView.prototype.coordsAt = function (pos) {\n        var range = document.createRange();\n        if (browser.chrome || browser.gecko) {\n            // These browsers reliably return valid rectangles for empty ranges\n            range.setEnd(this.textDOM, pos);\n            range.setStart(this.textDOM, pos);\n            return range.getBoundingClientRect();\n        }\n        else {\n            // Otherwise, get the rectangle around a character and take one side\n            var extend = pos == 0 ? 1 : -1;\n            range.setEnd(this.textDOM, pos + (extend > 0 ? 1 : 0));\n            range.setStart(this.textDOM, pos - (extend < 0 ? 1 : 0));\n            var rect = range.getBoundingClientRect();\n            var x = extend < 0 ? rect.right : rect.left;\n            return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n        }\n    };\n    return TextView;\n}(InlineView));\n// Also used for collapsed ranges that don't have a placeholder widget!\nvar WidgetView = /** @class */ (function (_super) {\n    __extends(WidgetView, _super);\n    function WidgetView(length, widget, side) {\n        var _this = _super.call(this, null, null) || this;\n        _this.length = length;\n        _this.widget = widget;\n        _this.side = side;\n        return _this;\n    }\n    WidgetView.prototype.finish = function (parent) {\n        this.setParent(parent);\n        if (!this.dom) {\n            this.dom = this.widget ? this.widget.toDOM() : document.createElement(\"span\");\n            this.dom.contentEditable = \"false\";\n            this.dom.cmView = this;\n        }\n        this.markDirty();\n    };\n    WidgetView.prototype.cut = function (from, to) {\n        if (to === void 0) { to = this.length; }\n        this.length -= to - from;\n    };\n    WidgetView.prototype.slice = function (from, to) {\n        if (to === void 0) { to = this.length; }\n        return new WidgetView(to - from, this.widget, this.side);\n    };\n    WidgetView.prototype.sync = function () { this.dirty = 0 /* not */; };\n    WidgetView.prototype.getSide = function () { return this.side; };\n    WidgetView.prototype.merge = function (other, from, to) {\n        if (from === void 0) { from = 0; }\n        if (to === void 0) { to = this.length; }\n        if (!(other instanceof WidgetView) || this.widget || other.widget)\n            return false;\n        this.length = from + other.length + (this.length - to);\n        return true;\n    };\n    WidgetView.prototype.ignoreMutation = function () { return true; };\n    WidgetView.prototype.ignoreEvent = function (event) { return this.widget ? this.widget.ignoreEvent(event) : false; };\n    Object.defineProperty(WidgetView.prototype, \"overrideDOMText\", {\n        get: function () {\n            if (this.length == 0)\n                return [\"\"];\n            var top = this;\n            while (top.parent)\n                top = top.parent;\n            var text = top.text, start = this.posAtStart;\n            return text ? text.sliceLines(start, start + this.length) : [\"\"];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    WidgetView.prototype.domBoundsAround = function () { return null; };\n    WidgetView.prototype.coordsAt = function (pos) {\n        var rects = this.dom.getClientRects();\n        for (var i = pos > 0 ? rects.length - 1 : 0;; i += (pos > 0 ? -1 : 1)) {\n            var rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                return rects[i];\n        }\n        return null;\n    };\n    return WidgetView;\n}(InlineView));\nvar LineContent$1 = /** @class */ (function () {\n    function LineContent(atStart) {\n        if (atStart === void 0) { atStart = true; }\n        this.atStart = atStart;\n        this.elements = [];\n        this.attrs = null;\n        this.widgets = none$2;\n    }\n    LineContent.prototype.add = function (inline) {\n        this.elements.push(inline);\n        if (this.atStart && inline instanceof TextView)\n            this.atStart = false;\n    };\n    LineContent.prototype.addLineDeco = function (deco) {\n        var attrs = deco.spec.attributes;\n        if (attrs) {\n            if (!this.attrs)\n                this.attrs = {};\n            for (var name_2 in attrs) {\n                if (name_2 == \"class\" && Object.prototype.hasOwnProperty.call(this.attrs, \"class\"))\n                    this.attrs.class += \" \" + attrs.class;\n                else if (name_2 == \"style\" && Object.prototype.hasOwnProperty.call(this.attrs, \"style\"))\n                    this.attrs.style += \";\" + attrs.style;\n                else\n                    this.attrs[name_2] = attrs[name_2];\n            }\n        }\n        if (deco.widget) {\n            if (this.widgets == none$2)\n                this.widgets = [];\n            var pos = 0;\n            while (pos < this.widgets.length && this.widgets[pos].side <= deco.side)\n                pos++;\n            this.widgets.splice(pos, 0, new LineWidget(deco.widget, deco.side));\n        }\n    };\n    return LineContent;\n}());\nvar InlineBuilder = /** @class */ (function () {\n    function InlineBuilder(text, pos) {\n        this.pos = pos;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = text.iter();\n        this.skip = pos;\n        this.lines = [new LineContent$1(text.lineAt(pos).start == pos)];\n    }\n    InlineBuilder.prototype.buildText = function (length, tagName, clss, attrs, ranges) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                var _a = this.cursor.next(this.skip), value = _a.value, lineBreak = _a.lineBreak, done = _a.done;\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    this.lines.push(new LineContent$1);\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            var take = Math.min(this.text.length - this.textOff, length);\n            this.curLine.add(new TextView(this.text.slice(this.textOff, this.textOff + take), tagName, clss, attrs));\n            length -= take;\n            this.textOff += take;\n        }\n    };\n    InlineBuilder.prototype.advance = function (pos, active) {\n        if (pos <= this.pos)\n            return;\n        var tagName = null, clss = null;\n        var attrs = null;\n        for (var _i = 0, _a = active; _i < _a.length; _i++) {\n            var spec = _a[_i].spec;\n            if (spec.tagName)\n                tagName = spec.tagName;\n            if (spec.class)\n                clss = clss ? clss + \" \" + spec.class : spec.class;\n            if (spec.attributes)\n                for (var name_3 in spec.attributes) {\n                    var value = spec.attributes[name_3];\n                    if (value == null)\n                        continue;\n                    if (name_3 == \"class\") {\n                        clss = clss ? clss + \" \" + value : value;\n                    }\n                    else {\n                        if (!attrs)\n                            attrs = {};\n                        if (name_3 == \"style\" && attrs.style)\n                            value = attrs.style + \";\" + value;\n                        attrs[name_3] = value;\n                    }\n                }\n        }\n        this.buildText(pos - this.pos, tagName, clss, attrs, active);\n        this.pos = pos;\n    };\n    InlineBuilder.prototype.advanceCollapsed = function (pos, deco) {\n        if (pos <= this.pos)\n            return;\n        var line = this.curLine;\n        var widgetView = new WidgetView(pos - this.pos, deco.widget, 0);\n        if (!line.elements.length || !line.elements[line.elements.length - 1].merge(widgetView))\n            line.add(widgetView);\n        // Advance the iterator past the collapsed content\n        var length = pos - this.pos;\n        if (this.textOff + length <= this.text.length) {\n            this.textOff += length;\n        }\n        else {\n            this.skip += length - (this.text.length - this.textOff);\n            this.text = \"\";\n            this.textOff = 0;\n        }\n        this.pos = pos;\n    };\n    InlineBuilder.prototype.point = function (deco) {\n        if (deco instanceof WidgetDecoration)\n            this.curLine.add(new WidgetView(0, deco.widget, deco.bias));\n        else if (this.curLine.atStart)\n            this.curLine.addLineDeco(deco);\n    };\n    Object.defineProperty(InlineBuilder.prototype, \"curLine\", {\n        get: function () { return this.lines[this.lines.length - 1]; },\n        enumerable: true,\n        configurable: true\n    });\n    InlineBuilder.prototype.ignoreRange = function (deco) { return false; };\n    InlineBuilder.prototype.ignorePoint = function (deco) { return false; };\n    InlineBuilder.build = function (text, from, to, decorations) {\n        var builder = new InlineBuilder(text, from);\n        RangeSet.iterateSpans(decorations, from, to, builder);\n        return builder.lines;\n    };\n    return InlineBuilder;\n}());\n\nvar LineView = /** @class */ (function (_super) {\n    __extends(LineView, _super);\n    function LineView(parent, content, tail) {\n        var _this = _super.call(this, parent, document.createElement(\"div\")) || this;\n        _this.widgets = none$3;\n        _this.prevAttrs = undefined;\n        _this.attrs = null;\n        _this.length = 0;\n        _this.children = [];\n        if (content)\n            _this.update(0, 0, content, tail);\n        _this.markDirty();\n        return _this;\n    }\n    LineView.prototype.setDeco = function (content) {\n        if (!attrsEq(this.attrs, content.attrs)) {\n            this.prevAttrs = this.attrs;\n            this.attrs = content.attrs;\n            this.markDirty();\n        }\n        // Reconcile the new widgets with the existing ones\n        for (var i = 0, j = 0;;) {\n            var a = i == this.widgets.length ? null : this.widgets[i];\n            var b = j == content.widgets.length ? null : content.widgets[j];\n            if (!a && !b)\n                break;\n            if (a && b && a.eq(b)) {\n                i++;\n                j++;\n            }\n            else if (!a || (b && b.side <= a.side)) {\n                if (this.widgets == none$3)\n                    this.widgets = [];\n                this.widgets.splice(i++, 0, b.finish());\n                this.parent.markDirty();\n                j++;\n            }\n            else {\n                this.widgets.splice(i, 1);\n                this.parent.markDirty();\n            }\n        }\n    };\n    LineView.prototype.update = function (from, to, content, tail) {\n        if (to === void 0) { to = this.length; }\n        if (from == 0)\n            this.setDeco(content);\n        var elts = tail ? InlineView.appendInline(content.elements, tail) : content.elements;\n        var cur = new ChildCursor(this.children, this.length);\n        var _a = cur.findPos(to, 1), toI = _a.i, toOff = _a.off;\n        var _b = cur.findPos(from, -1), fromI = _b.i, fromOff = _b.off;\n        var dLen = from - to;\n        for (var _i = 0, elts_1 = elts; _i < elts_1.length; _i++) {\n            var view = elts_1[_i];\n            dLen += view.length;\n        }\n        this.length += dLen;\n        // Both from and to point into the same text view\n        if (fromI == toI && fromOff) {\n            var start = this.children[fromI];\n            // Maybe just update that view and be done\n            if (elts.length == 1 && start.merge(elts[0], fromOff, toOff))\n                return;\n            if (elts.length == 0)\n                return start.cut(fromOff, toOff);\n            // Otherwise split it, so that we don't have to worry about aliasting front/end afterwards\n            InlineView.appendInline(elts, [start.slice(toOff)]);\n            toI++;\n            toOff = 0;\n        }\n        // Make sure start and end positions fall on node boundaries\n        // (fromOff/toOff are no longer used after this), and that if the\n        // start or end of the elts can be merged with adjacent nodes,\n        // this is done\n        if (toOff) {\n            var end = this.children[toI];\n            if (elts.length && end.merge(elts[elts.length - 1], 0, toOff))\n                elts.pop();\n            else\n                end.cut(0, toOff);\n        }\n        else if (toI < this.children.length && elts.length &&\n            this.children[toI].merge(elts[elts.length - 1], 0, 0)) {\n            elts.pop();\n        }\n        if (fromOff) {\n            var start = this.children[fromI];\n            if (elts.length && start.merge(elts[0], fromOff))\n                elts.shift();\n            else\n                start.cut(fromOff);\n            fromI++;\n        }\n        else if (fromI && elts.length && this.children[fromI - 1].merge(elts[0], this.children[fromI - 1].length)) {\n            elts.shift();\n        }\n        // Then try to merge any mergeable nodes at the start and end of\n        // the changed range\n        while (fromI < toI && elts.length && this.children[toI - 1].merge(elts[elts.length - 1])) {\n            elts.pop();\n            toI--;\n        }\n        while (fromI < toI && elts.length && this.children[fromI].merge(elts[0])) {\n            elts.shift();\n            fromI++;\n        }\n        // And if anything remains, splice the child array to insert the new elts\n        if (elts.length || fromI != toI) {\n            for (var _c = 0, elts_2 = elts; _c < elts_2.length; _c++) {\n                var view = elts_2[_c];\n                view.finish(this);\n            }\n            this.replaceChildren(fromI, toI, elts);\n        }\n    };\n    LineView.prototype.detachTail = function (from) {\n        var result = [];\n        if (this.length == 0)\n            return result;\n        var _a = new ChildCursor(this.children, this.length).findPos(from), i = _a.i, off = _a.off;\n        if (off > 0) {\n            var child = this.children[i];\n            result.push(child.slice(off));\n            child.cut(off);\n            i++;\n        }\n        if (i < this.children.length) {\n            for (var j = i; j < this.children.length; j++)\n                result.push(this.children[j]);\n            this.replaceChildren(i, this.children.length);\n        }\n        this.length = from;\n        return result;\n    };\n    LineView.prototype.domFromPos = function (pos) {\n        var _a = new ChildCursor(this.children, this.length).findPos(pos), i = _a.i, off = _a.off;\n        if (off) {\n            var child = this.children[i];\n            if (child instanceof TextView)\n                return { node: child.textDOM, offset: off };\n        }\n        while (i > 0 && (this.children[i - 1].getSide() > 0 || this.children[i - 1].dom.parentNode != this.dom))\n            i--;\n        return { node: this.dom, offset: i ? domIndex(this.children[i - 1].dom) + 1 : 0 };\n    };\n    LineView.prototype.syncInto = function (parent, pos) {\n        for (var i = 0, main = false;; i++) {\n            var widget = i == this.widgets.length ? null : this.widgets[i];\n            if (!main && (!widget || widget.side > 0)) {\n                main = true;\n                pos = syncNodeInto(parent, pos, this.dom);\n            }\n            if (!widget)\n                break;\n            pos = syncNodeInto(parent, pos, widget.dom);\n        }\n        return pos;\n    };\n    // FIXME might need another hack to work around Firefox's behavior\n    // of not actually displaying the cursor even though it's there in\n    // the DOM\n    LineView.prototype.sync = function () {\n        _super.prototype.sync.call(this);\n        if (this.prevAttrs !== undefined) {\n            removeAttrs(this.dom, this.prevAttrs);\n            setAttrs(this.dom, this.attrs);\n            this.prevAttrs = undefined;\n        }\n        var last = this.dom.lastChild;\n        if (!last || last.nodeName == \"BR\") {\n            var hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    };\n    LineView.prototype.measureTextSize = function () {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        var totalWidth = 0;\n        for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n            var child = _a[_i];\n            if (!(child instanceof TextView))\n                return null;\n            var rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n        }\n        return { lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length };\n    };\n    LineView.prototype.coordsAt = function (pos) {\n        if (this.length == 0)\n            return this.dom.lastChild.getBoundingClientRect();\n        return _super.prototype.coordsAt.call(this, pos);\n    };\n    // Ignore mutations in line widgets\n    LineView.prototype.ignoreMutation = function (rec) {\n        return !this.dom.contains(rec.target.nodeType == 1 ? rec.target : rec.target.parentNode);\n    };\n    // Find the appropriate widget, and ask it whether an event needs to be ignored\n    LineView.prototype.ignoreEvent = function (event) {\n        if (this.widgets.length == 0 || this.dom.contains(event.target))\n            return false;\n        for (var _i = 0, _a = this.widgets; _i < _a.length; _i++) {\n            var widget = _a[_i];\n            if (widget.dom.contains(event.target))\n                return widget.widget.ignoreEvent(event);\n        }\n        return true;\n    };\n    return LineView;\n}(ContentView));\nvar LineWidget = /** @class */ (function () {\n    function LineWidget(widget, side) {\n        this.widget = widget;\n        this.side = side;\n        this.dom = null;\n    }\n    LineWidget.prototype.eq = function (other) {\n        return this.widget.compare(other.widget) && this.side == other.side;\n    };\n    LineWidget.prototype.finish = function () {\n        this.dom = this.widget.toDOM();\n        this.dom.cmIgnore = true;\n        return this;\n    };\n    return LineWidget;\n}());\nvar none$3 = [];\nfunction setAttrs(dom, attrs) {\n    if (attrs)\n        for (var name_1 in attrs)\n            dom.setAttribute(name_1, attrs[name_1]);\n}\nfunction removeAttrs(dom, attrs) {\n    if (attrs)\n        for (var name_2 in attrs)\n            dom.removeAttribute(name_2);\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    var rect = dom.getBoundingClientRect();\n    var top = Math.max(0, Math.min(innerHeight, rect.top)), bottom = Math.max(0, Math.min(innerHeight, rect.bottom));\n    for (var parent_1 = dom.parentNode; parent_1;) { // (Cast to any because TypeScript is useless with Node types)\n        if (parent_1.nodeType == 1) {\n            if (parent_1.scrollHeight > parent_1.clientHeight) {\n                var parentRect = parent_1.getBoundingClientRect();\n                top = Math.min(parentRect.bottom, Math.max(parentRect.top, top));\n                bottom = Math.min(parentRect.bottom, Math.max(parentRect.top, bottom));\n            }\n            parent_1 = parent_1.parentNode;\n        }\n        else if (parent_1.nodeType == 11) { // Shadow root\n            parent_1 = parent_1.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { top: top - (rect.top + paddingTop), bottom: bottom - (rect.top + paddingTop) };\n}\nvar VIEWPORT_MARGIN = 1000; // FIXME look into appropriate value of this through benchmarking etc\nvar MIN_COVER_MARGIN = 10; // coveredBy requires at least this many extra pixels to be covered\nvar MAX_COVER_MARGIN = VIEWPORT_MARGIN / 4;\nvar ViewportState = /** @class */ (function () {\n    function ViewportState() {\n        this.top = 0;\n        this.bottom = 0;\n    }\n    ViewportState.prototype.updateFromDOM = function (dom, paddingTop) {\n        var _a = visiblePixelRange(dom, paddingTop), top = _a.top, bottom = _a.bottom;\n        var dTop = top - this.top, dBottom = bottom - this.bottom, bias = 0;\n        if (dTop > 0 && dBottom > 0)\n            bias = Math.max(dTop, dBottom);\n        else if (dTop < 0 && dBottom < 0)\n            bias = Math.min(dTop, dBottom);\n        this.top = top;\n        this.bottom = bottom;\n        return bias;\n    };\n    ViewportState.prototype.coverEverything = function () {\n        this.top = -2e9;\n        this.bottom = 2e9;\n    };\n    ViewportState.prototype.getViewport = function (doc, heightMap, bias, scrollTo) {\n        // This will divide VIEWPORT_MARGIN between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        var marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / VIEWPORT_MARGIN / 2));\n        var viewport = new Viewport(heightMap.lineAt(this.top - marginTop * VIEWPORT_MARGIN, doc).start, heightMap.lineAt(this.bottom + (1 - marginTop) * VIEWPORT_MARGIN, doc).end);\n        // If scrollTo is > -1, make sure the viewport includes that position\n        if (scrollTo > -1) {\n            if (scrollTo < viewport.from) {\n                var top_1 = heightMap.heightAt(scrollTo, doc, -1);\n                viewport = new Viewport(heightMap.lineAt(top_1 - VIEWPORT_MARGIN / 2, doc).start, heightMap.lineAt(top_1 + (this.bottom - this.top) + VIEWPORT_MARGIN / 2, doc).end);\n            }\n            else if (scrollTo > viewport.to) {\n                var bottom = heightMap.heightAt(scrollTo, doc, 1);\n                viewport = new Viewport(heightMap.lineAt(bottom - (this.bottom - this.top) - VIEWPORT_MARGIN / 2, doc).start, heightMap.lineAt(bottom + VIEWPORT_MARGIN / 2, doc).end);\n            }\n        }\n        return viewport;\n    };\n    ViewportState.prototype.coveredBy = function (doc, viewport, heightMap, bias) {\n        if (bias === void 0) { bias = 0; }\n        var top = heightMap.heightAt(viewport.from, doc, -1), bottom = heightMap.heightAt(viewport.to, doc, 1);\n        return (viewport.from == 0 || top <= this.top - Math.max(MIN_COVER_MARGIN, Math.min(-bias, MAX_COVER_MARGIN))) &&\n            (viewport.to == doc.length || bottom >= this.bottom + Math.max(MIN_COVER_MARGIN, Math.min(bias, MAX_COVER_MARGIN)));\n    };\n    return ViewportState;\n}());\nvar Viewport = /** @class */ (function () {\n    function Viewport(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n    Viewport.prototype.clip = function (pos) { return Math.max(this.from, Math.min(this.to, pos)); };\n    Viewport.empty = new Viewport(0, 0);\n    return Viewport;\n}());\n\nvar observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nvar useCharData = browser.ie && browser.ie_version <= 11;\nvar DOMObserver = /** @class */ (function () {\n    function DOMObserver(docView, onChange, onScrollChanged) {\n        var _this = this;\n        this.docView = docView;\n        this.onChange = onChange;\n        this.onScrollChanged = onScrollChanged;\n        this.active = false;\n        this.ignoreSelection = new DOMSelection;\n        this.charDataQueue = [];\n        this.charDataTimeout = null;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.intersecting = true;\n        this.dom = docView.dom;\n        this.observer = new MutationObserver(function (mutations) { return _this.flush(mutations); });\n        if (useCharData)\n            this.onCharData = function (event) {\n                _this.charDataQueue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                if (_this.charDataTimeout == null)\n                    _this.charDataTimeout = setTimeout(function () { return _this.flush(); }, 20);\n            };\n        this.onSelectionChange = function () {\n            if (getRoot(_this.dom).activeElement == _this.dom)\n                _this.flush();\n        };\n        this.start();\n        this.onScroll = this.onScroll.bind(this);\n        window.addEventListener(\"scroll\", this.onScroll);\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(function (entries) {\n                if (entries[entries.length - 1].intersectionRatio > 0 != _this.intersecting) {\n                    _this.intersecting = !_this.intersecting;\n                    _this.onScroll();\n                }\n            }, {});\n            this.intersection.observe(this.dom);\n        }\n        this.listenForScroll();\n    }\n    DOMObserver.prototype.onScroll = function () {\n        if (this.intersecting) {\n            this.flush();\n            this.onScrollChanged();\n        }\n    };\n    DOMObserver.prototype.listenForScroll = function () {\n        var i = 0, changed = null;\n        for (var dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (var _i = 0, _a = this.scrollTargets; _i < _a.length; _i++) {\n                var dom = _a[_i];\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            }\n            for (var _b = 0, _c = this.scrollTargets = changed; _b < _c.length; _b++) {\n                var dom = _c[_b];\n                dom.addEventListener(\"scroll\", this.onScroll);\n            }\n        }\n    };\n    DOMObserver.prototype.ignore = function (f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    };\n    DOMObserver.prototype.start = function () {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        // FIXME is this shadow-root safe?\n        this.dom.ownerDocument.addEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    };\n    DOMObserver.prototype.stop = function () {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        this.dom.ownerDocument.removeEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    };\n    DOMObserver.prototype.takeCharRecords = function () {\n        var result = this.charDataQueue;\n        if (result.length) {\n            this.charDataQueue = [];\n            clearTimeout(this.charDataTimeout);\n            this.charDataTimeout = null;\n        }\n        return result;\n    };\n    DOMObserver.prototype.clearSelection = function () {\n        this.ignoreSelection.set(getRoot(this.dom).getSelection());\n    };\n    // Throw away any pending changes\n    DOMObserver.prototype.clear = function () {\n        this.observer.takeRecords();\n        this.takeCharRecords();\n        this.clearSelection();\n    };\n    // Apply pending changes, if any\n    DOMObserver.prototype.flush = function (records) {\n        var _this = this;\n        if (records === void 0) { records = this.observer.takeRecords(); }\n        if (this.charDataQueue.length)\n            records = records.concat(this.takeCharRecords());\n        var newSel = !this.ignoreSelection.eq(getRoot(this.dom).getSelection()) &&\n            hasSelection(this.dom);\n        if (records.length == 0 && !newSel)\n            return;\n        var from = -1, to = -1, typeOver = false;\n        for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            var range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                (from = range.from, to = range.to);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        var apply = from > -1 || newSel;\n        if (!apply || !this.onChange(from, to, typeOver)) {\n            if (this.docView.dirty)\n                this.ignore(function () { return _this.docView.sync(); });\n            this.docView.updateSelection();\n        }\n        this.clearSelection();\n    };\n    DOMObserver.prototype.readMutation = function (rec) {\n        var cView = this.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty();\n        if (rec.type == \"childList\") {\n            var childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            var childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else { // \"characterData\"\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n    };\n    DOMObserver.prototype.destroy = function () {\n        this.stop();\n        if (this.intersection)\n            this.intersection.disconnect();\n        for (var _i = 0, _a = this.scrollTargets; _i < _a.length; _i++) {\n            var dom = _a[_i];\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        }\n        window.removeEventListener(\"scroll\", this.onScroll);\n    };\n    return DOMObserver;\n}());\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        var curView = dom.cmView;\n        if (curView && curView.parent == cView)\n            return curView;\n        var parent_1 = dom.parentNode;\n        dom = parent_1 != cView.dom ? parent_1 : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\n\nvar wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\"];\nvar HeightOracle = /** @class */ (function () {\n    function HeightOracle() {\n        this.doc = Text.of([\"\"]);\n        this.lineWrapping = false;\n        this.heightSamples = {};\n        this.lineHeight = 14;\n        this.charWidth = 7;\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    HeightOracle.prototype.heightForGap = function (from, to) {\n        var lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength);\n        return this.lineHeight * lines;\n    };\n    HeightOracle.prototype.heightForLine = function (length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        var lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    };\n    HeightOracle.prototype.setDoc = function (doc) { this.doc = doc; return this; };\n    HeightOracle.prototype.mustRefresh = function (lineHeights) {\n        var newHeight = false;\n        for (var i = 0; i < lineHeights.length; i++) {\n            var h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight;\n    };\n    HeightOracle.prototype.refresh = function (whiteSpace, lineHeight, charWidth, lineLength, knownHeights) {\n        var lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        var changed = Math.round(lineHeight) != Math.round(this.lineHeight) || this.lineWrapping != lineWrapping;\n        this.lineWrapping = lineWrapping;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (var i = 0; i < knownHeights.length; i++) {\n                var h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    };\n    return HeightOracle;\n}());\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right lines. The `heights` array is a sequence of\n// line heights, starting from position `from`. When the lines have\n// line widgets, their height may be followed by a -1 or -2\n// (indicating whether the height is below or above the line) and then\n// a total widget height.\nvar MeasuredHeights = /** @class */ (function () {\n    function MeasuredHeights(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    Object.defineProperty(MeasuredHeights.prototype, \"more\", {\n        get: function () { return this.index < this.heights.length; },\n        enumerable: true,\n        configurable: true\n    });\n    return MeasuredHeights;\n}());\nvar LineHeight = /** @class */ (function () {\n    function LineHeight(start, end, top, height, \n    // @internal\n    line) {\n        this.start = start;\n        this.end = end;\n        this.top = top;\n        this.height = height;\n        this.line = line;\n    }\n    Object.defineProperty(LineHeight.prototype, \"bottom\", {\n        get: function () { return this.top + this.height; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineHeight.prototype, \"textTop\", {\n        get: function () { return this.top + (this.line ? lineWidgetHeight(this.line.deco, -2) : 0); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineHeight.prototype, \"textBottom\", {\n        get: function () { return this.bottom - (this.line ? lineWidgetHeight(this.line.deco, -1) : 0); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(LineHeight.prototype, \"hasCollapsedRanges\", {\n        get: function () {\n            if (this.line)\n                for (var i = 1; i < this.line.deco.length; i += 2)\n                    if (this.line.deco[i] < 0)\n                        return true;\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return LineHeight;\n}());\nvar HeightMap = /** @class */ (function () {\n    function HeightMap(length, // The number of characters covered\n    height, // Height of this part of the document\n    outdated // Tracks whether the height needs to be recomputed\n    ) {\n        if (outdated === void 0) { outdated = true; }\n        this.length = length;\n        this.height = height;\n        this.outdated = outdated;\n    }\n    HeightMap.prototype.setHeight = function (oracle, height) {\n        if (this.height != height) {\n            this.height = height;\n            oracle.heightChanged = true;\n        }\n    };\n    // from/to are node-relative positions pointing into the node itself\n    // newFrom/newTo are document-relative positions in the updated\n    // document, used for querying line endings and such\n    HeightMap.prototype.replace = function (from, to, nodes, oracle, newFrom, newTo) {\n        var result = [];\n        this.decomposeLeft(from, result, nodes[0], oracle, newFrom);\n        var last;\n        if (nodes.length == 1) {\n            last = result.pop();\n        }\n        else {\n            for (var i = 1; i < nodes.length - 1; i++)\n                result.push(nodes[i]);\n            last = nodes[nodes.length - 1];\n        }\n        this.decomposeRight(to, result, last, oracle, newTo);\n        return HeightMap.of(result);\n    };\n    HeightMap.prototype.applyChanges = function (decorations, oracle, changes) {\n        var me = this, off = 0;\n        for (var i = 0; i < changes.length; i++) {\n            var range = changes[i];\n            var nodes = buildChangedNodes(oracle, decorations, range.fromB, range.toB);\n            me = me.replace(range.fromA + off, range.toA + off, nodes, oracle, range.fromB, range.toB);\n            off += (range.toB - range.fromB) - (range.toA - range.fromA);\n        }\n        return me;\n    };\n    HeightMap.empty = function () { return new HeightMapLine(0, 0); };\n    HeightMap.of = function (nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        var i = 0, j = nodes.length, before = 0, after = 0;\n        while (i < j) {\n            if (before < after)\n                before += nodes[i++].size;\n            else\n                after += nodes[--j].size;\n        }\n        for (;;) {\n            if (before > after * 2) {\n                var _a = nodes[i - 1], left = _a.left, right = _a.right;\n                nodes.splice(i - 1, 1, left, right);\n                before -= right.size;\n                after += right.size;\n            }\n            else if (after > before * 2) {\n                var _b = nodes[i], left = _b.left, right = _b.right;\n                nodes.splice(i++, 1, left, right);\n                after -= left.size;\n                before += left.size;\n            }\n            else {\n                break;\n            }\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), HeightMap.of(nodes.slice(i)));\n    };\n    return HeightMap;\n}());\nvar noDeco = [];\nvar HeightMapLine = /** @class */ (function (_super) {\n    __extends(HeightMapLine, _super);\n    // Decoration information is stored in a somewhat obscure formatthe\n    // array of numbers in `deco` encodes all of collapsed ranges,\n    // inline widgets, and widgets above/below the line. It contains a\n    // series of pairs of numbers.\n    //\n    //  - The first number indicates the position of the decoration, or\n    //    -2 for widget height above the line, or -1 for widget height\n    //    below the line (see `lineWidgetHeight` and\n    //    `setLineWidgetHeight`)\n    //\n    //  - The second number is the height of a widget when positive, or\n    //    the number of collapse code points if negative.\n    //\n    // These are the pieces of information that need to be stored about\n    // lines to somewhat effectively estimate their height when they are\n    // not actually in view and thus can not be measured. Widget size\n    // above/below is also necessary in heightAt, to skip it.\n    //\n    // The somewhat awkward format is there to reduce the amount of\n    // space requiredyou can have a huge number of line heightmap\n    // objects when scrolling through a big document, and most of them\n    // don't need any extra data, and thus can just store a single\n    // pointer to `noDeco`.\n    function HeightMapLine(length, height, deco) {\n        if (deco === void 0) { deco = noDeco; }\n        var _this = _super.call(this, length, height) || this;\n        _this.deco = deco;\n        return _this;\n    }\n    Object.defineProperty(HeightMapLine.prototype, \"size\", {\n        get: function () { return 1; },\n        enumerable: true,\n        configurable: true\n    });\n    HeightMapLine.prototype.heightAt = function (pos, doc, bias) {\n        return bias < 0 ? lineWidgetHeight(this.deco, -2) : this.height - lineWidgetHeight(this.deco, -1);\n    };\n    HeightMapLine.prototype.lineAt = function (height, doc, offset) {\n        if (offset === void 0) { offset = 0; }\n        return new LineHeight(offset, offset + this.length, -height, this.height, this);\n    };\n    HeightMapLine.prototype.lineViewport = function (pos, doc, offset) {\n        if (offset === void 0) { offset = 0; }\n        return new Viewport(offset, offset + this.length);\n    };\n    HeightMapLine.prototype.replace = function (from, to, nodes, oracle, newFrom, newTo) {\n        if (nodes.length != 1 || (nodes[0] instanceof HeightMapGap && oracle.doc.lineAt(newFrom).end < newTo))\n            return _super.prototype.replace.call(this, from, to, nodes, oracle, newFrom, newTo);\n        this.deco = offsetDeco(this.deco, from, to, nodes[0].length);\n        if (nodes[0] instanceof HeightMapLine)\n            this.deco = insertDeco(this.deco, nodes[0].deco, from);\n        this.length += nodes[0].length - (to - from);\n        this.outdated = true;\n        return this;\n    };\n    HeightMapLine.prototype.decomposeLeft = function (to, target, node, oracle, newTo) {\n        if (to == 0) {\n            target.push(node);\n        }\n        else if (node instanceof HeightMapLine) {\n            target.push(this.joinLine(to, this.length, node));\n        }\n        else {\n            var nextEnd = oracle.doc.lineAt(newTo).end, breakInside = nextEnd < newTo + node.length;\n            var newLen = to + (breakInside ? nextEnd - newTo : node.length);\n            target.push(new HeightMapLine(newLen, this.height, offsetDeco(this.deco, to, this.length, 0)));\n            if (breakInside)\n                target.push(new HeightMapGap(nextEnd + 1, newTo + node.length, oracle));\n        }\n    };\n    HeightMapLine.prototype.decomposeRight = function (from, target, node, oracle, newFrom) {\n        if (from == this.length) {\n            target.push(node);\n        }\n        else if (node instanceof HeightMapLine) {\n            target.push(this.joinLine(0, from, node));\n        }\n        else {\n            var prevStart = oracle.doc.lineAt(newFrom).start, breakInside = prevStart > newFrom - node.length;\n            if (breakInside)\n                target.push(new HeightMapGap(newFrom - node.length, prevStart - 1, oracle));\n            var newLen = (breakInside ? newFrom - prevStart : node.length) + (this.length - from);\n            target.push(new HeightMapLine(newLen, this.height, offsetDeco(this.deco, 0, from, newLen - this.length)));\n        }\n    };\n    HeightMapLine.prototype.joinLine = function (from, to, node) {\n        var deco = insertDeco(offsetDeco(this.deco, from, to, node.length), node.deco, from);\n        return new HeightMapLine(this.length + node.length - (to - from), Math.max(this.height, node.height), deco);\n    };\n    HeightMapLine.prototype.updateHeight = function (oracle, offset, force, measured) {\n        if (offset === void 0) { offset = 0; }\n        if (force === void 0) { force = false; }\n        if (measured && measured.from <= offset && measured.more) {\n            var height = measured.heights[measured.index++];\n            // If either this line's deco data or the measured heights contain info about \n            if (this.deco.length && this.deco[0] < 0 || measured.more && measured.heights[measured.index] < 0) {\n                var above = measured.more && measured.heights[measured.index] == -2\n                    ? measured.heights[(measured.index += 2) - 1] : 0;\n                var below = measured.more && measured.heights[measured.index] == -1\n                    ? measured.heights[(measured.index += 2) - 1] : 0;\n                this.deco = setLineWidgetHeight(setLineWidgetHeight(this.deco.slice(), -2, above), -1, below);\n                height += above + below;\n            }\n            this.setHeight(oracle, height);\n        }\n        else if (force || this.outdated) {\n            var len = this.length, minH = 0, add = 0;\n            for (var i = 1; i < this.deco.length; i += 2) {\n                var val = this.deco[i];\n                if (val < 0)\n                    len += val;\n                else if (this.deco[i - 1] < 0)\n                    add += val;\n                else\n                    minH = Math.max(val, minH);\n            }\n            this.setHeight(oracle, Math.max(oracle.heightForLine(len), minH) + add);\n        }\n        this.outdated = false;\n        return this;\n    };\n    HeightMapLine.prototype.toString = function () { return \"line(\" + this.length + (this.deco.length ? \":\" + this.deco.join(\",\") : \"\") + \")\"; };\n    HeightMapLine.prototype.forEachLine = function (from, to, offset, oracle, f) {\n        f(new LineHeight(offset, offset + this.length, 0, this.height, this));\n    };\n    Object.defineProperty(HeightMapLine.prototype, \"hasCollapsedRanges\", {\n        get: function () {\n            for (var i = 1; i < this.deco.length; i += 2)\n                if (this.deco[i] < 0)\n                    return true;\n            return false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return HeightMapLine;\n}(HeightMap));\nfunction offsetDeco(deco, from, to, length) {\n    var result = null;\n    var off = length - (to - from);\n    for (var i = 0; i < deco.length; i += 2) {\n        var pos = deco[i];\n        if (Math.max(0, pos) < from || pos > to && off == 0)\n            continue;\n        if (!result)\n            result = deco.slice(0, i);\n        if (pos > to)\n            result.push(pos + off, deco[i + 1]);\n    }\n    return !result ? deco : result.length ? result : noDeco;\n}\nfunction insertDeco(deco, newDeco, pos) {\n    if (newDeco.length == 0)\n        return deco;\n    var result = [], inserted = false;\n    for (var i = 0;; i += 2) {\n        var next = i == deco.length ? 2e9 : deco[i];\n        if (!inserted && next > pos) {\n            for (var j = 0; j < newDeco.length; j += 2)\n                if (pos == 0 || newDeco[j] >= 0)\n                    result.push(newDeco[j] + pos, newDeco[j + 1]);\n            inserted = true;\n        }\n        if (next == 2e9)\n            return result;\n        result.push(next, deco[i + 1]);\n    }\n}\nfunction lineWidgetHeight(deco, type) {\n    for (var i = 0; i < deco.length; i += 2) {\n        var pos = deco[i];\n        if (pos >= 0)\n            break;\n        if (pos == type)\n            return deco[i + 1];\n    }\n    return 0;\n}\nfunction setLineWidgetHeight(deco, type, height) {\n    var i = 0;\n    for (; i < deco.length; i += 2) {\n        var pos = deco[i];\n        if (pos > type)\n            break;\n        if (pos == type) {\n            deco[i + 1] = height;\n            return deco;\n        }\n    }\n    if (height > 0)\n        deco.splice(i, 0, type, height);\n    return deco;\n}\nvar HeightMapGap = /** @class */ (function (_super) {\n    __extends(HeightMapGap, _super);\n    function HeightMapGap(from, to, oracle) {\n        return _super.call(this, to - from, oracle.heightForGap(from, to), false) || this;\n    }\n    Object.defineProperty(HeightMapGap.prototype, \"size\", {\n        get: function () { return 1; },\n        enumerable: true,\n        configurable: true\n    });\n    HeightMapGap.prototype.heightAt = function (pos, doc, bias, offset) {\n        if (offset === void 0) { offset = 0; }\n        var firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        var lines = lastLine - firstLine + 1;\n        return (doc.lineAt(pos).number - firstLine + (bias > 0 ? 1 : 0)) * (this.height / lines);\n    };\n    HeightMapGap.prototype.lineAt = function (height, doc, offset) {\n        if (offset === void 0) { offset = 0; }\n        var firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        var lines = lastLine - firstLine, line = Math.floor(lines * Math.max(0, Math.min(1, height / this.height)));\n        var heightPerLine = this.height / (lines + 1), top = heightPerLine * line - height;\n        var _a = doc.line(firstLine + line), start = _a.start, end = _a.end;\n        return new LineHeight(start, end, top, heightPerLine, null);\n    };\n    HeightMapGap.prototype.lineViewport = function (pos, doc, offset) {\n        if (offset === void 0) { offset = 0; }\n        var _a = doc.lineAt(pos + offset), start = _a.start, end = _a.end;\n        return new Viewport(start, end);\n    };\n    HeightMapGap.prototype.replace = function (from, to, nodes, oracle, newFrom, newTo) {\n        if (nodes.length != 1 || !(nodes[0] instanceof HeightMapGap))\n            return _super.prototype.replace.call(this, from, to, nodes, oracle, newFrom, newTo);\n        this.length += (newTo - newFrom) - (to - from);\n        var newStart = newFrom - from;\n        // FIXME the Math.min is a kludge to deal with the fact that, if\n        // there are further changes that'll be applied by applyChanges,\n        // the estimated length here may extend past the end of the document\n        this.setHeight(oracle, oracle.heightForGap(newStart, Math.min(oracle.doc.length, newStart + this.length)));\n        return this;\n    };\n    HeightMapGap.prototype.decomposeLeft = function (to, target, node, oracle, newTo) {\n        var newOffset = newTo - to;\n        if (node instanceof HeightMapGap) {\n            target.push(new HeightMapGap(newOffset, newTo + node.length, oracle));\n        }\n        else {\n            var lineStart = oracle.doc.lineAt(newTo).start;\n            if (lineStart > newOffset)\n                target.push(new HeightMapGap(newOffset, lineStart - 1, oracle));\n            var deco = offsetDeco(node.deco, 0, 0, newTo - lineStart);\n            target.push(new HeightMapLine(newTo + node.length - lineStart, node.height, deco));\n        }\n    };\n    HeightMapGap.prototype.decomposeRight = function (from, target, node, oracle, newFrom) {\n        var newEnd = newFrom + (this.length - from);\n        if (node instanceof HeightMapGap) {\n            target.push(new HeightMapGap(newFrom - node.length, newEnd, oracle));\n        }\n        else {\n            var lineEnd = oracle.doc.lineAt(newFrom).end;\n            target.push(new HeightMapLine(node.length + (lineEnd - newFrom), node.height, node.deco));\n            if (newEnd > lineEnd)\n                target.push(new HeightMapGap(lineEnd + 1, newEnd, oracle));\n        }\n    };\n    HeightMapGap.prototype.updateHeight = function (oracle, offset, force, measured) {\n        if (offset === void 0) { offset = 0; }\n        if (force === void 0) { force = false; }\n        var end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            var nodes = [], pos = Math.max(offset, measured.from);\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(offset, measured.from - 1, oracle));\n            while (pos <= end && measured.more) {\n                var height = measured.heights[measured.index++], deco = undefined, wType = void 0;\n                while (measured.more && (wType = measured.heights[measured.index]) < 0) {\n                    var wHeight = measured.heights[(measured.index += 2) - 1];\n                    height += wHeight;\n                    deco = setLineWidgetHeight(deco || [], wType, wHeight);\n                }\n                var len = oracle.doc.lineAt(pos).length;\n                nodes.push(new HeightMapLine(len, height, deco));\n                pos += len + 1;\n            }\n            if (pos < end)\n                nodes.push(new HeightMapGap(pos, end, oracle));\n            for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n                var node = nodes_1[_i];\n                node.outdated = false;\n            }\n            oracle.heightChanged = true;\n            return HeightMap.of(nodes);\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    };\n    HeightMapGap.prototype.toString = function () { return \"gap(\" + this.length + \")\"; };\n    HeightMapGap.prototype.forEachLine = function (from, to, offset, oracle, f) {\n        for (var pos = Math.max(from, offset), end = Math.min(to, offset + this.length); pos <= end;) {\n            var end_1 = oracle.doc.lineAt(pos).end;\n            f(new LineHeight(pos, end_1, 0, oracle.heightForLine(end_1 - pos), null));\n            pos = end_1 + 1;\n        }\n    };\n    return HeightMapGap;\n}(HeightMap));\nvar HeightMapBranch = /** @class */ (function (_super) {\n    __extends(HeightMapBranch, _super);\n    function HeightMapBranch(left, right) {\n        var _this = _super.call(this, left.length + 1 + right.length, left.height + right.height, left.outdated || right.outdated) || this;\n        _this.left = left;\n        _this.right = right;\n        _this.size = left.size + right.size;\n        return _this;\n    }\n    HeightMapBranch.prototype.heightAt = function (pos, doc, bias, offset) {\n        if (offset === void 0) { offset = 0; }\n        var rightStart = offset + this.left.length + 1;\n        return pos < rightStart ? this.left.heightAt(pos, doc, bias, offset)\n            : this.left.height + this.right.heightAt(pos, doc, bias, rightStart);\n    };\n    HeightMapBranch.prototype.lineAt = function (height, doc, offset) {\n        if (offset === void 0) { offset = 0; }\n        var right = height - this.left.height;\n        if (right < 0)\n            return this.left.lineAt(height, doc, offset);\n        return this.right.lineAt(right, doc, offset + this.left.length + 1);\n    };\n    HeightMapBranch.prototype.lineViewport = function (pos, doc, offset) {\n        if (offset === void 0) { offset = 0; }\n        var rightStart = this.left.length + 1;\n        return pos < rightStart ? this.left.lineViewport(pos, doc, offset)\n            : this.right.lineViewport(pos - rightStart, doc, offset + rightStart);\n    };\n    HeightMapBranch.prototype.replace = function (from, to, nodes, oracle, newFrom, newTo) {\n        var rightStart = this.left.length + 1;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes, oracle, newFrom, newTo), this.right);\n        else if (from >= rightStart)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes, oracle, newFrom, newTo));\n        else\n            return _super.prototype.replace.call(this, from, to, nodes, oracle, newFrom, newTo);\n    };\n    HeightMapBranch.prototype.decomposeLeft = function (to, target, node, oracle, newTo) {\n        var rightStart = this.left.length + 1;\n        if (to < rightStart) {\n            this.left.decomposeLeft(to, target, node, oracle, newTo);\n        }\n        else {\n            target.push(this.left);\n            this.right.decomposeLeft(to - rightStart, target, node, oracle, newTo);\n        }\n    };\n    HeightMapBranch.prototype.decomposeRight = function (from, target, node, oracle, newFrom) {\n        var rightStart = this.left.length + 1;\n        if (from < rightStart) {\n            this.left.decomposeRight(from, target, node, oracle, newFrom);\n            target.push(this.right);\n        }\n        else {\n            this.right.decomposeRight(from - rightStart, target, node, oracle, newFrom);\n        }\n    };\n    HeightMapBranch.prototype.balanced = function (left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of([left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + 1 + right.length;\n        return this;\n    };\n    HeightMapBranch.prototype.updateHeight = function (oracle, offset, force, measured) {\n        if (offset === void 0) { offset = 0; }\n        if (force === void 0) { force = false; }\n        var _a = this, left = _a.left, right = _a.right, rightStart = offset + left.length + 1, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    };\n    HeightMapBranch.prototype.toString = function () { return this.left + \" \" + this.right; };\n    HeightMapBranch.prototype.forEachLine = function (from, to, offset, oracle, f) {\n        var rightStart = offset + this.left.length + 1;\n        if (from < rightStart)\n            this.left.forEachLine(from, to, offset, oracle, f);\n        if (to >= rightStart)\n            this.right.forEachLine(from, to, rightStart, oracle, f);\n    };\n    return HeightMapBranch;\n}(HeightMap));\nvar NodeBuilder = /** @class */ (function () {\n    function NodeBuilder(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.curLine = null;\n        this.writtenTo = pos;\n    }\n    NodeBuilder.prototype.advance = function (pos) {\n        if (pos <= this.pos)\n            return;\n        if (this.curLine) {\n            if (this.lineEnd < 0)\n                this.lineEnd = this.oracle.doc.lineAt(this.pos).end;\n            if (pos > this.lineEnd) {\n                this.curLine.length += (this.lineEnd - this.pos);\n                this.curLine.updateHeight(this.oracle, this.lineEnd - this.curLine.length);\n                this.curLine = null;\n                this.writtenTo = this.lineEnd + 1;\n                this.lineEnd = -1;\n            }\n            else {\n                this.curLine.length += (pos - this.pos);\n                this.writtenTo = pos;\n            }\n        }\n        else if (this.lineEnd > -1 && pos > this.lineEnd) {\n            this.lineEnd = -1;\n        }\n        this.pos = pos;\n    };\n    NodeBuilder.prototype.advanceCollapsed = function (pos, deco) {\n        if (pos <= this.pos)\n            return;\n        if (deco.widget && deco.widget.estimatedHeight >= 0)\n            this.addDeco(deco.widget.estimatedHeight);\n        this.addDeco(this.pos - pos);\n        if (this.curLine) {\n            this.curLine.length += pos - this.pos;\n            this.writtenTo = pos;\n            if (this.lineEnd < pos)\n                this.lineEnd = -1;\n        }\n        this.pos = pos;\n    };\n    NodeBuilder.prototype.point = function (deco) {\n        this.addDeco(deco.widget.estimatedHeight, deco instanceof LineDecoration ? (deco.side > 0 ? -1 : -2) : undefined);\n    };\n    NodeBuilder.prototype.flushTo = function (pos) {\n        if (pos > this.writtenTo) {\n            this.nodes.push(new HeightMapGap(this.writtenTo, pos, this.oracle));\n            this.writtenTo = pos;\n        }\n    };\n    NodeBuilder.prototype.addDeco = function (val, lineWidget) {\n        if (!this.curLine) {\n            this.lineStart = Math.max(this.writtenTo, this.oracle.doc.lineAt(this.pos).start);\n            this.flushTo(this.lineStart - 1);\n            this.nodes.push(this.curLine = new HeightMapLine(this.pos - this.lineStart, 0, []));\n            this.writtenTo = this.pos;\n        }\n        if (lineWidget == null)\n            this.curLine.deco.push(this.pos - this.lineStart, val);\n        else\n            setLineWidgetHeight(this.curLine.deco, lineWidget, val + lineWidgetHeight(this.curLine.deco, lineWidget));\n    };\n    NodeBuilder.prototype.ignoreRange = function (value) { return !value.collapsed; };\n    NodeBuilder.prototype.ignorePoint = function (value) { return !(value.widget && value.widget.estimatedHeight > 0); };\n    return NodeBuilder;\n}());\nfunction buildChangedNodes(oracle, decorations, from, to) {\n    var builder = new NodeBuilder(from, oracle);\n    RangeSet.iterateSpans(decorations, from, to, builder);\n    if (builder.curLine)\n        builder.curLine.updateHeight(oracle, builder.pos - builder.curLine.length);\n    else\n        builder.flushTo(builder.pos);\n    if (builder.nodes.length == 0)\n        builder.nodes.push(new HeightMapGap(0, 0, oracle));\n    return builder.nodes;\n}\n\nvar DocView = /** @class */ (function (_super) {\n    __extends(DocView, _super);\n    function DocView(dom, callbacks) {\n        var _this = _super.call(this, null, dom) || this;\n        _this.callbacks = callbacks;\n        _this.children = [new LineView(_this)];\n        _this.visiblePart = Viewport.empty;\n        _this.viewports = [];\n        _this.text = Text.of([\"\"]);\n        _this.decorations = [];\n        _this.selection = EditorSelection.default;\n        _this.selectionDirty = null;\n        _this.heightMap = HeightMap.empty();\n        _this.heightOracle = new HeightOracle;\n        _this.computingViewport = false;\n        _this.layoutCheckScheduled = -1;\n        // A document position that has to be scrolled into view at the next layout check\n        _this.scrollIntoView = -1;\n        _this.paddingTop = 0;\n        _this.paddingBottom = 0;\n        _this.dirty = 2 /* node */;\n        _this.viewportState = new ViewportState;\n        _this.observer = new DOMObserver(_this, callbacks.onDOMChange, function () { return _this.checkLayout(); });\n        _this.publicViewport = new EditorViewport(_this, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(DocView.prototype, \"length\", {\n        get: function () { return this.text.length; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DocView.prototype, \"childGap\", {\n        get: function () { return 1; },\n        enumerable: true,\n        configurable: true\n    });\n    // Update the document view to a given state. scrollIntoView can be\n    // used as a hint to compute a new viewport that includes that\n    // position, if we know the editor is going to scroll that position\n    // into view.\n    DocView.prototype.update = function (state, prevState, transactions, scrollIntoView) {\n        var _this = this;\n        if (prevState === void 0) { prevState = null; }\n        if (transactions === void 0) { transactions = []; }\n        if (scrollIntoView === void 0) { scrollIntoView = -1; }\n        // FIXME need some way to stabilize viewportif a change causes the\n        // top of the visible viewport to move, scroll position should be\n        // adjusted to keep the content in place\n        var oldLength = this.text.length;\n        this.text = state.doc;\n        this.selection = state.selection;\n        var changedRanges = !prevState\n            ? [new ChangedRange(0, oldLength, 0, state.doc.length)]\n            : (transactions.length == 1 ? transactions[0].changes :\n                transactions.reduce(function (changes, tr) { return changes.appendSet(tr.changes); }, ChangeSet.empty)).changedRanges();\n        this.heightMap = this.heightMap.applyChanges([], this.heightOracle.setDoc(state.doc), changedRanges);\n        var _a = this.computeViewport(changedRanges, prevState, transactions, 0, scrollIntoView), viewport = _a.viewport, contentChanges = _a.contentChanges;\n        if (this.dirty == 0 /* not */ && contentChanges.length == 0 &&\n            this.selection.primary.from >= this.visiblePart.from &&\n            this.selection.primary.to <= this.visiblePart.to) {\n            this.updateSelection();\n            if (scrollIntoView > -1)\n                this.scrollPosIntoView(scrollIntoView);\n        }\n        else {\n            this.updateInner(contentChanges, oldLength, viewport);\n            this.cancelLayoutCheck();\n            this.callbacks.onUpdateDOM();\n            if (scrollIntoView > -1)\n                this.scrollIntoView = scrollIntoView;\n            this.layoutCheckScheduled = requestAnimationFrame(function () { return _this.checkLayout(); });\n        }\n    };\n    // Used both by update and checkLayout do perform the actual DOM\n    // update\n    DocView.prototype.updateInner = function (changes, oldLength, visible) {\n        var _this = this;\n        this.visiblePart = visible;\n        var viewports = [visible];\n        var _a = this.selection.primary, head = _a.head, anchor = _a.anchor;\n        if (head < visible.from || head > visible.to)\n            viewports.push(this.heightMap.lineViewport(head, this.text));\n        if (!viewports.some(function (_a) {\n            var from = _a.from, to = _a.to;\n            return anchor >= from && anchor <= to;\n        }))\n            viewports.push(this.heightMap.lineViewport(anchor, this.text));\n        viewports.sort(function (a, b) { return a.from - b.from; });\n        var matchingRanges = findMatchingRanges(viewports, this.viewports, changes);\n        var decoSets = this.decorations.filter(function (d) { return d.size > 0; });\n        var cursor = new ChildCursor(this.children, oldLength, 1);\n        var posB = this.text.length;\n        for (var i = viewports.length - 1;; i--) {\n            var endI = cursor.i;\n            cursor.findPos(i < 0 ? 0 : matchingRanges[i].to + 1);\n            var gap = null;\n            if (cursor.i < endI) {\n                var nextChild = this.children[cursor.i];\n                if (nextChild instanceof GapView)\n                    gap = nextChild;\n            }\n            var nextB = i < 0 ? 0 : viewports[i].to + 1;\n            if (posB >= nextB) {\n                if (!gap || endI - cursor.i != 1) {\n                    if (!gap)\n                        gap = new GapView(this);\n                    this.replaceChildren(cursor.i, endI, [gap]);\n                }\n                gap.update(posB - nextB, this.heightAt(posB, 1) - this.heightAt(nextB, -1));\n            }\n            else if (endI != cursor.i) {\n                this.replaceChildren(cursor.i, endI);\n            }\n            if (i < 0)\n                break;\n            var viewport = viewports[i], matching = matchingRanges[i];\n            endI = cursor.i;\n            if (matching.from == matching.to) {\n                this.replaceChildren(cursor.i, endI, [new LineView(this)]);\n                endI = cursor.i + 1;\n            }\n            else {\n                cursor.findPos(matching.from);\n            }\n            this.updatePart(cursor.i, endI, matching, viewport, changes, decoSets);\n            posB = viewport.from - 1;\n        }\n        this.viewports = viewports;\n        this.observer.ignore(function () {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            _this.dom.style.height = _this.heightMap.height + \"px\";\n            _this.sync();\n            _this.updateSelection();\n            _this.dom.style.height = \"\";\n        });\n    };\n    // Update a single viewport in the DOM\n    DocView.prototype.updatePart = function (startI, endI, oldPort, newPort, changes, decoSets) {\n        var plan = clipPlan(changes, oldPort, newPort);\n        var cur = new ChildCursor(this.children, oldPort.to, 1, endI);\n        for (var i = plan.length - 1; i >= 0; i--) {\n            var _a = plan[i], fromA = _a.fromA, toA = _a.toA, fromB = _a.fromB, toB = _a.toB;\n            var _b = cur.findPos(toA), toI = _b.i, toOff = _b.off;\n            var _c = cur.findPos(fromA), fromI = _c.i, fromOff = _c.off;\n            this.updatePartRange(fromI, fromOff, toI, toOff, InlineBuilder.build(this.text, fromB, toB, decoSets));\n        }\n    };\n    // Update a single changed range by replacing its old DOM\n    // representation with the inline views that represent the new\n    // content.\n    DocView.prototype.updatePartRange = function (fromI, fromOff, toI, toOff, lines) {\n        // All children in the touched range should be line views\n        var children = this.children;\n        if (lines.length == 1) {\n            if (fromI == toI) { // Change within single line\n                children[fromI].update(fromOff, toOff, lines[0]);\n            }\n            else { // Join lines\n                var tail = children[toI].detachTail(toOff);\n                children[fromI].update(fromOff, undefined, lines[0], tail);\n                this.replaceChildren(fromI + 1, toI + 1);\n            }\n        }\n        else { // Across lines\n            var tail = children[toI].detachTail(toOff);\n            children[fromI].update(fromOff, undefined, lines[0]);\n            var insert = [];\n            for (var j = 1; j < lines.length; j++)\n                insert.push(new LineView(this, lines[j], j < lines.length - 1 ? undefined : tail));\n            this.replaceChildren(fromI + 1, toI + 1, insert);\n        }\n    };\n    // Sync the DOM selection to this.selection\n    DocView.prototype.updateSelection = function (takeFocus) {\n        if (takeFocus === void 0) { takeFocus = false; }\n        this.clearSelectionDirty();\n        var root = getRoot(this.dom);\n        if (!takeFocus && root.activeElement != this.dom)\n            return;\n        var primary = this.selection.primary;\n        var anchor = this.domFromPos(primary.anchor);\n        var head = this.domFromPos(primary.head);\n        var domSel = root.getSelection();\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) &&\n            isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset))\n            return;\n        this.observer.ignore(function () {\n            var _a;\n            // Selection.extend can be used to create an 'inverted' selection\n            // (one where the focus is before the anchor), but not all\n            // browsers support it yet.\n            if (domSel.extend) {\n                domSel.collapse(anchor.node, anchor.offset);\n                if (!primary.empty)\n                    domSel.extend(head.node, head.offset);\n            }\n            else {\n                var range = document.createRange();\n                if (primary.anchor > primary.head)\n                    _a = [head, anchor], anchor = _a[0], head = _a[1];\n                range.setEnd(head.node, head.offset);\n                range.setStart(anchor.node, anchor.offset);\n                domSel.removeAllRanges();\n                domSel.addRange(range);\n            }\n        });\n    };\n    DocView.prototype.heightAt = function (pos, bias) {\n        return this.heightMap.heightAt(pos, this.text, bias) + this.paddingTop;\n    };\n    DocView.prototype.lineAtHeight = function (height) {\n        return this.heightMap.lineAt(height - this.paddingTop, this.text);\n    };\n    // Compute the new viewport and set of decorations, while giving\n    // plugin views the opportunity to respond to state and viewport\n    // changes. Might require more than one iteration to become stable.\n    DocView.prototype.computeViewport = function (contentChanges, prevState, transactions, bias, scrollIntoView) {\n        if (contentChanges === void 0) { contentChanges = []; }\n        try {\n            this.computingViewport = true;\n            return this.computeViewportInner(contentChanges, prevState, transactions, bias, scrollIntoView);\n        }\n        finally {\n            this.computingViewport = false;\n        }\n    };\n    DocView.prototype.computeViewportInner = function (contentChanges, prevState, transactions, bias, scrollIntoView) {\n        if (contentChanges === void 0) { contentChanges = []; }\n        for (var i = 0;; i++) {\n            var viewport = this.viewportState.getViewport(this.text, this.heightMap, bias, scrollIntoView);\n            var stateChange = transactions && transactions.length > 0;\n            // After 5 tries, or when the viewport is stable and no more iterations are needed, return\n            if (i == 5 || (transactions == null && viewport.from == this.publicViewport._from && viewport.to == this.publicViewport._to)) {\n                if (i == 5)\n                    console.warn(\"Viewport and decorations failed to converge\");\n                return { viewport: viewport, contentChanges: contentChanges };\n            }\n            (this.publicViewport._from = viewport.from, this.publicViewport._to = viewport.to);\n            var prevDoc = this.text;\n            if (stateChange) {\n                // For a state change, call `updateState`\n                this.callbacks.onUpdateState(prevState, transactions);\n                prevDoc = prevState.doc;\n            }\n            else {\n                // Otherwise call `updateViewport`\n                this.callbacks.onUpdateViewport();\n            }\n            var decorations = this.callbacks.getDecorations();\n            // If the decorations are stable, stop.\n            if (!stateChange && sameArray(decorations, this.decorations))\n                return { viewport: viewport, contentChanges: contentChanges };\n            // Compare the decorations (between document changes)\n            var _a = decoChanges(stateChange ? contentChanges : [], decorations, this.decorations, prevDoc), content = _a.content, height = _a.height;\n            this.decorations = decorations;\n            // Update the heightmap with these changes. If this is the first\n            // iteration and the document changed, also include decorations\n            // for inserted ranges.\n            var heightChanges = extendWithRanges([], height);\n            if (stateChange)\n                heightChanges = extendWithRanges(heightChanges, heightRelevantDecorations(decorations, contentChanges));\n            this.heightMap = this.heightMap.applyChanges(decorations, this.heightOracle, heightChanges);\n            // Accumulate content changes so that they can be redrawn\n            contentChanges = extendWithRanges(contentChanges, content);\n            // Make sure only one iteration is marked as required / state changing\n            transactions = null;\n        }\n    };\n    DocView.prototype.focus = function () {\n        this.updateSelection(true);\n    };\n    DocView.prototype.cancelLayoutCheck = function () {\n        if (this.layoutCheckScheduled > -1) {\n            cancelAnimationFrame(this.layoutCheckScheduled);\n            this.layoutCheckScheduled = -1;\n        }\n    };\n    DocView.prototype.forceLayout = function () {\n        if (this.layoutCheckScheduled > -1 && !this.computingViewport)\n            this.checkLayout();\n    };\n    DocView.prototype.checkLayout = function (forceFull) {\n        if (forceFull === void 0) { forceFull = false; }\n        var _a;\n        this.cancelLayoutCheck();\n        this.measureVerticalPadding();\n        var scrollIntoView = Math.min(this.scrollIntoView, this.text.length);\n        this.scrollIntoView = -1;\n        var scrollBias = 0;\n        if (forceFull)\n            this.viewportState.coverEverything();\n        else\n            scrollBias = this.viewportState.updateFromDOM(this.dom, this.paddingTop);\n        if (this.viewportState.top >= this.viewportState.bottom)\n            return; // We're invisible!\n        var lineHeights = this.measureVisibleLineHeights(), refresh = false;\n        if (this.heightOracle.mustRefresh(lineHeights)) {\n            var _b = this.measureTextSize(), lineHeight = _b.lineHeight, charWidth = _b.charWidth;\n            refresh = this.heightOracle.refresh(getComputedStyle(this.dom).whiteSpace, lineHeight, charWidth, (this.dom).clientWidth / charWidth, lineHeights);\n        }\n        if (scrollIntoView > -1)\n            this.scrollPosIntoView(scrollIntoView);\n        var updated = false;\n        for (var i = 0;; i++) {\n            this.heightOracle.heightChanged = false;\n            this.heightMap = this.heightMap.updateHeight(this.heightOracle, 0, refresh, new MeasuredHeights(this.visiblePart.from, lineHeights || this.measureVisibleLineHeights()));\n            var covered = this.viewportState.coveredBy(this.text, this.visiblePart, this.heightMap, scrollBias);\n            if (covered && !this.heightOracle.heightChanged)\n                break;\n            updated = true;\n            if (i > 10)\n                throw new Error(\"Layout failed to converge\");\n            var viewport = this.visiblePart, contentChanges = [];\n            if (!covered)\n                (_a = this.computeViewport([], null, null, scrollBias, -1), viewport = _a.viewport, contentChanges = _a.contentChanges);\n            this.updateInner(contentChanges, this.text.length, viewport);\n            lineHeights = null;\n            refresh = false;\n            scrollBias = 0;\n            this.viewportState.updateFromDOM(this.dom, this.paddingTop);\n        }\n        if (updated) {\n            this.observer.listenForScroll();\n            this.callbacks.onUpdateDOM();\n        }\n    };\n    DocView.prototype.scrollPosIntoView = function (pos) {\n        var rect = this.coordsAt(pos);\n        if (rect)\n            scrollRectIntoView(this.dom, rect);\n    };\n    DocView.prototype.nearest = function (dom) {\n        for (var cur = dom; cur;) {\n            var domView = cur.cmView;\n            if (domView) {\n                for (var v = domView; v; v = v.parent)\n                    if (v == this)\n                        return domView;\n            }\n            cur = cur.parentNode;\n        }\n        return null;\n    };\n    DocView.prototype.posFromDOM = function (node, offset) {\n        var view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    };\n    DocView.prototype.domFromPos = function (pos) {\n        var _a = new ChildCursor(this.children, this.text.length, 1).findPos(pos), i = _a.i, off = _a.off;\n        return this.children[i].domFromPos(off);\n    };\n    DocView.prototype.measureVisibleLineHeights = function () {\n        var result = [], _a = this.visiblePart, from = _a.from, to = _a.to;\n        for (var pos = 0, i = 0; pos <= to; i++) {\n            var child = this.children[i];\n            if (pos >= from) {\n                result.push(child.dom.getBoundingClientRect().height);\n                var before = 0, after = 0;\n                for (var _i = 0, _b = child.widgets; _i < _b.length; _i++) {\n                    var w = _b[_i];\n                    var h = w.dom.getBoundingClientRect().height;\n                    if (w.side > 0)\n                        after += h;\n                    else\n                        before += h;\n                }\n                if (before)\n                    result.push(-2, before);\n                if (after)\n                    result.push(-1, after);\n            }\n            pos += child.length + 1;\n        }\n        return result;\n    };\n    DocView.prototype.measureVerticalPadding = function () {\n        var style = window.getComputedStyle(this.dom);\n        this.paddingTop = parseInt(style.paddingTop) || 0;\n        this.paddingBottom = parseInt(style.paddingBottom) || 0;\n    };\n    DocView.prototype.measureTextSize = function () {\n        var _this = this;\n        for (var _i = 0, _a = this.children; _i < _a.length; _i++) {\n            var child = _a[_i];\n            if (child instanceof LineView) {\n                var measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        var dummy = document.createElement(\"div\"), lineHeight, charWidth;\n        dummy.style.cssText = \"contain: strict\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.observer.ignore(function () {\n            _this.dom.appendChild(dummy);\n            var rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            dummy.remove();\n        });\n        return { lineHeight: lineHeight, charWidth: charWidth };\n    };\n    DocView.prototype.destroy = function () {\n        cancelAnimationFrame(this.layoutCheckScheduled);\n        this.observer.destroy();\n    };\n    DocView.prototype.clearSelectionDirty = function () {\n        if (this.selectionDirty != null) {\n            cancelAnimationFrame(this.selectionDirty);\n            this.selectionDirty = null;\n        }\n    };\n    DocView.prototype.setSelectionDirty = function () {\n        var _this = this;\n        this.observer.clearSelection();\n        if (this.selectionDirty == null)\n            this.selectionDirty = requestAnimationFrame(function () { return _this.updateSelection(); });\n    };\n    return DocView;\n}(ContentView));\nvar noChildren = [];\n// Browsers appear to reserve a fixed amount of bits for height\n// styles, and ignore or clip heights above that. For Chrome and\n// Firefox, this is in the 20 million range, so we try to stay below\n// that.\nvar MAX_NODE_HEIGHT = 1e7;\nvar GapView = /** @class */ (function (_super) {\n    __extends(GapView, _super);\n    function GapView(parent) {\n        var _this = _super.call(this, parent, document.createElement(\"div\")) || this;\n        _this.length = 0;\n        _this.height = 0;\n        _this.dom.contentEditable = \"false\";\n        return _this;\n    }\n    Object.defineProperty(GapView.prototype, \"children\", {\n        get: function () { return noChildren; },\n        enumerable: true,\n        configurable: true\n    });\n    GapView.prototype.update = function (length, height) {\n        this.length = length;\n        if (height != this.height) {\n            this.height = height;\n            this.markDirty();\n        }\n    };\n    GapView.prototype.sync = function () {\n        if (this.dirty) {\n            if (this.height < MAX_NODE_HEIGHT) {\n                this.dom.style.height = this.height + \"px\";\n                while (this.dom.firstChild)\n                    this.dom.firstChild.remove();\n            }\n            else {\n                this.dom.style.height = \"\";\n                while (this.dom.firstChild)\n                    this.dom.firstChild.remove();\n                for (var remaining = this.height; remaining > 0; remaining -= MAX_NODE_HEIGHT) {\n                    var elt = this.dom.appendChild(document.createElement(\"div\"));\n                    elt.style.height = Math.min(remaining, MAX_NODE_HEIGHT) + \"px\";\n                }\n            }\n            this.dirty = 0 /* not */;\n        }\n    };\n    Object.defineProperty(GapView.prototype, \"overrideDOMText\", {\n        get: function () {\n            return this.parent ? this.parent.text.sliceLines(this.posAtStart, this.posAtEnd) : [\"\"];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GapView.prototype.domBoundsAround = function () { return null; };\n    return GapView;\n}(ContentView));\nfunction decoChanges(diff, decorations, oldDecorations, oldDoc) {\n    var contentRanges = [], heightRanges = [];\n    for (var i = decorations.length - 1; i >= 0; i--) {\n        var deco = decorations[i], oldDeco = i < oldDecorations.length ? oldDecorations[i] : Decoration.none;\n        if (deco.size == 0 && oldDeco.size == 0)\n            continue;\n        var newRanges = findChangedRanges(oldDeco, deco, diff, oldDoc);\n        contentRanges = joinRanges(contentRanges, newRanges.content);\n        heightRanges = joinRanges(heightRanges, newRanges.height);\n    }\n    return { content: contentRanges, height: heightRanges };\n}\nfunction extendWithRanges(diff, ranges) {\n    var result = [];\n    for (var dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n        var next = dI == diff.length ? null : diff[dI], off = posA - posB;\n        var end = next ? next.fromB : 2e9;\n        while (rI < ranges.length && ranges[rI] < end) {\n            var from = ranges[rI], to = ranges[rI + 1];\n            var fromB = Math.max(posB, from), toB = Math.min(end, to);\n            if (fromB <= toB)\n                new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n            if (to > end)\n                break;\n            else\n                rI += 2;\n        }\n        if (!next)\n            return result;\n        new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n        posA = next.toA;\n        posB = next.toB;\n    }\n}\nfunction sameArray(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (var i = 0; i < a.length; i++)\n        if (a[i] !== b[i])\n            return false;\n    return true;\n}\nfunction boundAfter(viewport, pos) {\n    return pos < viewport.from ? viewport.from : pos < viewport.to ? viewport.to : 2e9 + 1;\n}\n// Transforms a plan to take viewports into account. Discards changes\n// (or part of changes) that are outside of the viewport, and adds\n// ranges for text that was in one viewport but not the other (so that\n// old text is cleared out and newly visible text is drawn).\nfunction clipPlan(plan, viewportA, viewportB) {\n    var result = [];\n    var posA = 0, posB = 0;\n    for (var i = 0;; i++) {\n        var range = i < plan.length ? plan[i] : null;\n        // Look at the unchanged range before the next range (or the end\n        // if there is no next range), divide it by viewport boundaries,\n        // and for each piece, if it is only in one viewport, add a\n        // changed range.\n        var nextA = range ? range.fromA : 2e9, nextB = range ? range.fromB : 2e9;\n        while (posA < nextA) {\n            var advance = Math.min(Math.min(boundAfter(viewportA, posA), nextA) - posA, Math.min(boundAfter(viewportB, posB), nextB) - posB);\n            if (advance == 0)\n                break;\n            var endA = posA + advance, endB = posB + advance;\n            if ((posA >= viewportA.to || endA <= viewportA.from) != (posB >= viewportB.to || endB <= viewportB.from))\n                new ChangedRange(viewportA.clip(posA), viewportA.clip(endA), viewportB.clip(posB), viewportB.clip(endB)).addToSet(result);\n            posA = endA;\n            posB = endB;\n        }\n        if (!range || (range.fromA > viewportA.to && range.fromB > viewportB.to))\n            break;\n        // Clip existing ranges to the viewports\n        if ((range.toA >= viewportA.from && range.fromA <= viewportA.to) ||\n            (range.toB >= viewportB.from && range.fromB <= viewportB.to))\n            new ChangedRange(viewportA.clip(range.fromA), viewportA.clip(range.toA), viewportB.clip(range.fromB), viewportB.clip(range.toB)).addToSet(result);\n        posA = range.toA;\n        posB = range.toB;\n    }\n    return result;\n}\nfunction mapThroughChanges(pos, bias, changes) {\n    var off = 0;\n    for (var _i = 0, changes_1 = changes; _i < changes_1.length; _i++) {\n        var range = changes_1[_i];\n        if (pos < range.fromA)\n            return pos + off;\n        if (pos <= range.toA)\n            return bias < 0 ? range.fromA : range.toA;\n        off = range.toB - range.toA;\n    }\n    return pos + off;\n}\nfunction findMatchingRanges(viewports, prevViewports, changes) {\n    var prevI = 0, result = [];\n    outer: for (var _i = 0, viewports_1 = viewports; _i < viewports_1.length; _i++) {\n        var viewport = viewports_1[_i];\n        for (var j = prevI; j < prevViewports.length; j++) {\n            var prev = prevViewports[j];\n            if (mapThroughChanges(prev.from, 1, changes) < viewport.to &&\n                mapThroughChanges(prev.to, -1, changes) > viewport.from) {\n                result.push(prev);\n                prevI = j + 1;\n                continue outer;\n            }\n        }\n        var at = result.length ? result[result.length - 1].to : 0;\n        result.push(new Viewport(at, at));\n    }\n    return result;\n}\n// Public shim for giving client code access to viewport information\nvar EditorViewport = /** @class */ (function () {\n    /** @internal */\n    function EditorViewport(docView, _from, _to) {\n        this.docView = docView;\n        this._from = _from;\n        this._to = _to;\n    }\n    Object.defineProperty(EditorViewport.prototype, \"from\", {\n        get: function () { return this._from; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EditorViewport.prototype, \"to\", {\n        get: function () { return this._to; },\n        enumerable: true,\n        configurable: true\n    });\n    EditorViewport.prototype.forEachLine = function (f) {\n        this.docView.heightMap.forEachLine(this.from, this.to, 0, this.docView.heightOracle, f);\n    };\n    return EditorViewport;\n}());\n\n// FIXME rename \"word\" to something more descriptive of what it actually does?\nfunction movePos(view, start, direction, granularity, action) {\n    if (granularity === void 0) { granularity = \"character\"; }\n    var sel = view.root.getSelection();\n    var context = LineContext.get(view, start);\n    var dir = direction == \"forward\" || direction == \"right\" ? 1 : -1;\n    // Can only query native behavior when Selection.modify is\n    // supported, the cursor is well inside the rendered viewport, and\n    // we're not doing by-line motion on Gecko (which will mess up goal\n    // column motion)\n    if (sel.modify && context && !context.nearViewportEnd(view) && view.hasFocus() &&\n        granularity != \"word\" &&\n        !(granularity == \"line\" && (browser.gecko || view.state.selection.ranges.length > 1))) {\n        return view.docView.observer.ignore(function () {\n            var prepared = context.prepareForQuery(view, start);\n            var startDOM = view.docView.domFromPos(start);\n            var equiv = (!browser.chrome || prepared.lines.length == 0) &&\n                isEquivalentPosition(startDOM.node, startDOM.offset, sel.focusNode, sel.focusOffset) && false;\n            // Firefox skips an extra character ahead when extending across\n            // an uneditable element (but not when moving)\n            if (prepared.atWidget && browser.gecko && action == \"extend\")\n                action = \"move\";\n            if (action == \"move\" && !(equiv && sel.isCollapsed))\n                sel.collapse(startDOM.node, startDOM.offset);\n            else if (action == \"extend\" && !equiv)\n                sel.extend(startDOM.node, startDOM.offset);\n            sel.modify(action, direction, granularity);\n            view.docView.setSelectionDirty();\n            var result = view.docView.posFromDOM(sel.focusNode, sel.focusOffset);\n            context.undoQueryPreparation(view, prepared);\n            return result;\n        });\n    }\n    else if (granularity == \"character\") {\n        return moveCharacterSimple(start, dir, context, view.state.doc);\n    }\n    else if (granularity == \"lineboundary\") {\n        if (context)\n            return context.start + (dir < 0 ? 0 : context.line.length);\n        var line = view.state.doc.lineAt(start);\n        return dir < 0 ? line.start : line.end;\n    }\n    else if (granularity == \"line\") {\n        if (context && !context.nearViewportEnd(view, dir)) {\n            var startCoords = view.docView.coordsAt(start);\n            var goal = getGoalColumn(view, start, startCoords.left);\n            for (var startY = dir < 0 ? startCoords.top : startCoords.bottom, dist = 5; dist < 50; dist += 10) {\n                var pos = posAtCoords(view, { x: goal.column, y: startY + dist * dir }, dir);\n                if (pos < 0)\n                    break;\n                if (pos != start) {\n                    goal.pos = pos;\n                    return pos;\n                }\n            }\n        }\n        // Can't do a precise one based on DOM positions, fall back to per-column\n        return moveLineByColumn(view.state.doc, view.state.tabSize, start, dir);\n    }\n    else if (granularity == \"word\") {\n        return moveWord(view, start, direction);\n    }\n    else {\n        throw new RangeError(\"Invalid move granularity: \" + granularity);\n    }\n}\nfunction moveLineByColumn(doc, tabSize, pos, dir) {\n    var line = doc.lineAt(pos);\n    // FIXME also needs goal column?\n    var col = 0;\n    for (var iter = doc.iterRange(line.start, pos); !iter.next().done;)\n        col = countColumn(iter.value, col, tabSize);\n    if (dir < 0 && line.start == 0)\n        return 0;\n    else if (dir > 0 && line.end == doc.length)\n        return line.end;\n    var otherLine = doc.line(line.number + dir);\n    var result = otherLine.start;\n    var seen = 0;\n    for (var iter = doc.iterRange(otherLine.start, otherLine.end); seen >= col && !iter.next().done;) {\n        var _a = findColumn(iter.value, seen, col, tabSize), offset = _a.offset, leftOver = _a.leftOver;\n        seen = col - leftOver;\n        result += offset;\n    }\n    return result;\n}\nfunction moveCharacterSimple(start, dir, context, doc) {\n    if (context == null) {\n        for (var pos = start;; pos += dir) {\n            if (pos == 0 || pos == doc.length)\n                return pos;\n            if (!isExtendingChar((dir < 0 ? doc.slice(pos - 1, pos) : doc.slice(pos, pos + 1)))) {\n                if (dir < 0)\n                    return pos - 1;\n                else if (pos != start)\n                    return pos;\n            }\n        }\n    }\n    for (var _a = context.line.childPos(start - context.start), i = _a.i, off = _a.off, children = context.line.children, pos = start;;) {\n        if (off == (dir < 0 || i == children.length ? 0 : children[i].length)) {\n            i += dir;\n            if (i < 0 || i >= children.length) // End/start of line\n                return Math.max(0, Math.min(doc.length, pos + (start == pos ? dir : 0)));\n            off = dir < 0 ? children[i].length : 0;\n        }\n        var inline = children[i];\n        if (inline instanceof TextView) {\n            if (!isExtendingChar(inline.text.charAt(off - (dir < 0 ? 1 : 0)))) {\n                if (dir < 0)\n                    return pos - 1;\n                else if (pos != start)\n                    return pos;\n            }\n            off += dir;\n            pos += dir;\n        }\n        else if (inline.length > 0) {\n            return pos - off + (dir < 0 ? 0 : inline.length);\n        }\n    }\n}\nfunction moveWord(view, start, direction) {\n    var doc = view.state.doc;\n    for (var pos = start, i = 0;; i++) {\n        var next = movePos(view, pos, direction, \"character\", \"move\");\n        if (next == pos)\n            return pos; // End of document\n        if (doc.sliceLines(Math.min(next, pos), Math.max(next, pos)).length > 1)\n            return next; // Crossed a line boundary\n        var group = SelectionRange.groupAt(view.state, next, next > pos ? -1 : 1);\n        var away = pos < group.from && pos > group.to;\n        // If the group is away from its start position, we jumped over a\n        // bidi boundary, and should take the side closest (in index\n        // coordinates) to the start position\n        var start_1 = away ? pos < group.head : group.from == pos ? false : group.to == pos ? true : next < pos;\n        pos = start_1 ? group.from : group.to;\n        if (i > 0 || /\\S/.test(doc.slice(group.from, group.to)))\n            return pos;\n        next = Math.max(0, Math.min(doc.length, pos + (start_1 ? -1 : 1)));\n    }\n}\nfunction getGoalColumn(view, pos, column) {\n    for (var _i = 0, _a = view.inputState.goalColumns; _i < _a.length; _i++) {\n        var goal_1 = _a[_i];\n        if (goal_1.pos == pos)\n            return goal_1;\n    }\n    var goal = { pos: 0, column: column };\n    view.inputState.goalColumns.push(goal);\n    return goal;\n}\nvar LineContext = /** @class */ (function () {\n    function LineContext(line, start, index) {\n        this.line = line;\n        this.start = start;\n        this.index = index;\n    }\n    LineContext.get = function (view, pos) {\n        for (var i = 0, off = 0;; i++) {\n            var line = view.docView.children[i], end = off + line.length;\n            if (end >= pos)\n                return line instanceof LineView ? new LineContext(line, off, i) : null;\n            off = end + 1;\n        }\n    };\n    LineContext.prototype.nearViewportEnd = function (view, side) {\n        if (side === void 0) { side = 0; }\n        for (var _i = 0, _a = view.docView.viewports; _i < _a.length; _i++) {\n            var _b = _a[_i], from = _b.from, to = _b.to;\n            if (from > 0 && from == this.start && side <= 0 ||\n                to < view.state.doc.length && to == this.start + this.line.length && side >= 0)\n                return true;\n        }\n        return false;\n    };\n    // FIXME limit the amount of work in character motion in non-bidi\n    // context? or not worth it?\n    LineContext.prototype.prepareForQuery = function (view, pos) {\n        var linesToSync = [], atWidget = false;\n        function maybeHide(view) {\n            if (!(view instanceof TextView))\n                atWidget = true;\n            if (view.length > 0)\n                return false;\n            view.dom.remove();\n            if (linesToSync.indexOf(view.parent) < 0)\n                linesToSync.push(view.parent);\n            return true;\n        }\n        var _a = this.line.childPos(pos - this.start), i = _a.i, off = _a.off;\n        if (off == 0) {\n            for (var j = i; j < this.line.children.length; j++)\n                if (!maybeHide(this.line.children[j]))\n                    break;\n            for (var j = i; j > 0; j--)\n                if (!maybeHide(this.line.children[j - 1]))\n                    break;\n        }\n        function addForLine(line, omit) {\n            if (omit === void 0) { omit = -1; }\n            if (line.children.length == 0)\n                return;\n            for (var i_1 = 0, off_1 = 0; i_1 <= line.children.length; i_1++) {\n                var next = i_1 == line.children.length ? null : line.children[i_1];\n                if ((!next || !(next instanceof TextView)) && off_1 != omit &&\n                    (i_1 == 0 || !(line.children[i_1 - 1] instanceof TextView))) {\n                    line.dom.insertBefore(document.createTextNode(\"\\u200b\"), next ? next.dom : null);\n                    if (linesToSync.indexOf(line) < 0)\n                        linesToSync.push(line);\n                }\n                if (next)\n                    off_1 += next.length;\n            }\n        }\n        if (this.index > 0)\n            addForLine(this.line.parent.children[this.index - 1]);\n        addForLine(this.line, pos - this.start);\n        if (this.index < this.line.parent.children.length - 1)\n            addForLine(this.line.parent.children[this.index + 1]);\n        return { lines: linesToSync, atWidget: atWidget };\n    };\n    LineContext.prototype.undoQueryPreparation = function (view, toSync) {\n        for (var _i = 0, _a = toSync.lines; _i < _a.length; _i++) {\n            var line = _a[_i];\n            line.syncDOMChildren();\n        }\n    };\n    return LineContext;\n}());\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\n// FIXME holding arrow-up/down at the end of the viewport is a rather\n// common use case that will repeatedly trigger this code. Maybe\n// introduce some element of binary search after all?\nfunction domPosAtCoords(parent, x, y) {\n    var closest, dxClosest = 2e8, xClosest, offset = 0;\n    var rowBot = y, rowTop = y;\n    for (var child = parent.firstChild, childIndex = 0; child; child = child.nextSibling, childIndex++) {\n        var rects = clientRectsFor(child);\n        for (var i = 0; i < rects.length; i++) {\n            var rect = rects[i];\n            if (rect.top <= rowBot && rect.bottom >= rowTop) {\n                rowBot = Math.max(rect.bottom, rowBot);\n                rowTop = Math.min(rect.top, rowTop);\n                var dx = rect.left > x ? rect.left - x\n                    : rect.right < x ? x - rect.right : 0;\n                if (dx < dxClosest) {\n                    closest = child;\n                    dxClosest = dx;\n                    xClosest = dx == 0 ? x : rect.left > x ? rect.left : rect.right;\n                    if (child.nodeType == 1)\n                        offset = childIndex + (x >= (rect.left + rect.right) / 2 ? 1 : 0);\n                    continue;\n                }\n            }\n            if (!closest && (x >= rect.right && y >= rect.top ||\n                x >= rect.left && y >= rect.bottom))\n                offset = childIndex + 1;\n        }\n    }\n    if (closest && closest.nodeType == 3)\n        return domPosInText(closest, xClosest, y);\n    if (!closest || closest.contentEditable == \"false\" || (dxClosest && closest.nodeType == 1))\n        return { node: parent, offset: offset };\n    return domPosAtCoords(closest, xClosest, y);\n}\nfunction domPosInText(node, x, y) {\n    var len = node.nodeValue.length, range = document.createRange();\n    for (var i = 0; i < len; i++) {\n        range.setEnd(node, i + 1);\n        range.setStart(node, i);\n        var rects = range.getClientRects();\n        for (var j = 0; j < rects.length; j++) {\n            var rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (rect.left - 1 <= x && rect.right + 1 >= x &&\n                rect.top - 1 <= y && rect.bottom + 1 >= y) {\n                var right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    range.setEnd(node, i);\n                    var rectBefore = range.getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                return { node: node, offset: i + (after ? 1 : 0) };\n            }\n        }\n    }\n    return { node: node, offset: 0 };\n}\nfunction posAtCoords(view, _a, bias) {\n    var x = _a.x, y = _a.y;\n    if (bias === void 0) { bias = -1; }\n    var _b;\n    var content = view.contentDOM.getBoundingClientRect(), heightLine;\n    for (;;) {\n        heightLine = view.lineAtHeight(y - content.top);\n        if (heightLine.textTop > 0) {\n            if (bias > 0)\n                y += heightLine.textTop + 1;\n            else if (heightLine.start > 0) {\n                y += heightLine.top - 1;\n                continue;\n            }\n        }\n        else if (heightLine.textBottom < 0) {\n            if (bias < 0)\n                y += heightLine.textBottom - 1;\n            else if (heightLine.end < view.state.doc.length) {\n                y += heightLine.bottom + 1;\n                continue;\n            }\n        }\n        break;\n    }\n    var lineStart = heightLine.start;\n    // If this is outside of the rendered viewport, we can't determine a position \n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : -1;\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length : -1;\n    // Clip x to the viewport sides\n    x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n    var root = getRoot(view.contentDOM), element = root.elementFromPoint(x, y);\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    var node, offset = -1;\n    if (element && view.contentDOM.contains(element) && !(view.docView.nearest(element) instanceof WidgetView)) {\n        // TypeScript doesn't know these methods exist on DocumentOrShadowRoot\n        if (root.caretPositionFromPoint) {\n            var pos = root.caretPositionFromPoint(x, y);\n            if (pos)\n                (node = pos.offsetNode, offset = pos.offset);\n        }\n        else if (root.caretRangeFromPoint) {\n            var range = root.caretRangeFromPoint(x, y);\n            if (range)\n                (node = range.startContainer, offset = range.startOffset);\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node) {\n        var line = LineContext.get(view, lineStart).line;\n        (_b = domPosAtCoords(line.dom, x, y), node = _b.node, offset = _b.offset);\n    }\n    return view.docView.posFromDOM(node, offset);\n}\n\n// This will also be where dragging info and such goes\nvar InputState = /** @class */ (function () {\n    function InputState(view) {\n        var _this = this;\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.registeredEvents = [];\n        this.goalColumns = [];\n        this.mouseSelection = null;\n        var _loop_1 = function (type) {\n            var handler = handlers[type];\n            view.contentDOM.addEventListener(type, function (event) {\n                if (!eventBelongsToEditor(view, event))\n                    return;\n                if (_this.runCustomHandlers(type, view, event))\n                    event.preventDefault();\n                else\n                    handler(view, event);\n            });\n            this_1.registeredEvents.push(type);\n        };\n        var this_1 = this;\n        for (var type in handlers) {\n            _loop_1(type);\n        }\n        // Must always run, even if a custom handler handled the event\n        view.contentDOM.addEventListener(\"keydown\", function (event) {\n            view.inputState.lastKeyCode = event.keyCode;\n            view.inputState.lastKeyTime = Date.now();\n        });\n        if (document.activeElement == view.contentDOM)\n            view.dom.classList.add(\"CodeMirror-focused\");\n        this.customHandlers = customHandlers(view);\n        var _loop_2 = function (type) {\n            if (this_2.registeredEvents.indexOf(type) < 0) {\n                this_2.registeredEvents.push(type);\n                view.contentDOM.addEventListener(type, function (event) {\n                    if (!eventBelongsToEditor(view, event))\n                        return;\n                    if (_this.runCustomHandlers(type, view, event))\n                        event.preventDefault();\n                });\n            }\n        };\n        var this_2 = this;\n        for (var type in this.customHandlers) {\n            _loop_2(type);\n        }\n    }\n    InputState.prototype.setSelectionOrigin = function (origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    };\n    InputState.prototype.runCustomHandlers = function (type, view, event) {\n        var handlers = this.customHandlers[type];\n        if (handlers)\n            for (var _i = 0, handlers_1 = handlers; _i < handlers_1.length; _i++) {\n                var handler = handlers_1[_i];\n                if (handler(view, event) || event.defaultPrevented)\n                    return true;\n            }\n        return false;\n    };\n    InputState.prototype.startMouseSelection = function (view, event, update) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = new MouseSelection(this, view, event, update);\n    };\n    InputState.prototype.update = function (transactions) {\n        if (this.mouseSelection)\n            this.mouseSelection.map(transactions.reduce(function (set, tr) { return set.appendSet(tr.changes); }, ChangeSet.empty));\n        this.lastKeyCode = this.lastSelectionTime = 0;\n    };\n    InputState.prototype.destroy = function () {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    };\n    return InputState;\n}());\nvar MouseSelection = /** @class */ (function () {\n    function MouseSelection(inputState, view, event, update) {\n        this.inputState = inputState;\n        this.view = view;\n        this.update = update;\n        var doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        // FIXME make these configurable somehow\n        this.extend = event.shiftKey;\n        this.multiple = view.state.multipleSelections && (browser.mac ? event.metaKey : event.ctrlKey);\n        this.dragMove = !(browser.mac ? event.altKey : event.ctrlKey);\n        this.startSelection = view.state.selection;\n        var _a = this.queryPos(event), pos = _a.pos, bias = _a.bias;\n        this.startPos = this.curPos = pos;\n        this.startBias = this.curBias = bias;\n        this.dragging = isInPrimarySelection(view, this.startPos, event) ? null : false;\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false) {\n            event.preventDefault();\n            this.select();\n        }\n    }\n    MouseSelection.prototype.queryPos = function (event) {\n        var pos = this.view.posAtCoords({ x: event.clientX, y: event.clientY });\n        var coords = this.view.coordsAtPos(pos);\n        var bias = !coords ? 1 :\n            coords.top > event.clientY ? -1 :\n                coords.bottom < event.clientY ? 1 :\n                    coords.left > event.clientX ? -1 : 1;\n        return { pos: pos, bias: bias };\n    };\n    MouseSelection.prototype.move = function (event) {\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging !== false)\n            return;\n        var _a = this.queryPos(event), pos = _a.pos, bias = _a.bias;\n        if (pos == this.curPos && bias == this.curBias)\n            return;\n        this.curPos = pos;\n        this.curBias = bias;\n        this.select();\n    };\n    MouseSelection.prototype.up = function (event) {\n        if (this.dragging == null)\n            this.select();\n        this.destroy();\n    };\n    MouseSelection.prototype.destroy = function () {\n        var doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.inputState.mouseSelection = null;\n    };\n    MouseSelection.prototype.select = function () {\n        var selection = this.update(this.view, this.startSelection, this.startPos, this.startBias, this.curPos, this.curBias, this.extend, this.multiple);\n        if (!selection.eq(this.view.state.selection))\n            this.view.dispatch(this.view.state.transaction.setSelection(selection)\n                .setMeta(MetaSlot.userEvent, \"pointer\"));\n    };\n    MouseSelection.prototype.map = function (changes) {\n        if (changes.length) {\n            this.startSelection = this.startSelection.map(changes);\n            this.startPos = changes.mapPos(this.startPos);\n            this.curPos = changes.mapPos(this.curPos);\n        }\n        if (this.dragging)\n            this.dragging = this.dragging.map(changes);\n    };\n    return MouseSelection;\n}());\nfunction isInPrimarySelection(view, pos, event) {\n    var primary = view.state.selection.primary;\n    if (primary.empty)\n        return false;\n    if (pos < primary.from || pos > primary.to)\n        return false;\n    if (pos > primary.from && pos < primary.to)\n        return true;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    var sel = view.root.getSelection();\n    if (sel.rangeCount == 0)\n        return true;\n    var rects = sel.getRangeAt(0).getClientRects();\n    for (var i = 0; i < rects.length; i++) {\n        var rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (var node = event.target; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || (node.cmView && node.cmView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nfunction customHandlers(view) {\n    var result = Object.create(null);\n    view.someProp(\"handleDOMEvents\", function (handlers) {\n        for (var eventType in handlers)\n            (result[eventType] || (result[eventType] = [])).push(handlers[eventType]);\n    });\n    return result;\n}\nvar handlers = Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard APIall the objects and methods are\n// there, they just don't work, and they are hard to test.\nvar brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    var doc = view.dom.ownerDocument;\n    var target = doc.body.appendChild(doc.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(function () {\n        view.focus();\n        doc.body.removeChild(target);\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, text) {\n    view.dispatch(view.state.transaction.replaceSelection(text)\n        .setMeta(MetaSlot.userEvent, \"paste\").scrollIntoView());\n}\nfunction mustCapture(event) {\n    var mods = (event.ctrlKey ? 1 /* ctrl */ : 0) | (event.metaKey ? 8 /* meta */ : 0) |\n        (event.altKey ? 2 /* alt */ : 0) | (event.shiftKey ? 4 /* shift */ : 0);\n    var code = event.keyCode, macCtrl = browser.mac && mods == 1 /* ctrl */;\n    return code == 8 || (macCtrl && code == 72) || // Backspace, Ctrl-h on Mac\n        code == 46 || (macCtrl && code == 68) || // Delete, Ctrl-d on Mac\n        code == 27 || // Esc\n        (mods == (browser.mac ? 8 /* meta */ : 1 /* ctrl */) && // Ctrl/Cmd-[biyz]\n            (code == 66 || code == 73 || code == 89 || code == 90));\n}\nhandlers.keydown = function (view, event) {\n    if (mustCapture(event))\n        event.preventDefault();\n    view.inputState.setSelectionOrigin(\"keyboard\");\n};\nhandlers.touchdown = handlers.touchmove = function (view, event) {\n    view.inputState.setSelectionOrigin(\"pointer\");\n};\nhandlers.mousedown = function (view, event) {\n    if (event.button == 0)\n        view.startMouseSelection(event, updateMouseSelection(event.detail));\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return new SelectionRange(pos);\n    }\n    else if (type == 2) { // Double click\n        return SelectionRange.groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        var context = LineContext.get(view, pos);\n        if (context)\n            return new SelectionRange(context.start + context.line.length, context.start);\n        var _a = view.state.doc.lineAt(pos), start = _a.start, end = _a.end;\n        return new SelectionRange(start, end);\n    }\n}\nfunction updateMouseSelection(type) {\n    return function (view, startSelection, startPos, startBias, curPos, curBias, extend, multiple) {\n        var range = rangeForClick(view, curPos, curBias, type);\n        if (startPos != curPos && !extend) {\n            var startRange = rangeForClick(view, startPos, startBias, type);\n            range = range.extend(Math.min(startRange.from, range.from), Math.max(startRange.to, range.to));\n        }\n        if (extend)\n            return startSelection.replaceRange(startSelection.primary.extend(range.from, range.to));\n        else if (multiple)\n            return startSelection.addRange(range);\n        else\n            return EditorSelection.create([range]);\n    };\n}\nhandlers.dragstart = function (view, event) {\n    var _a = view.state, doc = _a.doc, primary = _a.selection.primary;\n    var mouseSelection = view.inputState.mouseSelection;\n    if (mouseSelection)\n        mouseSelection.dragging = primary;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", doc.slice(primary.from, primary.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n};\nhandlers.drop = function (view, event) {\n    if (!event.dataTransfer)\n        return;\n    var dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY });\n    var text = event.dataTransfer.getData(\"Text\");\n    if (dropPos < 0 || !text)\n        return;\n    event.preventDefault();\n    var tr = view.state.transaction;\n    var mouseSelection = view.inputState.mouseSelection;\n    if (mouseSelection && mouseSelection.dragging && mouseSelection.dragMove) {\n        tr = tr.replace(mouseSelection.dragging.from, mouseSelection.dragging.to, \"\");\n        dropPos = tr.changes.mapPos(dropPos);\n    }\n    var change = new Change(dropPos, dropPos, view.state.splitLines(text));\n    tr = tr.change(change)\n        .setSelection(EditorSelection.single(dropPos, dropPos + change.length))\n        .setMeta(MetaSlot.userEvent, \"drop\");\n    view.focus();\n    view.dispatch(tr);\n};\nhandlers.paste = function (view, event) {\n    view.docView.observer.flush();\n    var data = brokenClipboardAPI ? null : event.clipboardData;\n    var text = data && data.getData(\"text/plain\");\n    if (text) {\n        doPaste(view, text);\n        event.preventDefault();\n    }\n    else {\n        capturePaste(view);\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    var doc = view.dom.ownerDocument;\n    var target = doc.body.appendChild(doc.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(function () {\n        doc.body.removeChild(target);\n        view.focus();\n    }, 50);\n}\nhandlers.copy = handlers.cut = function (view, event) {\n    var range = view.state.selection.primary;\n    if (range.empty)\n        return;\n    var data = brokenClipboardAPI ? null : event.clipboardData;\n    var text = view.state.joinLines(view.state.doc.sliceLines(range.from, range.to));\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, text);\n    }\n    if (event.type == \"cut\") {\n        view.dispatch(view.state.transaction.replaceSelection([\"\"]).scrollIntoView().setMeta(MetaSlot.userEvent, \"cut\"));\n    }\n};\nhandlers.focus = function (view) {\n    view.dom.classList.add(\"CodeMirror-focused\");\n};\nhandlers.blur = function (view) {\n    view.dom.classList.remove(\"CodeMirror-focused\");\n};\nhandlers.beforeprint = function (view) {\n    view.docView.checkLayout(true);\n};\n\nvar LINE_SEP = \"\\ufdda\"; // A Unicode 'non-character', used to denote newlines internally\nfunction applyDOMChange(view, start, end, typeOver) {\n    var change, newSel;\n    var sel = view.state.selection.primary, bounds;\n    if (start > -1 && (bounds = view.docView.domBoundsAround(start, end, 0))) {\n        var from = bounds.from, to = bounds.to;\n        var selPoints = selectionPoints(view.contentDOM), reader = new DOMReader(selPoints);\n        reader.readRange(bounds.startDOM, bounds.endDOM);\n        newSel = selectionFromPoints(selPoints, from);\n        var preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed\n        if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        var diff = findDiff(view.state.doc.slice(from, to, LINE_SEP), reader.text, preferredPos - from, preferredSide);\n        if (diff)\n            change = new Change(from + diff.from, from + diff.toA, reader.text.slice(diff.from, diff.toB).split(LINE_SEP));\n    }\n    else if (view.hasFocus()) {\n        var domSel = view.root.getSelection();\n        var head = view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n        var anchor = selectionCollapsed(domSel) ? head :\n            view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n        if (head != sel.head || anchor != sel.anchor)\n            newSel = EditorSelection.single(anchor, head);\n    }\n    if (!change && !newSel)\n        return false;\n    // Heuristic to notice typing over a selected character\n    if (!change && typeOver && !sel.empty && newSel && newSel.primary.empty)\n        change = new Change(sel.from, sel.to, view.state.doc.sliceLines(sel.from, sel.to));\n    if (change) {\n        var startState = view.state;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events.\n        if (browser.android &&\n            ((change.from == sel.from && change.to == sel.to &&\n                change.length == 1 && change.text.length == 2 &&\n                dispatchKey(view, \"Enter\", 10)) ||\n                (change.from == sel.from - 1 && change.to == sel.to && change.length == 0 &&\n                    dispatchKey(view, \"Backspace\", 8)) ||\n                (change.from == sel.from && change.to == sel.to + 1 && change.length == 0 &&\n                    dispatchKey(view, \"Delete\", 46))))\n            return view.state != startState;\n        var tr = startState.transaction;\n        if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3) {\n            var before = sel.from < change.from ? startState.doc.slice(sel.from, change.from, LINE_SEP) : \"\";\n            var after = sel.to > change.to ? startState.doc.slice(change.to, sel.to, LINE_SEP) : \"\";\n            tr = tr.replaceSelection((before + change.text.join(LINE_SEP) + after).split(LINE_SEP));\n        }\n        else {\n            tr = tr.change(change);\n            if (newSel && !tr.selection.primary.eq(newSel.primary))\n                tr = tr.setSelection(tr.selection.replaceRange(newSel.primary));\n        }\n        view.dispatch(tr.scrollIntoView());\n        return true;\n    }\n    else if (newSel && !newSel.primary.eq(sel)) {\n        var tr = view.state.transaction.setSelection(newSel);\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"keyboard\")\n                tr = tr.scrollIntoView();\n            else\n                tr = tr.setMeta(MetaSlot.userEvent, view.inputState.lastSelectionOrigin);\n        }\n        view.dispatch(tr);\n        return true;\n    }\n    return false;\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    var minLen = Math.min(a.length, b.length);\n    var from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    var toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        var adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        var move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        var move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from: from, toA: toA, toB: toB };\n}\nvar DOMReader = /** @class */ (function () {\n    function DOMReader(points) {\n        this.points = points;\n        this.text = \"\";\n    }\n    DOMReader.prototype.readRange = function (start, end) {\n        if (!start)\n            return;\n        var parent = start.parentNode;\n        for (var cur = start;;) {\n            this.findPointBefore(parent, cur);\n            this.readNode(cur);\n            var next = cur.nextSibling;\n            if (next == end)\n                break;\n            if (isBlockNode(cur) || (isBlockNode(next) && cur.nodeName != \"BR\"))\n                this.text += LINE_SEP;\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n    };\n    DOMReader.prototype.readNode = function (node) {\n        if (node.cmIgnore)\n            return;\n        var view = node.cmView;\n        var fromView = view && view.overrideDOMText;\n        var text;\n        if (fromView != null)\n            text = fromView.join(LINE_SEP);\n        else if (node.nodeType == 3)\n            text = node.nodeValue;\n        else if (node.nodeName == \"BR\")\n            text = node.nextSibling ? LINE_SEP : \"\";\n        else if (node.nodeType == 1)\n            this.readRange(node.firstChild, null);\n        if (text != null) {\n            this.findPointIn(node, text.length);\n            this.text += text;\n        }\n    };\n    DOMReader.prototype.findPointBefore = function (node, next) {\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n        }\n    };\n    DOMReader.prototype.findPointIn = function (node, maxLen) {\n        for (var _i = 0, _a = this.points; _i < _a.length; _i++) {\n            var point = _a[_i];\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, maxLen);\n        }\n    };\n    return DOMReader;\n}());\nfunction isBlockNode(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nvar DOMPoint = /** @class */ (function () {\n    function DOMPoint(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n    return DOMPoint;\n}());\nfunction selectionPoints(dom) {\n    var result = [], root = getRoot(dom);\n    if (root.activeElement != dom)\n        return result;\n    var _a = root.getSelection(), anchorNode = _a.anchorNode, anchorOffset = _a.anchorOffset, focusNode = _a.focusNode, focusOffset = _a.focusOffset;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    var anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base, head + base) : null;\n}\nfunction dispatchKey(view, name, code) {\n    var options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    var down = new KeyboardEvent(\"keydown\", options);\n    view.contentDOM.dispatchEvent(down);\n    var up = new KeyboardEvent(\"keyup\", options);\n    view.contentDOM.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\n\nvar EditorView = /** @class */ (function () {\n    function EditorView(state, dispatch) {\n        var plugins = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            plugins[_i - 2] = arguments[_i];\n        }\n        var _this = this;\n        this.pluginViews = [];\n        this.scheduledDecoUpdate = -1;\n        this.updatingState = false;\n        this.dispatch = dispatch || (function (tr) { return _this.updateState([tr], tr.apply()); });\n        this.contentDOM = document.createElement(\"pre\");\n        this.contentDOM.className = \"CodeMirror-content\";\n        this.contentDOM.style.cssText = contentCSS;\n        this.contentDOM.setAttribute(\"contenteditable\", \"true\");\n        this.contentDOM.setAttribute(\"spellcheck\", \"false\");\n        this.dom = document.createElement(\"div\");\n        this.dom.style.cssText = editorCSS;\n        this.dom.className = \"CodeMirror\";\n        this.dom.appendChild(this.contentDOM);\n        this.docView = new DocView(this.contentDOM, {\n            onDOMChange: function (start, end, typeOver) { return applyDOMChange(_this, start, end, typeOver); },\n            onUpdateState: function (prevState, transactions) {\n                for (var _i = 0, _a = _this.pluginViews; _i < _a.length; _i++) {\n                    var pluginView = _a[_i];\n                    if (pluginView.updateState)\n                        pluginView.updateState(_this, prevState, transactions);\n                }\n            },\n            onUpdateDOM: function () {\n                for (var _i = 0, _a = _this.pluginViews; _i < _a.length; _i++) {\n                    var plugin = _a[_i];\n                    if (plugin.updateDOM)\n                        plugin.updateDOM(_this);\n                }\n            },\n            onUpdateViewport: function () {\n                for (var _i = 0, _a = _this.pluginViews; _i < _a.length; _i++) {\n                    var plugin = _a[_i];\n                    if (plugin.updateViewport)\n                        plugin.updateViewport(_this);\n                }\n            },\n            getDecorations: function () { return _this.pluginViews.map(function (v) { return v.decorations || Decoration.none; }); }\n        });\n        this.viewport = this.docView.publicViewport;\n        this.setState.apply(this, [state].concat(plugins));\n    }\n    Object.defineProperty(EditorView.prototype, \"state\", {\n        get: function () { return this._state; },\n        enumerable: true,\n        configurable: true\n    });\n    EditorView.prototype.setState = function (state) {\n        var _this = this;\n        var plugins = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            plugins[_i - 1] = arguments[_i];\n        }\n        this._state = state;\n        this.withUpdating(function () {\n            setTabSize(_this.contentDOM, state.tabSize);\n            _this.createPluginViews(plugins);\n            _this.inputState = new InputState(_this);\n            _this.docView.update(state);\n        });\n    };\n    EditorView.prototype.updateState = function (transactions, state) {\n        var _this = this;\n        if (transactions.length && transactions[0].startState != this._state)\n            throw new RangeError(\"Trying to update state with a transaction that doesn't start from the current state.\");\n        this.withUpdating(function () {\n            var prevState = _this._state;\n            _this._state = state;\n            if (transactions.some(function (tr) { return tr.getMeta(MetaSlot.changeTabSize) != undefined; }))\n                setTabSize(_this.contentDOM, state.tabSize);\n            if (state.doc != prevState.doc || transactions.some(function (tr) { return tr.selectionSet && !tr.getMeta(MetaSlot.preserveGoalColumn); }))\n                _this.inputState.goalColumns.length = 0;\n            _this.docView.update(state, prevState, transactions, transactions.some(function (tr) { return tr.scrolledIntoView; }) ? state.selection.primary.head : -1);\n            _this.inputState.update(transactions);\n        });\n    };\n    /** @internal */\n    EditorView.prototype.someProp = function (propName, f) {\n        var value = undefined;\n        for (var _i = 0, _a = this.pluginViews; _i < _a.length; _i++) {\n            var pluginView = _a[_i];\n            var prop = pluginView[propName];\n            if (prop != null && (value = f(prop)) != null)\n                break;\n        }\n        return value;\n    };\n    /** @internal */\n    EditorView.prototype.getProp = function (propName) {\n        for (var _i = 0, _a = this.pluginViews; _i < _a.length; _i++) {\n            var pluginView = _a[_i];\n            var prop = pluginView[propName];\n            if (prop != null)\n                return prop;\n        }\n        return undefined;\n    };\n    EditorView.prototype.withUpdating = function (f) {\n        if (this.updatingState)\n            throw new Error(\"Recursive calls of EditorView.updateState or EditorView.setState are not allowed\");\n        this.updatingState = true;\n        try {\n            f();\n        }\n        finally {\n            this.updatingState = false;\n        }\n    };\n    EditorView.prototype.createPluginViews = function (plugins) {\n        this.destroyPluginViews();\n        for (var _i = 0, plugins_1 = plugins; _i < plugins_1.length; _i++) {\n            var plugin = plugins_1[_i];\n            this.pluginViews.push(plugin);\n        }\n        for (var _a = 0, _b = this.state.plugins; _a < _b.length; _a++) {\n            var plugin = _b[_a];\n            if (plugin.view)\n                this.pluginViews.push(plugin.view(this));\n        }\n    };\n    EditorView.prototype.destroyPluginViews = function () {\n        for (var _i = 0, _a = this.pluginViews; _i < _a.length; _i++) {\n            var pluginView = _a[_i];\n            if (pluginView.destroy)\n                pluginView.destroy();\n        }\n        this.pluginViews.length = 0;\n    };\n    EditorView.prototype.domAtPos = function (pos) {\n        return this.docView.domFromPos(pos);\n    };\n    EditorView.prototype.heightAtPos = function (pos, top) {\n        this.docView.forceLayout();\n        return this.docView.heightAt(pos, top ? -1 : 1);\n    };\n    EditorView.prototype.lineAtHeight = function (height) {\n        this.docView.forceLayout();\n        return this.docView.lineAtHeight(height);\n    };\n    Object.defineProperty(EditorView.prototype, \"contentHeight\", {\n        get: function () {\n            return this.docView.heightMap.height + this.docView.paddingTop + this.docView.paddingBottom;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EditorView.prototype.movePos = function (start, direction, granularity, action) {\n        if (granularity === void 0) { granularity = \"character\"; }\n        if (action === void 0) { action = \"move\"; }\n        return movePos(this, start, direction, granularity, action);\n    };\n    EditorView.prototype.posAtCoords = function (coords) {\n        this.docView.forceLayout();\n        return posAtCoords(this, coords);\n    };\n    EditorView.prototype.coordsAtPos = function (pos) { return this.docView.coordsAt(pos); };\n    Object.defineProperty(EditorView.prototype, \"defaultCharacterWidth\", {\n        get: function () { return this.docView.heightOracle.charWidth; },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EditorView.prototype, \"defaultLineHeight\", {\n        get: function () { return this.docView.heightOracle.lineHeight; },\n        enumerable: true,\n        configurable: true\n    });\n    // To be used by plugin views when they update their decorations asynchronously\n    EditorView.prototype.decorationUpdate = function () {\n        var _this = this;\n        if (this.scheduledDecoUpdate < 0)\n            this.scheduledDecoUpdate = requestAnimationFrame(function () {\n                _this.scheduledDecoUpdate = -1;\n                _this.docView.update(_this.state, _this.state);\n            });\n    };\n    EditorView.prototype.startMouseSelection = function (event, update) {\n        this.focus();\n        this.inputState.startMouseSelection(this, event, update);\n    };\n    Object.defineProperty(EditorView.prototype, \"root\", {\n        get: function () {\n            return getRoot(this.dom);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EditorView.prototype.hasFocus = function () {\n        return getRoot(this.dom).activeElement == this.contentDOM;\n    };\n    EditorView.prototype.focus = function () {\n        this.docView.focus();\n    };\n    EditorView.prototype.destroy = function () {\n        this.destroyPluginViews();\n        this.inputState.destroy();\n        this.dom.remove();\n        this.docView.destroy();\n    };\n    return EditorView;\n}());\nfunction setTabSize(elt, size) {\n    elt.style.tabSize = elt.style.MozTabSize = size;\n}\nvar editorCSS = \"\\nposition: relative;\\ndisplay: flex;\\nalign-items: flex-start;\";\nvar contentCSS = \"\\nmargin: 0;\\nflex-grow: 2;\\nmin-height: 100%;\";\n\nvar mac = typeof navigator != \"undefined\" ? /Mac/.test(navigator.platform) : false;\nfunction normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    var result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    var alt, ctrl, shift, meta;\n    for (var i = 0; i < parts.length - 1; ++i) {\n        var mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (mac)\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction normalize(map) {\n    var copy = Object.create(null);\n    for (var prop in map)\n        copy[normalizeKeyName(prop)] = map[prop];\n    return copy;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\n// :: (Object)  Plugin\n// Create a keymap plugin for the given set of bindings.\n//\n// Bindings should map key names to [command](#commands)-style\n// functions, which will be called with `(EditorState, dispatch,\n// EditorView)` arguments, and should return true when they've handled\n// the key. Note that the view argument isn't part of the command\n// protocol, but can be used as an escape hatch if a binding needs to\n// directly interact with the UI.\n//\n// Key names may be strings like `\"Shift-Ctrl-Enter\"`a key\n// identifier prefixed with zero or more modifiers. Key identifiers\n// are based on the strings that can appear in\n// [`KeyEvent.key`](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key).\n// Use lowercase letters to refer to letter keys (or uppercase letters\n// if you want shift to be held). You may use `\"Space\"` as an alias\n// for the `\" \"` name.\n//\n// Modifiers can be given in any order. `Shift-` (or `s-`), `Alt-` (or\n// `a-`), `Ctrl-` (or `c-` or `Control-`) and `Cmd-` (or `m-` or\n// `Meta-`) are recognized. For characters that are created by holding\n// shift, the `Shift-` prefix is implied, and should not be added\n// explicitly.\n//\n// You can use `Mod-` as a shorthand for `Cmd-` on Mac and `Ctrl-` on\n// other platforms.\n//\n// You can add multiple keymap plugins to an editor. The order in\n// which they appear determines their precedence (the ones early in\n// the array get to dispatch first).\nfunction keymap(bindings) {\n    var keydown = keydownHandler(bindings);\n    return new Plugin({\n        view: function () {\n            return { handleDOMEvents: { keydown: keydown } };\n        }\n    });\n}\n// :: (Object)  (view: EditorView, event: dom.Event)  bool\n// Given a set of bindings (using the same format as\n// [`keymap`](#keymap.keymap), return a [keydown\n// handler](#view.EditorProps.handleKeyDown) handles them.\nfunction keydownHandler(bindings) {\n    var map = normalize(bindings);\n    return function (view, event) {\n        var name = w3cKeyname.keyName(event), isChar = name.length == 1 && name != \" \";\n        var direct = map[modifiers(name, event, !isChar)];\n        var baseName;\n        if (direct && direct(view))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey) &&\n            (baseName = w3cKeyname.base[event.keyCode]) && baseName != name) {\n            var fromCode = map[modifiers(baseName, event, true)];\n            if (fromCode && fromCode(view))\n                return true;\n        }\n        return false;\n    };\n}\n\nvar Item = /** @class */ (function () {\n    function Item(map, inverted, selection) {\n        if (inverted === void 0) { inverted = null; }\n        if (selection === void 0) { selection = null; }\n        this.map = map;\n        this.inverted = inverted;\n        this.selection = selection;\n    }\n    Object.defineProperty(Item.prototype, \"isChange\", {\n        get: function () { return this.inverted != null; },\n        enumerable: true,\n        configurable: true\n    });\n    return Item;\n}());\nfunction updateBranch(branch, to, maxLen, newItem) {\n    var start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;\n    var newBranch = branch.slice(start, to);\n    newBranch.push(newItem);\n    return newBranch;\n}\nfunction isAdjacent(prev, cur) {\n    return !!prev && cur.from <= prev.mapPos(prev.to, 1) && cur.to >= prev.mapPos(prev.from);\n}\nfunction addChanges(branch, changes, inverted, selectionBefore, maxLen, mayMerge) {\n    if (branch.length) {\n        var lastItem = branch[branch.length - 1];\n        if (lastItem.selection && lastItem.isChange == Boolean(inverted) && mayMerge(lastItem))\n            return inverted ? updateBranch(branch, branch.length - 1, maxLen, new Item(lastItem.map.appendSet(changes.desc), inverted.appendSet(lastItem.inverted), selectionBefore)) : branch;\n    }\n    return updateBranch(branch, branch.length, maxLen, new Item(changes.desc, inverted, selectionBefore));\n}\nfunction popChanges(branch, only) {\n    var map = null;\n    var idx = branch.length - 1;\n    for (;; idx--) {\n        if (idx < 0)\n            throw new RangeError(\"popChanges called on empty branch\");\n        var entry = branch[idx];\n        if (entry.isChange || (only == 1 /* Any */ && entry.selection))\n            break;\n        map = map ? entry.map.appendSet(map) : entry.map;\n    }\n    var changeItem = branch[idx];\n    var newBranch = branch.slice(0, idx), changes = changeItem.inverted || ChangeSet.empty, selection = changeItem.selection;\n    if (map) {\n        var startIndex = changeItem.map.length;\n        map = changeItem.map.appendSet(map);\n        var mappedChanges = [];\n        for (var i = 0; i < changes.length; i++) {\n            var mapped = changes.changes[i].map(map.partialMapping(startIndex - i));\n            if (mapped) {\n                map = map.append(mapped.desc);\n                mappedChanges.push(mapped);\n            }\n        }\n        newBranch.push(new Item(map));\n        changes = new ChangeSet(mappedChanges); // FIXME preserve mirror data?\n        selection = selection.map(map);\n    }\n    return { changes: changes, branch: newBranch, selection: selection };\n}\nfunction nope() { return false; }\nfunction eqSelectionShape(a, b) {\n    return a.ranges.length == b.ranges.length &&\n        a.ranges.filter(function (r, i) { return r.empty != b.ranges[i].empty; }).length === 0;\n}\nvar HistoryState = /** @class */ (function () {\n    function HistoryState(done, undone, prevTime, prevUserEvent) {\n        if (prevTime === void 0) { prevTime = null; }\n        if (prevUserEvent === void 0) { prevUserEvent = undefined; }\n        this.done = done;\n        this.undone = undone;\n        this.prevTime = prevTime;\n        this.prevUserEvent = prevUserEvent;\n    }\n    HistoryState.prototype.resetTime = function () {\n        return new HistoryState(this.done, this.undone);\n    };\n    HistoryState.prototype.addChanges = function (changes, inverted, selection, time, userEvent, newGroupDelay, maxLen) {\n        var mayMerge = nope;\n        if (this.prevTime !== null && time - this.prevTime < newGroupDelay &&\n            (inverted || (this.prevUserEvent == userEvent && userEvent == \"keyboard\")))\n            mayMerge = inverted\n                ? function (prev) { return isAdjacent(prev.map.changes[prev.map.length - 1], changes.changes[0]); }\n                : function (prev) { return eqSelectionShape(prev.selection, selection); };\n        return new HistoryState(addChanges(this.done, changes, inverted, selection, maxLen, mayMerge), this.undone, time, userEvent);\n    };\n    HistoryState.prototype.addMapping = function (map, maxLen) {\n        if (this.done.length == 0)\n            return this;\n        return new HistoryState(updateBranch(this.done, this.done.length, maxLen, new Item(map)), this.undone);\n    };\n    HistoryState.prototype.canPop = function (done, only) {\n        var target = done == 0 /* Done */ ? this.done : this.undone;\n        for (var _i = 0, target_1 = target; _i < target_1.length; _i++) {\n            var _a = target_1[_i], isChange = _a.isChange, selection = _a.selection;\n            if (isChange || (only == 1 /* Any */ && selection))\n                return true;\n        }\n        return false;\n    };\n    HistoryState.prototype.pop = function (done, only, transaction, maxLen) {\n        var _a = popChanges(done == 0 /* Done */ ? this.done : this.undone, only), changes = _a.changes, branch = _a.branch, selection = _a.selection;\n        var oldSelection = transaction.selection;\n        for (var _i = 0, _b = changes.changes; _i < _b.length; _i++) {\n            var change = _b[_i];\n            transaction = transaction.change(change);\n        }\n        transaction = transaction.setSelection(selection);\n        var otherBranch = (done == 0 /* Done */ ? this.undone : this.done);\n        otherBranch = addChanges(otherBranch, transaction.changes, transaction.changes.length > 0 ? transaction.invertedChanges() : null, oldSelection, maxLen, nope);\n        return { transaction: transaction, state: new HistoryState(done == 0 /* Done */ ? branch : otherBranch, done == 0 /* Done */ ? otherBranch : branch) };\n    };\n    HistoryState.prototype.eventCount = function (done, only) {\n        var count = 0, branch = done == 0 /* Done */ ? this.done : this.undone;\n        for (var _i = 0, branch_1 = branch; _i < branch_1.length; _i++) {\n            var _a = branch_1[_i], isChange = _a.isChange, selection = _a.selection;\n            if (isChange || (only == 1 /* Any */ && selection))\n                ++count;\n        }\n        return count;\n    };\n    HistoryState.empty = new HistoryState([], []);\n    return HistoryState;\n}());\n\nvar historyStateSlot = new MetaSlot(\"historyState\");\nvar closeHistorySlot = new MetaSlot(\"historyClose\");\nvar historyField = new StateField({\n    init: function (editorState) {\n        return HistoryState.empty;\n    },\n    apply: function (tr, state, editorState) {\n        var fromMeta = tr.getMeta(historyStateSlot);\n        if (fromMeta)\n            return fromMeta;\n        if (tr.getMeta(closeHistorySlot))\n            state = state.resetTime();\n        if (!tr.changes.length && !tr.selectionSet)\n            return state;\n        var _a = editorState.getPluginWithField(historyField).config, newGroupDelay = _a.newGroupDelay, minDepth = _a.minDepth;\n        if (tr.getMeta(MetaSlot.addToHistory) !== false)\n            return state.addChanges(tr.changes, tr.changes.length ? tr.invertedChanges() : null, tr.startState.selection, tr.getMeta(MetaSlot.time), tr.getMeta(MetaSlot.userEvent), newGroupDelay, minDepth);\n        return state.addMapping(tr.changes.desc, minDepth);\n    },\n    debugName: \"historyState\"\n});\nfunction history(_a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.minDepth, minDepth = _c === void 0 ? 100 : _c, _d = _b.newGroupDelay, newGroupDelay = _d === void 0 ? 500 : _d;\n    return new Plugin({\n        state: historyField,\n        config: { minDepth: minDepth, newGroupDelay: newGroupDelay }\n    });\n}\nfunction historyCmd(target, only, state, dispatch) {\n    var historyState = state.getField(historyField);\n    if (!historyState || !historyState.canPop(target, only))\n        return false;\n    var minDepth = state.getPluginWithField(historyField).config.minDepth;\n    var _a = historyState.pop(target, only, state.transaction, minDepth), transaction = _a.transaction, newState = _a.state;\n    dispatch(transaction.setMeta(historyStateSlot, newState));\n    return true;\n}\nfunction undo(_a) {\n    var state = _a.state, dispatch = _a.dispatch;\n    return historyCmd(0 /* Done */, 0 /* OnlyChanges */, state, dispatch);\n}\nfunction redo(_a) {\n    var state = _a.state, dispatch = _a.dispatch;\n    return historyCmd(1 /* Undone */, 0 /* OnlyChanges */, state, dispatch);\n}\nfunction undoSelection(_a) {\n    var state = _a.state, dispatch = _a.dispatch;\n    return historyCmd(0 /* Done */, 1 /* Any */, state, dispatch);\n}\nfunction redoSelection(_a) {\n    var state = _a.state, dispatch = _a.dispatch;\n    return historyCmd(1 /* Undone */, 1 /* Any */, state, dispatch);\n}\n\nfunction gutter(config) {\n    if (config === void 0) { config = {}; }\n    return new Plugin({\n        view: function (view) { return new GutterView(view, config); }\n    });\n}\nvar GutterView = /** @class */ (function () {\n    function GutterView(view, config) {\n        this.spaceAbove = 0;\n        this.lines = [];\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"CodeMirror-gutter\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.dom.style.cssText = \"left: 0; box-sizing: border-box; height: 100%; overflow: hidden; flex-shrink: 0;\";\n        if (config.fixed !== false) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        view.dom.insertBefore(this.dom, view.contentDOM);\n        this.formatNumber = config.formatNumber || String;\n        this.lastLine = new GutterLine(1, 0, 0, 0, this.formatNumber);\n        this.lastLine.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        this.dom.appendChild(this.lastLine.dom);\n        this.updateDOM(view);\n    }\n    GutterView.prototype.updateDOM = function (view) {\n        // Create the first number consisting of all 9s that is at least\n        // as big as the line count, and put that in this.lastLine to make\n        // sure the gutter width is stable\n        var last = 9;\n        while (last < view.state.doc.lines)\n            last = last * 10 + 9;\n        this.lastLine.update(last, 0, 0, 0, this.formatNumber);\n        // FIXME would be nice to be able to recognize updates that didn't redraw\n        this.updateGutter(view);\n    };\n    GutterView.prototype.updateGutter = function (view) {\n        var _this = this;\n        var spaceAbove = view.heightAtPos(view.viewport.from, true);\n        if (spaceAbove != this.spaceAbove) {\n            this.spaceAbove = spaceAbove;\n            this.dom.style.paddingTop = spaceAbove + \"px\";\n        }\n        var i = 0, lineNo = -1;\n        view.viewport.forEachLine(function (line) {\n            var above = line.textTop, below = line.height - line.textBottom, height = line.height - above - below;\n            if (lineNo < 0)\n                lineNo = view.state.doc.lineAt(line.start).number;\n            if (i == _this.lines.length) {\n                var newLine = new GutterLine(lineNo, height, above, below, _this.formatNumber);\n                _this.lines.push(newLine);\n                _this.dom.appendChild(newLine.dom);\n            }\n            else {\n                _this.lines[i].update(lineNo, height, above, below, _this.formatNumber);\n            }\n            lineNo = line.hasCollapsedRanges ? -1 : lineNo + 1;\n            i++;\n        });\n        while (this.lines.length > i)\n            this.dom.removeChild(this.lines.pop().dom);\n        this.dom.style.minHeight = view.contentHeight + \"px\";\n    };\n    GutterView.prototype.destroy = function () {\n        this.dom.remove();\n    };\n    return GutterView;\n}());\nvar GutterLine = /** @class */ (function () {\n    function GutterLine(lineNo, height, above, below, formatNo) {\n        this.lineNo = -1;\n        this.height = -1;\n        this.above = -1;\n        this.below = -1;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"CodeMirror-gutter-element\";\n        this.update(lineNo, height, above, below, formatNo);\n    }\n    GutterLine.prototype.update = function (lineNo, height, above, below, formatNo) {\n        if (this.lineNo != lineNo)\n            this.dom.textContent = formatNo(this.lineNo = lineNo);\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) + \"px\";\n        if (this.below != below)\n            this.dom.style.marginBottom = (this.below = below) + \"px\";\n    };\n    return GutterLine;\n}());\n\nfunction moveSelection(view, dir, granularity) {\n    var transaction = view.state.transaction.mapRanges(function (range) {\n        if (!range.empty && granularity != \"lineboundary\")\n            return new SelectionRange(dir == \"left\" || dir == \"backward\" ? range.from : range.to);\n        return new SelectionRange(view.movePos(range.head, dir, granularity, \"move\"));\n    });\n    if (transaction.selection.eq(view.state.selection))\n        return false;\n    if (granularity == \"line\")\n        transaction = transaction.setMeta(MetaSlot.preserveGoalColumn, true);\n    view.dispatch(transaction.scrollIntoView());\n    return true;\n}\nvar moveCharLeft = function (view) { return moveSelection(view, \"left\", \"character\"); };\nvar moveCharRight = function (view) { return moveSelection(view, \"right\", \"character\"); };\nvar moveWordLeft = function (view) { return moveSelection(view, \"left\", \"word\"); };\nvar moveWordRight = function (view) { return moveSelection(view, \"right\", \"word\"); };\nvar moveLineUp = function (view) { return moveSelection(view, \"backward\", \"line\"); };\nvar moveLineDown = function (view) { return moveSelection(view, \"forward\", \"line\"); };\nvar moveLineStart = function (view) { return moveSelection(view, \"backward\", \"lineboundary\"); };\nvar moveLineEnd = function (view) { return moveSelection(view, \"forward\", \"lineboundary\"); };\nfunction extendSelection(view, dir, granularity) {\n    var transaction = view.state.transaction.mapRanges(function (range) {\n        return new SelectionRange(range.anchor, view.movePos(range.head, dir, granularity, \"extend\"));\n    });\n    if (transaction.selection.eq(view.state.selection))\n        return false;\n    if (granularity == \"line\")\n        transaction = transaction.setMeta(MetaSlot.preserveGoalColumn, true);\n    view.dispatch(transaction.scrollIntoView());\n    return true;\n}\nvar extendCharLeft = function (view) { return extendSelection(view, \"left\", \"character\"); };\nvar extendCharRight = function (view) { return extendSelection(view, \"right\", \"character\"); };\nvar extendWordLeft = function (view) { return extendSelection(view, \"left\", \"word\"); };\nvar extendWordRight = function (view) { return extendSelection(view, \"right\", \"word\"); };\nvar extendLineUp = function (view) { return extendSelection(view, \"backward\", \"line\"); };\nvar extendLineDown = function (view) { return extendSelection(view, \"forward\", \"line\"); };\nvar extendLineStart = function (view) { return extendSelection(view, \"backward\", \"lineboundary\"); };\nvar extendLineEnd = function (view) { return extendSelection(view, \"forward\", \"lineboundary\"); };\nvar selectDocStart = function (_a) {\n    var state = _a.state, dispatch = _a.dispatch;\n    dispatch(state.transaction.setSelection(EditorSelection.single(0)).scrollIntoView());\n    return true;\n};\nvar selectDocEnd = function (_a) {\n    var state = _a.state, dispatch = _a.dispatch;\n    dispatch(state.transaction.setSelection(EditorSelection.single(state.doc.length)).scrollIntoView());\n    return true;\n};\nvar selectAll = function (_a) {\n    var state = _a.state, dispatch = _a.dispatch;\n    dispatch(state.transaction.setSelection(EditorSelection.single(0, state.doc.length)));\n    return true;\n};\nfunction deleteText(view, dir) {\n    var transaction = view.state.transaction.reduceRanges(function (transaction, range) {\n        var from = range.from, to = range.to;\n        if (from == to) {\n            var target = view.movePos(range.head, dir, \"character\", \"move\");\n            from = Math.min(from, target);\n            to = Math.max(to, target);\n        }\n        if (from == to)\n            return { transaction: transaction, range: range };\n        return { transaction: transaction.replace(from, to, \"\"),\n            range: new SelectionRange(from) };\n    });\n    if (!transaction.docChanged)\n        return false;\n    view.dispatch(transaction.scrollIntoView());\n    return true;\n}\nvar deleteCharBackward = function (view) { return deleteText(view, \"backward\"); };\nvar deleteCharForward = function (view) { return deleteText(view, \"forward\"); };\nvar pcBaseKeymap = {\n    \"ArrowLeft\": moveCharLeft,\n    \"ArrowRight\": moveCharRight,\n    \"Shift-ArrowLeft\": extendCharLeft,\n    \"Shift-ArrowRight\": extendCharRight,\n    \"Mod-ArrowLeft\": moveWordLeft,\n    \"Mod-ArrowRight\": moveWordRight,\n    \"Shift-Mod-ArrowLeft\": extendWordLeft,\n    \"Shift-Mod-ArrowRight\": extendWordRight,\n    \"ArrowUp\": moveLineUp,\n    \"ArrowDown\": moveLineDown,\n    \"Shift-ArrowUp\": extendLineUp,\n    \"Shift-ArrowDown\": extendLineDown,\n    \"Home\": moveLineStart,\n    \"End\": moveLineEnd,\n    \"Shift-Home\": extendLineStart,\n    \"Shift-End\": extendLineEnd,\n    \"Mod-Home\": selectDocStart,\n    \"Mod-End\": selectDocEnd,\n    \"Mod-a\": selectAll,\n    \"Backspace\": deleteCharBackward,\n    \"Delete\": deleteCharForward\n};\nvar macBaseKeymap = {\n    \"Control-b\": moveCharLeft,\n    \"Control-f\": moveCharRight,\n    \"Shift-Control-b\": extendCharLeft,\n    \"Shift-Control-f\": extendCharRight,\n    \"Control-p\": moveLineUp,\n    \"Control-n\": moveLineDown,\n    \"Shift-Control-p\": extendLineUp,\n    \"Shift-Control-n\": extendLineDown,\n    \"Control-a\": moveLineStart,\n    \"Control-e\": moveLineEnd,\n    \"Shift-Control-a\": extendLineStart,\n    \"Shift-Control-e\": extendLineEnd,\n    \"Cmd-ArrowUp\": selectDocStart,\n    \"Cmd-ArrowDown\": selectDocEnd,\n    \"Control-d\": deleteCharForward,\n    \"Control-h\": deleteCharBackward\n};\nfor (var key in pcBaseKeymap)\n    macBaseKeymap[key] = pcBaseKeymap[key];\nvar mac$1 = typeof navigator != \"undefined\" ? /Mac/.test(navigator.platform)\n    : typeof os != \"undefined\" ? os.platform() == \"darwin\" : false;\nvar baseKeymap = mac$1 ? macBaseKeymap : pcBaseKeymap;\n\nvar matching = { \"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\" };\nfunction getStyle(decorations, at) {\n    if (!decorations)\n        return;\n    var iter = decorations.iter();\n    var decoration;\n    while (decoration = iter.next())\n        if (decoration.from <= at && at < decoration.to)\n            return decoration.value.spec.class;\n}\nfunction findMatchingBracket(doc, decorations, where, config) {\n    if (config === void 0) { config = {}; }\n    var pos = where - 1;\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!config.afterCursor && pos >= 0 && matching[doc.slice(pos, pos + 1)]) ||\n        matching[doc.slice(++pos, pos + 1)];\n    if (!match)\n        return null;\n    var dir = match[1] == \">\" ? 1 : -1;\n    if (config.strict && (dir > 0) != (pos == where))\n        return null;\n    var style = getStyle(decorations, pos);\n    var found = scanForBracket(doc, decorations, pos + (dir > 0 ? 1 : 0), dir, style || null, config);\n    if (found == null)\n        return null;\n    return { from: pos, to: found ? found.pos : null,\n        match: found && found.ch == match.charAt(0), forward: dir > 0 };\n}\n// bracketRegex is used to specify which type of bracket to scan\n// should be a regexp, e.g. /[[\\]]/\n//\n// Note: If \"where\" is on an open bracket, then this bracket is ignored.\n//\n// Returns false when no bracket was found, null when it reached\n// maxScanDistance and gave up\nfunction scanForBracket(doc, decorations, where, dir, style, config) {\n    var maxScanDistance = config.maxScanDistance || 10000;\n    var re = config.bracketRegex || /[(){}[\\]]/;\n    var stack = [];\n    var iter = doc.iterRange(where, dir > 0 ? doc.length : 0);\n    for (var distance = 0; !iter.done && distance <= maxScanDistance;) {\n        iter.next();\n        var text = iter.value;\n        if (dir < 0)\n            distance += text.length;\n        var basePos = where + distance * dir;\n        for (var pos = dir > 0 ? 0 : text.length - 1, end = dir > 0 ? text.length : -1; pos != end; pos += dir) {\n            var ch = text.charAt(pos);\n            if (re.test(ch) && (style === undefined || getStyle(decorations, basePos + pos) == style)) {\n                var match = matching[ch];\n                if ((match.charAt(1) == \">\") == (dir > 0))\n                    stack.push(ch);\n                else if (!stack.length)\n                    return { pos: basePos + pos, ch: ch };\n                else\n                    stack.pop();\n            }\n        }\n        if (dir > 0)\n            distance += text.length;\n    }\n    return iter.done ? false : null;\n}\nfunction doMatchBrackets(state, referenceDecorations, config) {\n    var decorations = [];\n    for (var _i = 0, _a = state.selection.ranges; _i < _a.length; _i++) {\n        var range = _a[_i];\n        if (!range.empty)\n            continue;\n        var match = findMatchingBracket(state.doc, referenceDecorations, range.head, config);\n        if (!match)\n            continue;\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        decorations.push(Decoration.range(match.from, match.from + 1, { class: style }));\n        if (match.to)\n            decorations.push(Decoration.range(match.to, match.to + 1, { class: style }));\n    }\n    return Decoration.set(decorations);\n}\nfunction matchBrackets(config) {\n    if (config === void 0) { config = {}; }\n    return new Plugin({\n        view: function (v) {\n            var idx = config.decorationsPlugin && v.state.plugins.filter(function (p) { return p.view; }).indexOf(config.decorationsPlugin);\n            var decorations = Decoration.none;\n            return {\n                get decorations() { return decorations; },\n                updateState: function (v) {\n                    var refDecos = idx == undefined ? undefined : v.pluginViews[idx].decorations;\n                    decorations = doMatchBrackets(v.state, refDecos, config);\n                }\n            };\n        }\n    });\n}\n\nfunction specialChars(options) {\n    if (options === void 0) { options = {}; }\n    return new Plugin({\n        view: function (view) {\n            return new SpecialCharHighlighter(view, options);\n        }\n    });\n}\nvar JOIN_GAP = 10;\nvar SpecialCharHighlighter = /** @class */ (function () {\n    function SpecialCharHighlighter(view, options) {\n        this.view = view;\n        this.options = options;\n        this.decorations = Decoration.none;\n        this.from = 0;\n        this.to = 0;\n        this.updateForViewport();\n        this.specials = options.specialChars || SPECIALS;\n        if (options.addSpecialChars)\n            this.specials = new RegExp(this.specials.source + \"|\" + options.addSpecialChars.source, \"gu\");\n        var styles = document.body.style;\n        if (this.replaceTabs = (styles.tabSize || styles.MozTabSize) == null)\n            this.specials = new RegExp(\"\\t|\" + this.specials.source, \"gu\");\n    }\n    SpecialCharHighlighter.prototype.updateState = function (_view, _prev, transactions) {\n        var allChanges = transactions.reduce(function (ch, tr) { return ch.appendSet(tr.changes); }, ChangeSet.empty);\n        if (allChanges.length) {\n            this.decorations = this.decorations.map(allChanges);\n            this.from = allChanges.mapPos(this.from, 1);\n            this.to = allChanges.mapPos(this.to, -1);\n            this.closeHoles(allChanges.changedRanges());\n        }\n        this.updateForViewport();\n    };\n    SpecialCharHighlighter.prototype.updateViewport = function () {\n        this.updateForViewport();\n    };\n    SpecialCharHighlighter.prototype.closeHoles = function (ranges) {\n        var decorations = [], vp = this.view.viewport, replaced = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var _a = ranges[i], from = _a.fromB, to = _a.toB;\n            // Must redraw all tabs further on the line\n            if (this.replaceTabs)\n                to = this.view.state.doc.lineAt(to).end;\n            while (i < ranges.length - 1 && ranges[i + 1].fromB < to + JOIN_GAP)\n                to = Math.max(to, ranges[++i].toB);\n            // Clip to current viewport, to avoid doing work for invisible text\n            from = Math.max(vp.from, from);\n            to = Math.min(vp.to, to);\n            if (from >= to)\n                continue;\n            this.getDecorationsFor(from, to, decorations);\n            replaced.push(from, to);\n        }\n        if (decorations.length)\n            this.decorations = this.decorations.update(decorations, function (pos) {\n                for (var i = 0; i < replaced.length; i += 2)\n                    if (pos >= replaced[i] && pos < replaced[i + 1])\n                        return false;\n                return true;\n            }, replaced[0], replaced[replaced.length - 1]);\n    };\n    SpecialCharHighlighter.prototype.updateForViewport = function () {\n        var vp = this.view.viewport;\n        // Viewports match, don't do anything\n        if (this.from == vp.from && this.to == vp.to)\n            return;\n        var decorations = [];\n        if (this.from >= vp.to || this.to <= vp.from) {\n            this.getDecorationsFor(vp.from, vp.to, decorations);\n            this.decorations = Decoration.set(decorations);\n        }\n        else {\n            if (vp.from < this.from)\n                this.getDecorationsFor(vp.from, this.from, decorations);\n            if (this.to < vp.to)\n                this.getDecorationsFor(this.to, vp.to, decorations);\n            this.decorations = this.decorations.update(decorations, function (from, to) { return from >= vp.from && to <= vp.to; });\n        }\n        this.from = vp.from;\n        this.to = vp.to;\n    };\n    SpecialCharHighlighter.prototype.getDecorationsFor = function (from, to, target) {\n        var doc = this.view.state.doc;\n        for (var pos = from, cursor = doc.iterRange(from, to), m = void 0; !cursor.next().done;) {\n            if (!cursor.lineBreak) {\n                while (m = SPECIALS.exec(cursor.value)) {\n                    var code = m[0].codePointAt ? m[0].codePointAt(0) : m[0].charCodeAt(0), widget = void 0;\n                    if (code == null)\n                        continue;\n                    if (code == 9) {\n                        var line = doc.lineAt(pos + m.index);\n                        var size = this.view.state.tabSize, col = countColumn(doc.slice(line.start, pos + m.index), 0, size);\n                        widget = new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth);\n                    }\n                    else {\n                        widget = new SpecialCharWidget(this.options, code);\n                    }\n                    target.push(Decoration.range(pos + m.index, pos + m.index + m[0].length, { collapsed: widget }));\n                }\n            }\n            pos += cursor.value.length;\n        }\n    };\n    return SpecialCharHighlighter;\n}());\n// FIXME configurable\nvar SPECIALS = /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff]/gu;\nvar NAMES = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\"\n};\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeHolder(code) {\n    if (code >= 32)\n        return null;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nvar DEFAULT_PLACEHOLDER = \"\\u2022\";\nvar SpecialCharWidget = /** @class */ (function (_super) {\n    __extends(SpecialCharWidget, _super);\n    function SpecialCharWidget(options, code) {\n        var _this = _super.call(this, code) || this;\n        _this.options = options;\n        return _this;\n    }\n    SpecialCharWidget.prototype.toDOM = function () {\n        var ph = placeHolder(this.value) || DEFAULT_PLACEHOLDER;\n        var desc = \"Control character \" + (NAMES[this.value] || this.value);\n        var custom = this.options.render && this.options.render(this.value, desc, ph);\n        if (custom)\n            return custom;\n        var span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.style.color = \"red\";\n        return span;\n    };\n    SpecialCharWidget.prototype.ignoreEvent = function () { return false; };\n    return SpecialCharWidget;\n}(WidgetType));\nvar TabWidget = /** @class */ (function (_super) {\n    __extends(TabWidget, _super);\n    function TabWidget() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TabWidget.prototype.toDOM = function () {\n        var span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"CodeMirror-tab\";\n        span.style.width = this.value + \"px\";\n        return span;\n    };\n    TabWidget.prototype.ignoreEvent = function () { return false; };\n    return TabWidget;\n}(WidgetType));\n\nfunction multipleSelections() {\n    return new Plugin({\n        multipleSelections: true,\n        view: function (view) { return new MultipleSelectionView(view); }\n    });\n}\nvar CursorWidget = /** @class */ (function (_super) {\n    __extends(CursorWidget, _super);\n    function CursorWidget() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CursorWidget.prototype.toDOM = function () {\n        var span = document.createElement(\"span\");\n        span.className = \"CodeMirror-secondary-cursor\";\n        return span;\n    };\n    return CursorWidget;\n}(WidgetType));\nvar MultipleSelectionView = /** @class */ (function () {\n    function MultipleSelectionView(view) {\n        this.decorations = Decoration.none;\n        this.update(view.state);\n        this.rangeConfig = { class: \"CodeMirror-secondary-selection\" }; // FIXME configurable?\n    }\n    MultipleSelectionView.prototype.updateState = function (view, prevState) {\n        if (prevState.doc != view.state.doc || !prevState.selection.eq(view.state.selection))\n            this.update(view.state);\n    };\n    MultipleSelectionView.prototype.update = function (state) {\n        var _a = state.selection, ranges = _a.ranges, primaryIndex = _a.primaryIndex;\n        if (ranges.length == 0) {\n            this.decorations = Decoration.none;\n            return;\n        }\n        var deco = [];\n        for (var i = 0; i < ranges.length; i++)\n            if (i != primaryIndex) {\n                var range = ranges[i];\n                deco.push(range.empty ? Decoration.widget(range.from, { widget: new CursorWidget(null) })\n                    : Decoration.range(ranges[i].from, ranges[i].to, this.rangeConfig));\n            }\n        this.decorations = Decoration.set(deco);\n    };\n    return MultipleSelectionView;\n}());\n\n// Counts the column offset in a string, taking tabs into account.\n// Used mostly to find indentation.\nfunction countColumn$1(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n        end = string.search(/[^\\s\\u00a0]/);\n        if (end == -1)\n            end = string.length;\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n        var nextTab = string.indexOf(\"\\t\", i);\n        if (nextTab < 0 || nextTab >= end)\n            return n + (end - i);\n        n += nextTab - i;\n        n += tabSize - (n % tabSize);\n        i = nextTab + 1;\n    }\n}\n\n// STRING STREAM\n// Fed to the mode parsers, provides helper functions to make\n// parsers more succinct.\nvar StringStream = /** @class */ (function () {\n    function StringStream(string, tabSize, lineOracle) {\n        this.string = string;\n        this.tabSize = tabSize;\n        this.lineOracle = lineOracle;\n        this.pos = this.start = 0;\n        this.string = string;\n        this.tabSize = tabSize || 8;\n        this.lastColumnPos = this.lastColumnValue = 0;\n        this.lineStart = 0;\n        this.lineOracle = lineOracle;\n    }\n    StringStream.prototype.eol = function () { return this.pos >= this.string.length; };\n    StringStream.prototype.sol = function () { return this.pos == this.lineStart; };\n    StringStream.prototype.peek = function () { return this.string.charAt(this.pos) || undefined; };\n    StringStream.prototype.next = function () {\n        if (this.pos < this.string.length)\n            return this.string.charAt(this.pos++);\n    };\n    StringStream.prototype.eat = function (match) {\n        var ch = this.string.charAt(this.pos);\n        var ok;\n        if (typeof match == \"string\")\n            ok = ch == match;\n        else\n            ok = ch && (match instanceof RegExp ? match.test(ch) : match(ch));\n        if (ok) {\n            ++this.pos;\n            return ch;\n        }\n    };\n    StringStream.prototype.eatWhile = function (match) {\n        var start = this.pos;\n        while (this.eat(match)) { }\n        return this.pos > start;\n    };\n    StringStream.prototype.eatSpace = function () {\n        var start = this.pos;\n        while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos)))\n            ++this.pos;\n        return this.pos > start;\n    };\n    StringStream.prototype.skipToEnd = function () { this.pos = this.string.length; };\n    StringStream.prototype.skipTo = function (ch) {\n        var found = this.string.indexOf(ch, this.pos);\n        if (found > -1) {\n            this.pos = found;\n            return true;\n        }\n    };\n    StringStream.prototype.backUp = function (n) { this.pos -= n; };\n    StringStream.prototype.column = function () {\n        if (this.lastColumnPos < this.start) {\n            this.lastColumnValue = countColumn$1(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n            this.lastColumnPos = this.start;\n        }\n        return this.lastColumnValue - (this.lineStart ? countColumn$1(this.string, this.lineStart, this.tabSize) : 0);\n    };\n    StringStream.prototype.indentation = function () {\n        return countColumn$1(this.string, null, this.tabSize) -\n            (this.lineStart ? countColumn$1(this.string, this.lineStart, this.tabSize) : 0);\n    };\n    StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n        if (typeof pattern == \"string\") {\n            var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n            var substr = this.string.substr(this.pos, pattern.length);\n            if (cased(substr) == cased(pattern)) {\n                if (consume !== false)\n                    this.pos += pattern.length;\n                return true;\n            }\n            else\n                return null;\n        }\n        else {\n            var match = this.string.slice(this.pos).match(pattern);\n            if (match && match.index > 0)\n                return null;\n            if (match && consume !== false)\n                this.pos += match[0].length;\n            return match;\n        }\n    };\n    StringStream.prototype.current = function () { return this.string.slice(this.start, this.pos); };\n    StringStream.prototype.hideFirstChars = function (n, inner) {\n        this.lineStart += n;\n        try {\n            return inner();\n        }\n        finally {\n            this.lineStart -= n;\n        }\n    };\n    StringStream.prototype.lookAhead = function (n) {\n        var oracle = this.lineOracle;\n        return oracle && oracle.lookAhead(n);\n    };\n    StringStream.prototype.baseToken = function () {\n        var oracle = this.lineOracle;\n        return oracle && oracle.baseToken(this.pos);\n    };\n    return StringStream;\n}());\n\nvar StringStreamCursor = /** @class */ (function () {\n    function StringStreamCursor(text, offset, tabSize) {\n        if (tabSize === void 0) { tabSize = 4; }\n        this.offset = offset;\n        this.tabSize = tabSize;\n        this.iter = text.iterLines(offset);\n        this.curLineEnd = this.offset - 1;\n    }\n    StringStreamCursor.prototype.next = function () {\n        var _a = this.iter.next(), value = _a.value, done = _a.done;\n        if (done)\n            throw new RangeError(\"Reached end of document\");\n        var res = new StringStream(value, this.tabSize, null);\n        this.offset = this.curLineEnd + 1;\n        this.curLineEnd += value.length + 1;\n        return res;\n    };\n    return StringStreamCursor;\n}());\n\nfunction readToken(mode, stream, state) {\n    for (var i = 0; i < 10; i++) {\n        //if (inner) inner[0] = innerMode(mode, state).mode\n        var style = mode.token(stream, state);\n        if (stream.pos > stream.start)\n            return style;\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\");\n}\nfunction copyState(mode, state) {\n    if (state === true)\n        return state;\n    if (mode.copyState)\n        return mode.copyState(state);\n    var nstate = {};\n    for (var n in state) {\n        var val = state[n];\n        if (val instanceof Array)\n            val = val.concat([]);\n        nstate[n] = val;\n    }\n    return nstate;\n}\n\nvar CachedState = /** @class */ (function () {\n    function CachedState(state, pos) {\n        this.state = state;\n        this.pos = pos;\n    }\n    CachedState.prototype.copy = function (mode) { return new CachedState(copyState(mode, this.state), this.pos); };\n    return CachedState;\n}());\nvar MAX_SCAN_DIST = 20000;\nfunction cutDecoratedRange(range, at) {\n    if (!range || at <= range.from)\n        return null;\n    return { from: range.from, to: Math.min(at, range.to), decorations: range.decorations.filter(function (_a) {\n            var to = _a.to;\n            return to <= at;\n        }) };\n}\nvar StateCache = /** @class */ (function () {\n    function StateCache(states, frontier, lastDecorations) {\n        this.states = states;\n        this.frontier = frontier;\n        this.lastDecorations = lastDecorations;\n    }\n    StateCache.prototype.advanceFrontier = function (editorState, to, mode, sleepTime, maxWorkTime) {\n        var _this = this;\n        if (this.frontier >= to)\n            return Promise.reject();\n        clearTimeout(this.timeout);\n        return new Promise(function (resolve) {\n            var f = function () {\n                var endTime = +new Date + maxWorkTime;\n                do {\n                    var target = Math.min(to, _this.frontier + MAX_SCAN_DIST / 2);\n                    _this.getState(editorState, target, mode);\n                    if (_this.frontier >= to)\n                        return resolve();\n                } while (+new Date < endTime);\n                _this.timeout = setTimeout(f, sleepTime);\n            };\n            _this.timeout = setTimeout(f, sleepTime);\n        });\n    };\n    StateCache.prototype.calculateDecorations = function (editorState, from, to, mode) {\n        var state = this.getState(editorState, from, mode);\n        var cursor = new StringStreamCursor(editorState.doc, from, editorState.tabSize);\n        var states = [], decorations = [], stream = cursor.next();\n        for (var i = 0; cursor.offset + stream.start < to;) {\n            if (stream.eol()) {\n                stream = cursor.next();\n                if (++i % 5 == 0)\n                    states.push(new CachedState(copyState(mode, state), cursor.offset));\n            }\n            else {\n                var style = readToken(mode, stream, state);\n                if (style)\n                    decorations.push(Decoration.range(cursor.offset + stream.start, cursor.offset + stream.pos, { class: 'cm-' + style.replace(/ /g, ' cm-') }));\n                stream.start = stream.pos;\n            }\n        }\n        this.storeStates(from, to, states);\n        return decorations;\n    };\n    StateCache.prototype.getDecorations = function (editorState, from, to, mode) {\n        var upto = from, decorations = [];\n        if (this.lastDecorations) {\n            if (from < this.lastDecorations.from) {\n                upto = Math.min(to, this.lastDecorations.from);\n                decorations = this.calculateDecorations(editorState, from, upto, mode);\n            }\n            if (upto < to && this.lastDecorations.to > upto) {\n                upto = this.lastDecorations.to;\n                decorations = decorations.concat(this.lastDecorations.decorations);\n            }\n        }\n        if (upto < to) {\n            decorations = decorations.concat(this.calculateDecorations(editorState, upto, to, mode));\n        }\n        this.lastDecorations = { from: from, to: to, decorations: decorations };\n        return decorations;\n    };\n    StateCache.prototype.storeStates = function (from, to, states) {\n        var _a;\n        var start = this.findIndex(from), end = this.findIndex(to);\n        (_a = this.states).splice.apply(_a, [start, end - start].concat(states));\n        if (from <= this.frontier)\n            this.frontier = Math.max(this.frontier, to);\n    };\n    // Return the first index for which all cached states after it have\n    // a position >= pos\n    StateCache.prototype.findIndex = function (pos) {\n        // FIXME could be binary search\n        var i = 0;\n        while (i < this.states.length && this.states[i].pos < pos)\n            i++;\n        return i;\n    };\n    StateCache.prototype.stateBefore = function (pos, mode) {\n        if (pos > this.frontier && pos - this.frontier < MAX_SCAN_DIST)\n            pos = this.frontier;\n        var index = this.findIndex(pos);\n        if (index < this.states.length && this.states[index].pos == pos)\n            index++;\n        return index == 0 ? new CachedState(mode.startState(), 0) : this.states[index - 1].copy(mode);\n    };\n    StateCache.prototype.getState = function (editorState, pos, mode) {\n        var _a = this.stateBefore(pos, mode), statePos = _a.pos, state = _a.state;\n        if (statePos < pos - MAX_SCAN_DIST) {\n            statePos = pos;\n            state = mode.startState();\n        }\n        else if (this.lastDecorations && (statePos < this.lastDecorations.from && this.lastDecorations.from <= pos))\n            // If we are calculating a correct state for a position that is after the\n            // beginning of the cached decorations (which suggests that the cached\n            // decorations were rendered based on an approximate state), clear that cache\n            this.lastDecorations = null;\n        if (statePos < pos) {\n            var cursor = new StringStreamCursor(editorState.doc, statePos, editorState.tabSize);\n            var stream = cursor.next();\n            var start = statePos, i = 0, states = [];\n            while (statePos < pos) {\n                if (stream.eol()) {\n                    stream = cursor.next();\n                    statePos++;\n                    if (++i % 50)\n                        states.push(new CachedState(copyState(mode, state), statePos));\n                }\n                else {\n                    readToken(mode, stream, state);\n                    statePos += stream.pos - stream.start;\n                    stream.start = stream.pos;\n                }\n            }\n            this.storeStates(start, pos, states);\n        }\n        return state;\n    };\n    StateCache.prototype.apply = function (transaction) {\n        if (transaction.changes.length == 0)\n            return this;\n        var start = transaction.doc.lineAt(transaction.changes.changes.reduce(function (m, ch) { return Math.min(m, ch.from); }, 1e9)).start;\n        var states = [];\n        for (var _i = 0, _a = this.states; _i < _a.length; _i++) {\n            var cached = _a[_i];\n            var mapped = transaction.changes.mapPos(cached.pos, -1, true);\n            if (mapped > 0)\n                states.push(mapped == cached.pos ? cached : new CachedState(cached.state, mapped));\n        }\n        return new StateCache(states, Math.min(start, this.frontier), cutDecoratedRange(this.lastDecorations, start));\n    };\n    return StateCache;\n}());\nfunction legacyMode(mode, config) {\n    if (config === void 0) { config = {}; }\n    var _a = config.sleepTime, sleepTime = _a === void 0 ? 100 : _a, _b = config.maxWorkTime, maxWorkTime = _b === void 0 ? 100 : _b;\n    var field = new StateField({\n        init: function (state) { return new StateCache([], 0, null); },\n        apply: function (tr, cache) { return cache.apply(tr); },\n        debugName: \"mode\"\n    });\n    var plugin = new Plugin({\n        state: field,\n        view: function (v) {\n            var decorations = Decoration.none, from = -1, to = -1;\n            function update(v, force) {\n                var vp = v.viewport;\n                if (force || vp.from < from || vp.to > to) {\n                    (from = vp.from, to = vp.to);\n                    var stateCache = v.state.getField(field);\n                    decorations = Decoration.set(stateCache.getDecorations(v.state, from, to, mode));\n                    stateCache.advanceFrontier(v.state, from, mode, sleepTime, maxWorkTime).then(function () {\n                        update(v, true);\n                        v.decorationUpdate();\n                    }, function () { });\n                }\n            }\n            return {\n                get decorations() { return decorations; },\n                updateViewport: update,\n                updateState: function (v, p, trs) { return update(v, trs.some(function (tr) { return tr.docChanged; })); }\n            };\n        }\n    });\n    plugin.indentation = function (state, pos) {\n        if (!mode.indent)\n            return -1;\n        var modeState = state.getField(field).getState(state, pos, mode);\n        var line = state.doc.lineAt(pos);\n        return mode.indent(modeState, line.slice(0, Math.min(line.length, 100)).match(/^\\s*(.*)/)[1]);\n    };\n    return plugin;\n}\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n\nfunction javascript(config, parserConfig) {\n  var indentUnit = config.indentUnit;\n  var statementIndent = parserConfig.statementIndent;\n  var jsonldMode = parserConfig.jsonld;\n  var jsonMode = parserConfig.json || jsonldMode;\n  var isTS = parserConfig.typescript;\n  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n  // Tokenizer\n\n  var keywords = function(){\n    function kw(type) {return {type: type, style: \"keyword\"};}\n    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n    return {\n      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n      \"await\": C\n    };\n  }();\n\n  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n  function readRegexp(stream) {\n    var escaped = false, next, inSet = false;\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (next == \"/\" && !inSet) return;\n        if (next == \"[\") inSet = true;\n        else if (inSet && next == \"]\") inSet = false;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n  }\n\n  // Used as scratch variables to communicate multiple values without\n  // consing up tons of objects.\n  var type, content;\n  function ret(tp, style, cont) {\n    type = tp; content = cont;\n    return style;\n  }\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    } else if (ch == \".\" && stream.match(/^\\d+(?:[eE][+\\-]?\\d+)?/)) {\n      return ret(\"number\", \"number\");\n    } else if (ch == \".\" && stream.match(\"..\")) {\n      return ret(\"spread\", \"meta\");\n    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n      return ret(ch);\n    } else if (ch == \"=\" && stream.eat(\">\")) {\n      return ret(\"=>\", \"operator\");\n    } else if (ch == \"0\" && stream.eat(/x/i)) {\n      stream.eatWhile(/[\\da-f]/i);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"0\" && stream.eat(/o/i)) {\n      stream.eatWhile(/[0-7]/i);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"0\" && stream.eat(/b/i)) {\n      stream.eatWhile(/[01]/i);\n      return ret(\"number\", \"number\");\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^\\d*(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/);\n      return ret(\"number\", \"number\");\n    } else if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      } else if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return ret(\"comment\", \"comment\");\n      } else if (expressionAllowed(stream, state, 1)) {\n        readRegexp(stream);\n        stream.match(/^\\b(([gimyu])(?![gimyu]*\\2))+\\b/);\n        return ret(\"regexp\", \"string-2\");\n      } else {\n        stream.eat(\"=\");\n        return ret(\"operator\", \"operator\", stream.current());\n      }\n    } else if (ch == \"`\") {\n      state.tokenize = tokenQuasi;\n      return tokenQuasi(stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return ret(\"error\", \"error\");\n    } else if (isOperatorChar.test(ch)) {\n      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n        if (stream.eat(\"=\")) {\n          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\");\n        } else if (/[<>*+\\-]/.test(ch)) {\n          stream.eat(ch);\n          if (ch == \">\") stream.eat(ch);\n        }\n      }\n      return ret(\"operator\", \"operator\", stream.current());\n    } else if (wordRE.test(ch)) {\n      stream.eatWhile(wordRE);\n      var word = stream.current();\n      if (state.lastType != \".\") {\n        if (keywords.propertyIsEnumerable(word)) {\n          var kw = keywords[word];\n          return ret(kw.type, kw.style, word)\n        }\n        if (word == \"async\" && stream.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\(\\w]/, false))\n          return ret(\"async\", \"keyword\", word)\n      }\n      return ret(\"variable\", \"variable\", word)\n    }\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next;\n      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n        state.tokenize = tokenBase;\n        return ret(\"jsonld-keyword\", \"meta\");\n      }\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) break;\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (!escaped) state.tokenize = tokenBase;\n      return ret(\"string\", \"string\");\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return ret(\"comment\", \"comment\");\n  }\n\n  function tokenQuasi(stream, state) {\n    var escaped = false, next;\n    while ((next = stream.next()) != null) {\n      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      escaped = !escaped && next == \"\\\\\";\n    }\n    return ret(\"quasi\", \"string-2\", stream.current());\n  }\n\n  var brackets = \"([{}])\";\n  // This is a crude lookahead trick to try and notice that we're\n  // parsing the argument patterns for a fat-arrow function before we\n  // actually hit the arrow token. It only works if the arrow is on\n  // the same line as the arguments and there's no strange noise\n  // (comments) in between. Fallback is to only notice when we hit the\n  // arrow, and not declare the arguments as locals for the arrow\n  // body.\n  function findFatArrow(stream, state) {\n    if (state.fatArrowAt) state.fatArrowAt = null;\n    var arrow = stream.string.indexOf(\"=>\", stream.start);\n    if (arrow < 0) return;\n\n    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow));\n      if (m) arrow = m.index;\n    }\n\n    var depth = 0, sawSomething = false;\n    for (var pos = arrow - 1; pos >= 0; --pos) {\n      var ch = stream.string.charAt(pos);\n      var bracket = brackets.indexOf(ch);\n      if (bracket >= 0 && bracket < 3) {\n        if (!depth) { ++pos; break; }\n        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n      } else if (bracket >= 3 && bracket < 6) {\n        ++depth;\n      } else if (wordRE.test(ch)) {\n        sawSomething = true;\n      } else if (/[\"'\\/]/.test(ch)) {\n        return;\n      } else if (sawSomething && !depth) {\n        ++pos;\n        break;\n      }\n    }\n    if (sawSomething && !depth) state.fatArrowAt = pos;\n  }\n\n  // Parser\n\n  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true, \"regexp\": true, \"this\": true, \"jsonld-keyword\": true};\n\n  function JSLexical(indented, column, type, align, prev, info) {\n    this.indented = indented;\n    this.column = column;\n    this.type = type;\n    this.prev = prev;\n    this.info = info;\n    if (align != null) this.align = align;\n  }\n\n  function inScope(state, varname) {\n    for (var v = state.localVars; v; v = v.next)\n      if (v.name == varname) return true;\n    for (var cx = state.context; cx; cx = cx.prev) {\n      for (var v = cx.vars; v; v = v.next)\n        if (v.name == varname) return true;\n    }\n  }\n\n  function parseJS(state, style, type, content, stream) {\n    var cc = state.cc;\n    // Communicate our context to the combinators.\n    // (Less wasteful than consing up a hundred closures on every call.)\n    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n    if (!state.lexical.hasOwnProperty(\"align\"))\n      state.lexical.align = true;\n\n    while(true) {\n      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n      if (combinator(type, content)) {\n        while(cc.length && cc[cc.length - 1].lex)\n          cc.pop()();\n        if (cx.marked) return cx.marked;\n        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n        return style;\n      }\n    }\n  }\n\n  // Combinator utils\n\n  var cx = {state: null, column: null, marked: null, cc: null};\n  function pass() {\n    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n  }\n  function cont() {\n    pass.apply(null, arguments);\n    return true;\n  }\n  function register(varname) {\n    function inList(list) {\n      for (var v = list; v; v = v.next)\n        if (v.name == varname) return true;\n      return false;\n    }\n    var state = cx.state;\n    cx.marked = \"def\";\n    if (state.context) {\n      if (inList(state.localVars)) return;\n      state.localVars = {name: varname, next: state.localVars};\n    } else {\n      if (inList(state.globalVars)) return;\n      if (parserConfig.globalVars)\n        state.globalVars = {name: varname, next: state.globalVars};\n    }\n  }\n\n  function isModifier(name) {\n    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n  }\n\n  // Combinators\n\n  var defaultVars = {name: \"this\", next: {name: \"arguments\"}};\n  function pushcontext() {\n    cx.state.context = {prev: cx.state.context, vars: cx.state.localVars};\n    cx.state.localVars = defaultVars;\n  }\n  function popcontext() {\n    cx.state.localVars = cx.state.context.vars;\n    cx.state.context = cx.state.context.prev;\n  }\n  function pushlex(type, info) {\n    var result = function() {\n      var state = cx.state, indent = state.indented;\n      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n        indent = outer.indented;\n      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n    };\n    result.lex = true;\n    return result;\n  }\n  function poplex() {\n    var state = cx.state;\n    if (state.lexical.prev) {\n      if (state.lexical.type == \")\")\n        state.indented = state.lexical.indented;\n      state.lexical = state.lexical.prev;\n    }\n  }\n  poplex.lex = true;\n\n  function expect(wanted) {\n    function exp(type) {\n      if (type == wanted) return cont();\n      else if (wanted == \";\") return pass();\n      else return cont(exp);\n    }    return exp;\n  }\n\n  function statement(type, value) {\n    if (type == \"var\") return cont(pushlex(\"vardef\", value.length), vardef, expect(\";\"), poplex);\n    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n    if (type == \"debugger\") return cont(expect(\";\"));\n    if (type == \"{\") return cont(pushlex(\"}\"), block, poplex);\n    if (type == \";\") return cont();\n    if (type == \"if\") {\n      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n        cx.state.cc.pop()();\n      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n    }\n    if (type == \"function\") return cont(functiondef);\n    if (type == \"for\") return cont(pushlex(\"form\"), forspec, statement, poplex);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), className, poplex); }\n    if (type == \"variable\") {\n      if (isTS && value == \"declare\") {\n        cx.marked = \"keyword\";\n        return cont(statement)\n      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n        cx.marked = \"keyword\";\n        if (value == \"enum\") return cont(enumdef);\n        else if (value == \"type\") return cont(typeexpr, expect(\"operator\"), typeexpr, expect(\";\"));\n        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n      } else if (isTS && value == \"namespace\") {\n        cx.marked = \"keyword\";\n        return cont(pushlex(\"form\"), expression, block, poplex)\n      } else if (isTS && value == \"abstract\") {\n        cx.marked = \"keyword\";\n        return cont(statement)\n      } else {\n        return cont(pushlex(\"stat\"), maybelabel);\n      }\n    }\n    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"),\n                                      block, poplex, poplex);\n    if (type == \"case\") return cont(expression, expect(\":\"));\n    if (type == \"default\") return cont(expect(\":\"));\n    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, expect(\"(\"), funarg, expect(\")\"),\n                                     statement, poplex, popcontext);\n    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n    if (type == \"async\") return cont(statement)\n    if (value == \"@\") return cont(expression, statement)\n    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n  }\n  function expression(type, value) {\n    return expressionInner(type, value, false);\n  }\n  function expressionNoComma(type, value) {\n    return expressionInner(type, value, true);\n  }\n  function parenExpr(type) {\n    if (type != \"(\") return pass()\n    return cont(pushlex(\")\"), expression, expect(\")\"), poplex)\n  }\n  function expressionInner(type, value, noComma) {\n    if (cx.state.fatArrowAt == cx.stream.start) {\n      var body = noComma ? arrowBodyNoComma : arrowBody;\n      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n    }\n\n    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n    if (type == \"function\") return cont(functiondef, maybeop);\n    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n    if (type == \"quasi\") return pass(quasi, maybeop);\n    if (type == \"new\") return cont(maybeTarget(noComma));\n    if (type == \"import\") return cont(expression);\n    return cont();\n  }\n  function maybeexpression(type) {\n    if (type.match(/[;\\}\\)\\],]/)) return pass();\n    return pass(expression);\n  }\n\n  function maybeoperatorComma(type, value) {\n    if (type == \",\") return cont(expression);\n    return maybeoperatorNoComma(type, value, false);\n  }\n  function maybeoperatorNoComma(type, value, noComma) {\n    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n    var expr = noComma == false ? expression : expressionNoComma;\n    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n    if (type == \"operator\") {\n      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n      if (isTS && value == \"<\" && cx.stream.match(/^([^>]|<.*?>)*>\\s*\\(/, false))\n        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n      return cont(expr);\n    }\n    if (type == \"quasi\") { return pass(quasi, me); }\n    if (type == \";\") return;\n    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n    if (type == \".\") return cont(property, me);\n    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n    if (type == \"regexp\") {\n      cx.state.lastType = cx.marked = \"operator\";\n      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1);\n      return cont(expr)\n    }\n  }\n  function quasi(type, value) {\n    if (type != \"quasi\") return pass();\n    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n    return cont(expression, continueQuasi);\n  }\n  function continueQuasi(type) {\n    if (type == \"}\") {\n      cx.marked = \"string-2\";\n      cx.state.tokenize = tokenQuasi;\n      return cont(quasi);\n    }\n  }\n  function arrowBody(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expression);\n  }\n  function arrowBodyNoComma(type) {\n    findFatArrow(cx.stream, cx.state);\n    return pass(type == \"{\" ? statement : expressionNoComma);\n  }\n  function maybeTarget(noComma) {\n    return function(type) {\n      if (type == \".\") return cont(noComma ? targetNoComma : target);\n      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n      else return pass(noComma ? expressionNoComma : expression);\n    };\n  }\n  function target(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n  }\n  function targetNoComma(_, value) {\n    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n  }\n  function maybelabel(type) {\n    if (type == \":\") return cont(poplex, statement);\n    return pass(maybeoperatorComma, expect(\";\"), poplex);\n  }\n  function property(type) {\n    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n  }\n  function objprop(type, value) {\n    if (type == \"async\") {\n      cx.marked = \"property\";\n      return cont(objprop);\n    } else if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n      var m; // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n        cx.state.fatArrowAt = cx.stream.pos + m[0].length;\n      return cont(afterprop);\n    } else if (type == \"number\" || type == \"string\") {\n      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n      return cont(afterprop);\n    } else if (type == \"jsonld-keyword\") {\n      return cont(afterprop);\n    } else if (isTS && isModifier(value)) {\n      cx.marked = \"keyword\";\n      return cont(objprop)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), afterprop);\n    } else if (type == \"spread\") {\n      return cont(expressionNoComma, afterprop);\n    } else if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(objprop);\n    } else if (type == \":\") {\n      return pass(afterprop)\n    }\n  }\n  function getterSetter(type) {\n    if (type != \"variable\") return pass(afterprop);\n    cx.marked = \"property\";\n    return cont(functiondef);\n  }\n  function afterprop(type) {\n    if (type == \":\") return cont(expressionNoComma);\n    if (type == \"(\") return pass(functiondef);\n  }\n  function commasep(what, end, sep) {\n    function proceed(type, value) {\n      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n        var lex = cx.state.lexical;\n        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n        return cont(function(type, value) {\n          if (type == end || value == end) return pass()\n          return pass(what)\n        }, proceed);\n      }\n      if (type == end || value == end) return cont();\n      return cont(expect(end));\n    }\n    return function(type, value) {\n      if (type == end || value == end) return cont();\n      return pass(what, proceed);\n    };\n  }\n  function contCommasep(what, end, info) {\n    for (var i = 3; i < arguments.length; i++)\n      cx.cc.push(arguments[i]);\n    return cont(pushlex(end, info), commasep(what, end), poplex);\n  }\n  function block(type) {\n    if (type == \"}\") return cont();\n    return pass(statement, block);\n  }\n  function maybetype(type, value) {\n    if (isTS) {\n      if (type == \":\") return cont(typeexpr);\n      if (value == \"?\") return cont(maybetype);\n    }\n  }\n  function mayberettype(type) {\n    if (isTS && type == \":\") {\n      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n      else return cont(typeexpr)\n    }\n  }\n  function isKW(_, value) {\n    if (value == \"is\") {\n      cx.marked = \"keyword\";\n      return cont()\n    }\n  }\n  function typeexpr(type, value) {\n    if (value == \"keyof\" || value == \"typeof\") {\n      cx.marked = \"keyword\";\n      return cont(value == \"keyof\" ? typeexpr : expressionNoComma)\n    }\n    if (type == \"variable\" || value == \"void\") {\n      cx.marked = \"type\";\n      return cont(afterType)\n    }\n    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n    if (type == \"{\") return cont(pushlex(\"}\"), commasep(typeprop, \"}\", \",;\"), poplex, afterType)\n    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType)\n    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n  }\n  function maybeReturnType(type) {\n    if (type == \"=>\") return cont(typeexpr)\n  }\n  function typeprop(type, value) {\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(typeprop)\n    } else if (value == \"?\") {\n      return cont(typeprop)\n    } else if (type == \":\") {\n      return cont(typeexpr)\n    } else if (type == \"[\") {\n      return cont(expression, maybetype, expect(\"]\"), typeprop)\n    }\n  }\n  function typearg(type, value) {\n    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n    if (type == \":\") return cont(typeexpr)\n    return pass(typeexpr)\n  }\n  function afterType(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n    if (type == \"[\") return cont(expect(\"]\"), afterType)\n    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n  }\n  function maybeTypeArgs(_, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n  }\n  function typeparam() {\n    return pass(typeexpr, maybeTypeDefault)\n  }\n  function maybeTypeDefault(_, value) {\n    if (value == \"=\") return cont(typeexpr)\n  }\n  function vardef(_, value) {\n    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n    return pass(pattern, maybetype, maybeAssign, vardefCont);\n  }\n  function pattern(type, value) {\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n    if (type == \"variable\") { register(value); return cont(); }\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"[\") return contCommasep(pattern, \"]\");\n    if (type == \"{\") return contCommasep(proppattern, \"}\");\n  }\n  function proppattern(type, value) {\n    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n      register(value);\n      return cont(maybeAssign);\n    }\n    if (type == \"variable\") cx.marked = \"property\";\n    if (type == \"spread\") return cont(pattern);\n    if (type == \"}\") return pass();\n    return cont(expect(\":\"), pattern, maybeAssign);\n  }\n  function maybeAssign(_type, value) {\n    if (value == \"=\") return cont(expressionNoComma);\n  }\n  function vardefCont(type) {\n    if (type == \",\") return cont(vardef);\n  }\n  function maybeelse(type, value) {\n    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n  }\n  function forspec(type, value) {\n    if (value == \"await\") return cont(forspec);\n    if (type == \"(\") return cont(pushlex(\")\"), forspec1, expect(\")\"), poplex);\n  }\n  function forspec1(type) {\n    if (type == \"var\") return cont(vardef, expect(\";\"), forspec2);\n    if (type == \";\") return cont(forspec2);\n    if (type == \"variable\") return cont(formaybeinof);\n    return pass(expression, expect(\";\"), forspec2);\n  }\n  function formaybeinof(_type, value) {\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return cont(maybeoperatorComma, forspec2);\n  }\n  function forspec2(type, value) {\n    if (type == \";\") return cont(forspec3);\n    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression); }\n    return pass(expression, expect(\";\"), forspec3);\n  }\n  function forspec3(type) {\n    if (type != \")\") cont(expression);\n  }\n  function functiondef(type, value) {\n    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n    if (type == \"variable\") {register(value); return cont(functiondef);}\n    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n  }\n  function funarg(type, value) {\n    if (value == \"@\") cont(expression, funarg);\n    if (type == \"spread\") return cont(funarg);\n    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n    return pass(pattern, maybetype, maybeAssign);\n  }\n  function classExpression(type, value) {\n    // Class expressions may have an optional name.\n    if (type == \"variable\") return className(type, value);\n    return classNameAfter(type, value);\n  }\n  function className(type, value) {\n    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n  }\n  function classNameAfter(type, value) {\n    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n      if (value == \"implements\") cx.marked = \"keyword\";\n      return cont(isTS ? typeexpr : expression, classNameAfter);\n    }\n    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n  }\n  function classBody(type, value) {\n    if (type == \"async\" ||\n        (type == \"variable\" &&\n         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n         cx.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/, false))) {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \"variable\" || cx.style == \"keyword\") {\n      cx.marked = \"property\";\n      return cont(isTS ? classfield : functiondef, classBody);\n    }\n    if (type == \"[\")\n      return cont(expression, maybetype, expect(\"]\"), isTS ? classfield : functiondef, classBody)\n    if (value == \"*\") {\n      cx.marked = \"keyword\";\n      return cont(classBody);\n    }\n    if (type == \";\") return cont(classBody);\n    if (type == \"}\") return cont();\n    if (value == \"@\") return cont(expression, classBody)\n  }\n  function classfield(type, value) {\n    if (value == \"?\") return cont(classfield)\n    if (type == \":\") return cont(typeexpr, maybeAssign)\n    if (value == \"=\") return cont(expressionNoComma)\n    return pass(functiondef)\n  }\n  function afterExport(type, value) {\n    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n    return pass(statement);\n  }\n  function exportField(type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n    if (type == \"variable\") return pass(expressionNoComma, exportField);\n  }\n  function afterImport(type) {\n    if (type == \"string\") return cont();\n    if (type == \"(\") return pass(expression);\n    return pass(importSpec, maybeMoreImports, maybeFrom);\n  }\n  function importSpec(type, value) {\n    if (type == \"{\") return contCommasep(importSpec, \"}\");\n    if (type == \"variable\") register(value);\n    if (value == \"*\") cx.marked = \"keyword\";\n    return cont(maybeAs);\n  }\n  function maybeMoreImports(type) {\n    if (type == \",\") return cont(importSpec, maybeMoreImports)\n  }\n  function maybeAs(_type, value) {\n    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n  }\n  function maybeFrom(_type, value) {\n    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n  }\n  function arrayLiteral(type) {\n    if (type == \"]\") return cont();\n    return pass(commasep(expressionNoComma, \"]\"));\n  }\n  function enumdef() {\n    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n  }\n  function enummember() {\n    return pass(pattern, maybeAssign);\n  }\n\n  function isContinuedStatement(state, textAfter) {\n    return state.lastType == \"operator\" || state.lastType == \",\" ||\n      isOperatorChar.test(textAfter.charAt(0)) ||\n      /[,.]/.test(textAfter.charAt(0));\n  }\n\n  function expressionAllowed(stream, state, backUp) {\n    return state.tokenize == tokenBase &&\n      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      var state = {\n        tokenize: tokenBase,\n        lastType: \"sof\",\n        cc: [],\n        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n        localVars: parserConfig.localVars,\n        context: parserConfig.localVars && {vars: parserConfig.localVars},\n        indented: basecolumn || 0\n      };\n      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n        state.globalVars = parserConfig.globalVars;\n      return state;\n    },\n\n    token: function(stream, state) {\n      if (stream.sol()) {\n        if (!state.lexical.hasOwnProperty(\"align\"))\n          state.lexical.align = false;\n        state.indented = stream.indentation();\n        findFatArrow(stream, state);\n      }\n      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n      var style = state.tokenize(stream, state);\n      if (type == \"comment\") return style;\n      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n      return parseJS(state, style, type, content, stream);\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize == tokenComment) return -1;\n      if (state.tokenize != tokenBase) return 0;\n      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top;\n      // Kludge to prevent 'maybeelse' from blocking lexical scope pops\n      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n        var c = state.cc[i];\n        if (c == poplex) lexical = lexical.prev;\n        else if (c != maybeelse) break;\n      }\n      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n        lexical = lexical.prev;\n      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n        lexical = lexical.prev;\n      var type = lexical.type, closing = firstChar == type;\n\n      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info + 1 : 0);\n      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n      else if (type == \"form\") return lexical.indented + indentUnit;\n      else if (type == \"stat\")\n        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n      else return lexical.indented + (closing ? 0 : indentUnit);\n    },\n\n    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n    blockCommentStart: jsonMode ? null : \"/*\",\n    blockCommentEnd: jsonMode ? null : \"*/\",\n    blockCommentContinue: jsonMode ? null : \" * \",\n    lineComment: jsonMode ? null : \"//\",\n    fold: \"brace\",\n    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n    helperType: jsonMode ? \"json\" : \"javascript\",\n    jsonldMode: jsonldMode,\n    jsonMode: jsonMode,\n\n    expressionAllowed: expressionAllowed,\n\n    skipExpression: function(state) {\n      var top = state.cc[state.cc.length - 1];\n      if (top == expression || top == expressionNoComma) state.cc.pop();\n    }\n  };\n}\n\n/*\nCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\nCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\nCodeMirror.defineMIME(\"application/json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/x-json\", {name: \"javascript\", json: true});\nCodeMirror.defineMIME(\"application/ld+json\", {name: \"javascript\", jsonld: true});\nCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\nCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n*/\n\nexports.javascript = javascript;\nexports.EditorSelection = EditorSelection;\nexports.Plugin = Plugin;\nexports.StateField = StateField;\nexports.EditorState = EditorState;\nexports.Transaction = Transaction;\nexports.Change = Change;\nexports.EditorView = EditorView;\nexports.keymap = keymap;\nexports.history = history;\nexports.redo = redo;\nexports.redoSelection = redoSelection;\nexports.undo = undo;\nexports.undoSelection = undoSelection;\nexports.gutter = gutter;\nexports.baseKeymap = baseKeymap;\nexports.matchBrackets = matchBrackets;\nexports.specialChars = specialChars;\nexports.multipleSelections = multipleSelections;\nexports.legacyMode = legacyMode;\n//# sourceMappingURL=codemirror.js.map\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar codemirror6Prerelease = require('codemirror-6-prerelease');\n\nvar changeToOps = function (path, transaction) { return function (change) {\n    var ops = [];\n    var p = path.concat([change.from]);\n    // String delete\n    if (change.from !== change.to) {\n        ops.push({\n            p: p,\n            sd: transaction.startState.doc.slice(change.from, change.to)\n        });\n    }\n    // String insert\n    var joined = change.text.join('\\n');\n    if (joined.length) {\n        ops.push({\n            p: p,\n            si: joined\n        });\n    }\n    return ops;\n}; };\nvar transactionToOps = function (path, transaction) {\n    return transaction.changes.changes\n        .map(changeToOps(path, transaction))\n        .reduce(function (accumulator, ops) { return accumulator.concat(ops); }, []);\n};\n\nvar siToText = function (si) { return si.split('\\n'); };\nvar opToChange = function (transaction, op) {\n    var from = op.p[op.p.length - 1];\n    // String insert\n    if (op.si !== undefined) {\n        return transaction.change(new codemirror6Prerelease.Change(from, from, siToText(op.si)));\n    }\n    // String delete\n    if (op.sd !== undefined) {\n        return transaction.change(new codemirror6Prerelease.Change(from, from + op.sd.length, ['']));\n    }\n    throw new Error('Invalid string op.');\n};\nvar opsToTransaction = function (path, state, ops) {\n    return ops.reduce(opToChange, state.transaction);\n};\n\nvar OTState = /** @class */ (function () {\n    function OTState() {\n    }\n    return OTState;\n}());\nvar otPlugin = function (path, emitOps) { return new codemirror6Prerelease.Plugin({\n    state: new codemirror6Prerelease.StateField({\n        init: function (editorState) {\n            return new OTState();\n        },\n        apply: function (transaction, state, editorState) {\n            var ops = transactionToOps(path, transaction);\n            if (ops.length > 0) {\n                emitOps(ops);\n            }\n            return state;\n        },\n        debugName: 'otPluginState'\n    })\n}); };\n\nexports.transactionToOps = transactionToOps;\nexports.opsToTransaction = opsToTransaction;\nexports.otPlugin = otPlugin;\n//# sourceMappingURL=codemirror-ot.js.map\n","window.process = {\n\n  // Required for ShareDB client.\n  // This simple shim seems to work fine.\n  nextTick: callback => {\n    setTimeout(callback, 0);\n  },\n\n  // Used for checking environment.\n  browser: true\n};\n","import {\n  redo,\n  redoSelection,\n  undo,\n  undoSelection\n} from 'codemirror-6-prerelease';\n\nexport const historyKeymap = () => {\n  let isMac = /Mac/.test(navigator.platform);\n  return {\n    \"Mod-z\": undo,\n    \"Mod-Shift-z\": redo,\n    \"Mod-u\": view => undoSelection(view) || true,\n    [isMac ? \"Mod-Shift-u\" : \"Alt-u\"]: redoSelection,\n    \"Ctrl-y\": isMac ? undefined : redo\n  };\n};\n","import {\n  EditorView,\n  EditorSelection\n} from 'codemirror-6-prerelease';\nexport const indentationKeymap = mode => {\n  function crudeInsertNewlineAndIndent({state, dispatch}: EditorView): boolean {\n    let indentation = (mode as any).indentation(state, state.selection.primary.from)\n    if (indentation > -1)\n      dispatch(state.transaction.replaceSelection(\"\\n\" + \" \".repeat(indentation)).scrollIntoView())\n    return true\n  }\n\n  function crudeIndentLine({state, dispatch}: EditorView): boolean {\n    let cursor = state.selection.primary.head // FIXME doesn't indent multiple lines\n    let line = state.doc.lineAt(cursor), text = line.slice(0, 100)\n    let space = /^ */.exec(text)[0].length // FIXME doesn't handle tabs\n    let indentation = (mode as any).indentation(state, line.start)\n    if (indentation == -1) indentation = space\n    let tr = state.transaction.replace(line.start, line.start + space, \" \".repeat(indentation)).scrollIntoView()\n    if (cursor <= line.start + space)\n      tr = tr.setSelection(EditorSelection.single(line.start + indentation))\n    dispatch(tr)\n    return true\n  }\n  return {\n    \"Enter\": crudeInsertNewlineAndIndent,\n    \"Shift-Tab\": crudeIndentLine\n  };\n};\n","export const isBrowser = (process as any).browser;\n","import {\n  history,\n  EditorState,\n  EditorView,\n  keymap,\n  gutter,\n  baseKeymap,\n  legacyMode,\n  matchBrackets,\n  javascript\n} from 'codemirror-6-prerelease';\nimport { otPlugin } from 'codemirror-ot';\n\nimport { historyKeymap } from '../client/historyKeymap';\nimport { indentationKeymap } from '../client/indentationKeymap';\nimport { isBrowser } from './isBrowser';\n\nexport const createView = options => {\n  const {\n    path = [],\n    emitOps = () => {},\n    text = ''\n  } = options;\n\n  // TODO init doc from ShareDB data.\n  // const doc = `\"use strict\";\n  // const {readFile} = require(\"fs\");\n\n  // readFile(\"package.json\", \"utf8\", (err, data) => {\n  //   console.log(data);\n  // });`\n\n  const mode = legacyMode(javascript({ indentUnit: 2 }, {}))\n\n  let plugins = [\n    mode\n  ];\n\n  if (isBrowser) {\n    plugins = plugins.concat([\n      gutter(),\n      history(),\n      matchBrackets({decorationsPlugin: mode}),\n      keymap(historyKeymap()),\n      keymap(indentationKeymap(mode)),\n      keymap(baseKeymap),\n      otPlugin(path, emitOps)\n    ]);\n  }\n\n  const state = EditorState.create({ doc: text, plugins })\n\n  return new EditorView(state);\n};\n","export const hydrateEditor = view => {\n  const editorDiv = document.querySelector('#editor');\n  editorDiv.innerHTML = '';\n  editorDiv.appendChild(view.dom)\n};\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import * as ShareDB from 'sharedb/lib/client';\nimport WebSocket from 'reconnecting-websocket';\nimport { opsToTransaction } from 'codemirror-ot';\n\nimport './process';\nimport { createView } from '../isomorphic/demoView';\nimport { hydrateEditor } from '../isomorphic/hydrateEditor';\n\nimport '../css/noncritical.css';\nimport 'codemirror-theme-ubuntu/codemirror-ubuntu-theme.css';\n\nconst webSocketProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';\nconst webSocketUrl = webSocketProtocol + '//' + window.location.host;\nconst socket = new WebSocket(webSocketUrl, [], {\n\n  // This makes it connect immediately.\n  // Should not be required in future versions of reconnecting-websocket.\n  // https://github.com/pladaria/reconnecting-websocket/issues/91\n  minReconnectionDelay: 1\n});\n\nconst connection = new ShareDB.Connection(socket);\n\nconst doc = connection.get('examples', 'textarea');\ndoc.ingestSnapshot(window.serverRenderedData.snapshot, err => {\n  if (err) {\n    console.log(err);\n  }\n\n  const path = [];\n\n  let opsQueue = [];\n\n  const opBatchInterval = 1000;\n  setInterval(() => {\n    if(opsQueue.length) {\n      doc.submitOp(opsQueue, err => {\n        if (err) {\n          throw err;\n        }\n      });\n      opsQueue = [];\n    }\n  }, opBatchInterval);\n\n  let applyingOpTransaction = false;\n  const emitOps = ops => {\n    if (!applyingOpTransaction) {\n      opsQueue = opsQueue.concat(ops);\n    }\n  }\n  const text = doc.data;\n  const view = createView({ path, emitOps, text });\n  hydrateEditor(view);\n\n  doc.on('op', (op, originatedLocally) => {\n    if (!originatedLocally) {\n      applyingOpTransaction = true;\n      view.dispatch(opsToTransaction(path, view.state, op));\n      applyingOpTransaction = false;\n    }\n  });\n\n  doc.subscribe(err => {\n    if (err) {\n      throw err;\n    }\n  });\n});\n"],"names":["EventEmitter","require$$0","makeError","text","ShareDBError","snapshot","Snapshot","query","doc","snapshotRequest","Doc","Query","SnapshotRequest","error","codemirror6Prerelease","undo","redo","undoSelection","redoSelection","EditorSelection","legacyMode","javascript","gutter","history","matchBrackets","keymap","baseKeymap","otPlugin","EditorState","EditorView","WebSocket","connection","ShareDB.Connection","opsToTransaction"],"mappings":"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"}